{"version":3,"sources":["./connect/src/lib/database/database.service.ts","./wizdm/src/app/utils/scrolling/scrolling.module.ts","./connect/src/lib/functions/index.ts","./connect/src/lib/storage/storage-reference.ts","./emoji/src/lib/emoji-support.module.ts","./wizdm/src/app/utils/background/background.directive.ts","./emoji/src/lib/index.ts","./wizdm/src/app/app.component.ts","./wizdm/src/app/app.component.html","./connect/src/lib/database/document/index.ts","./ipinfo/src/lib/providers/iplist-cc.ts","./gtag/src/lib/gtag-factory.ts","./content/src/lib/streamer/content-streamer.service.ts","./wizdm/src/environments/common.ts","./ipinfo/src/lib/ipinfo.service.ts","./stripe/src/lib/stripe-loader.ts","./emoji/src/lib/utils/emoji-utils.ts","./connect/src/lib/storage/storage.service.ts","./connect/src/lib/database/document/document.ts","./wizdm/src/app/utils/background/background.module.ts","./connect/src/lib/storage/upload-observable.ts","./connect/src/lib/database/collection/utils.ts","./ipinfo/src/index.ts","./readme/src/index.ts","./redirect/src/index.ts","./wizdm/src/app/utils/scrolling/index.ts","./ipinfo/src/lib/ipinfo.module.ts","./ipinfo/src/lib/providers/ipinfo-io.ts","./gtag/src/lib/gtag.directive.ts","./connect/src/lib/database/collection/group.ts","./content/src/lib/router/selector-resolver.service.ts","./content/src/lib/loader/content-configurator.service.ts","./ipinfo/src/lib/providers/freegeoip-app.ts","./wizdm/src/environments/environment.ts","./wizdm/src/app/utils/platform/dark-mode/index.ts","./content/src/lib/router/content-selector.service.ts","./connect/src/lib/storage/extras/index.ts","./ipinfo/src/lib/providers/index.ts","./connect/src/lib/functions/functions.service.ts","./connect/src/lib/connect.module.ts","./content/src/lib/router/content-router.module.ts","./stripe/src/lib/stripe.module.ts","./wizdm/src/app/utils/platform/dark-mode/dark-mode.service.ts","./stripe/src/lib/stripe-caller.ts","./pipes/src/lib/interpolation/interpolation.module.ts","./connect/src/lib/database/collection/query.ts","./redirect/src/lib/redirect.module.ts","./connect/src/lib/database/document/transaction.ts","./connect/src/lib/storage/extras/storage-file.ts","./wizdm/src/app/utils/platform/index.ts","./wizdm/src/app/utils/scrolling/scroll-behavior.directive.ts","./connect/src/lib/index.ts","./connect/src/lib/storage/extras/storage-folder.ts","./content/src/lib/streamer/content.directive.ts","./connect/src/lib/auth/index.ts","./connect/src/lib/storage/storage-application.ts","./wizdm/src/environments/secrets.private.ts","./connect/src/lib/database/database-application.ts","./emoji/src/lib/image/emoji-image.directive.ts","./connect/src/lib/functions/functions.module.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./pipes/src/lib/interpolation/index.ts","./redirect/src/lib/redirect.directive.ts","./stripe/src/lib/stripe.service.ts","./emoji/src/lib/image/index.ts","./emoji/src/lib/text/index.ts","./connect/src/lib/auth/auth.module.ts","./connect/src/lib/database/counter/index.ts","./content/src/lib/router/content-resolver.ts","./pipes/src/lib/interpolation/interpolations.pipe.ts","./wizdm/src/app/utils/background/background.service.ts","./wizdm/src/app/utils/background/index.ts","./rxjs/src/lib/tap-once.ts","./connect/src/lib/database/collection/collection.ts","./connect/src/lib/storage/storage.module.ts","./connect/src/lib/database/index.ts","./emoji/src/lib/utils/index.ts","./wizdm/src/app/app.module.ts","./gtag/src/index.ts","./emoji/src/lib/text/emoji-text.module.ts","./content/src/index.ts","./readme/src/lib/readme.module.ts","./wizdm/src/app/utils/platform/has-touchscreen/index.ts","./connect/src/lib/auth/auth.service.ts","./gtag/src/lib/gtag.module.ts","./rxjs/src/index.ts","./connect/src/lib/auth/auth-guard.service.ts","./wizdm/src/app/utils/platform/has-touchscreen/has-touchscreen.ts","./connect/src/lib/database/collection/index.ts","./content/src/lib/loader/content-loader.service.ts","./connect/src/lib/database/document/utils.ts","./readme/src/lib/readme.component.ts","./readme/src/lib/readme.component.html","./rxjs/src/lib/run-in-zone.ts","./wizdm/src/app/utils/scrolling/scroll-observable.service.ts","./emoji/src/lib/image/emoji-image.module.ts","./gtag/src/lib/gtag.service.ts","./rxjs/src/lib/autocomplete.ts","./wizdm/src/main.ts","./connect/src/lib/database/counter/counter.ts","./wizdm/src/app/utils/scrolling/router-scroll.service.ts","./emoji/src/lib/utils/emoji-utils.service.ts","./connect/src/lib/database/document/batch.ts","./connect/src/lib/storage/index.ts","./stripe/src/lib/index.ts","./rxjs/src/lib/append.ts","./rxjs/src/lib/on-stable.ts","./content/src/lib/content.module.ts","./rxjs/src/lib/zone-stable.ts","./connect/src/lib/database/collection/operators.ts","./redirect/src/lib/redirect.service.ts","./emoji/src/lib/text/emoji-text.component.ts","./emoji/src/lib/text/emoji-text.component.html","./ipinfo/src/lib/providers/geojs-io.ts","./$_lazy_route_resource lazy namespace object","./connect/src/lib/database/database.module.ts"],"names":[],"mappings":"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AV,aAAS,oEAAT,YAAQ,oFAAR,uBAER;;;;;;;;;;;;;;;;;ACpBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACL;AACtB;;AAKrB,MAAM,eAAe;IAE1B,YAAqC,GAAgB;QAEnD,IAAG,CAAC,GAAG,EAAE;YAAE,MAAM,IAAI,KAAK,CAAC,uHAAuH,CAAC,CAAC;SAAE;IACxJ,CAAC;;8FALU,eAAe;wJAAf,eAAe,yDAEM,kDAAG,qBAJxB,CAAE,mEAAgB,CAAE;;;;;;;;;;;;ACNjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"main-es2015.js","sourcesContent":["import { DatabaseDocument, DatabaseTransaction, DatabaseBatch, DocumentRef } from './document'\nimport { DatabaseCollection, DatabaseGroup, CollectionRef, Query } from './collection';\nimport { Injectable, InjectionToken, Inject, Optional, NgZone } from '@angular/core';\nimport { DatabaseApplication, PersistenceSettings } from './database-application';\nimport { DistributedCounter, CounterShard } from './counter';\nimport { APP, FirebaseApp } from '@wizdm/connect';\n\nexport const PERSISTENCE_SETTINGS = new InjectionToken<PersistenceSettings>('wizdm.connect.database.persistence');\n\n@Injectable()\nexport class DatabaseService extends DatabaseApplication {\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone, @Optional() @Inject(PERSISTENCE_SETTINGS) persistence: PersistenceSettings) { \n    super(app, zone, persistence); \n  }\n\n  /**\n   * Creates and returns a DatabaseDocument object\n   * @param path the path to the collection containing the document\n   * @param id the id of the document to be retrived\n   */\n  public document<T>(path: string|DocumentRef<T>): DatabaseDocument<T> {\n    return new DatabaseDocument<T>(this, path);\n  }\n\n  /**\n   * Creates and returns a DatamaseCOllection object\n   * @param path the path to the collection\n   */\n  public collection<T>(path: string|CollectionRef<T>): DatabaseCollection<T> {\n    return new DatabaseCollection<T>(this, path);\n  }\n\n  /**\n   * Creates and returns a DatabaseGroup object\n   * @param groupId the groupId to gather the group\n   */\n  public collectionGroup<T>(groupId: string|Query<T>): DatabaseGroup<T> {\n    return new DatabaseGroup<T>(this, groupId);\n  }\n\n  /**\n   * Creates a new, or retrives and existing, distributed counter\n   * @param path the path to the distributed counter location in the database\n   * @param shards number of shards to share the counting with\n   */\n  public counter(path: string|CollectionRef<CounterShard>, shards: number = 3): DistributedCounter {\n    return new DistributedCounter(this, path, shards);\n  }\n\n  /** Returns a DatabaseBatch (wrapping firestore.WriteBatch) batch operations */\n  public batch(): DatabaseBatch {\n    return new DatabaseBatch(this, this.firestore.batch());\n  }\n\n  /** Runs a firestore.Transaction to support atomic operations */\n  public transaction<T>( updateFn: (t: DatabaseTransaction) => Promise<T> ): Promise<T> {\n    return this.firestore.runTransaction<T>( trx => updateFn( new DatabaseTransaction(this, trx) ));\n  }\n}","import { NgModule, ModuleWithProviders, Optional, Inject } from '@angular/core';\nimport { ScrollBehaviorDirective } from './scroll-behavior.directive';\nimport { ExtraOptions, ROUTER_CONFIGURATION } from '@angular/router';\nimport { ViewportScroller } from '@angular/common';\n\n@NgModule({\n  declarations: [ ScrollBehaviorDirective ],\n  exports: [ ScrollBehaviorDirective ],\n})\nexport class ScrollingModule {\n\n  constructor(scroller: ViewportScroller) {\n    // we want to disable the automatic scrolling because having two places\n    // responsible for scrolling results race conditions, especially given\n    // that browser don't implement this behavior consistently\n    scroller.setHistoryScrollRestoration('manual');\n  }\n\n  static init(config: ExtraOptions): ModuleWithProviders<ScrollingModule> {\n\n    return {\n      ngModule: ScrollingModule,\n      providers: [ { provide: ROUTER_CONFIGURATION, useFactory: () => {\n\n        // Disables default router scolling to avoid racing conditions\n        const scrollPositionRestoration = 'disabled';\n        const anchorScrolling = 'disabled';\n\n        return { ...config, scrollPositionRestoration, anchorScrolling };\n      }}]\n    }\n  }\n }\n","export * from './functions.service';\nexport * from './functions.module';","import { StorageApplication, StorageRef, SettableMetadata, UploadMetadata, ListResult, ListOptions, StringFormat } from './storage-application';\nimport { UploadObservable } from './upload-observable';\nimport { Observable, defer } from 'rxjs';\n\n/** Wraps the irebase Storage Reference to include Observable functionalities */\nexport class StorageReference {\n\n  /** Firebase Storage Reference */\n  public ref: StorageRef; \n\n  constructor(readonly st: StorageApplication, path?: string|StorageRef) {\n    this.from(path);\n  }\n\n  /** Applies the given reference to this object */\n  public from(path: string|StorageRef): StorageRef {\n    return this.ref = this.st.ref(path);\n  }\n\n  /** Returns the bucket name */\n  public get bucket(): string { return this.ref.bucket; }\n\n  /** Returns the file name */\n  public get name(): string { return this.ref.name; }\n\n  /** Returns the file's full path */\n  public get fullPath(): string { return this.ref.fullPath; }\n\n   /** Returns a child StorageReference object */\n  public root(path: string): StorageReference { \n    return this.st.reference(this.ref.root); \n  }\n\n   /** Returns a child StorageReference object */\n  public parent(path: string): StorageReference { \n    return this.st.reference(this.ref.parent); \n  }\n\n  /** Returns a child StorageReference object */\n  public child(path: string): StorageReference { \n    return this.st.reference(this.ref.child(path)); \n  }\n\n  //-- Reverts back to the original Primise-based storage API\n\n  /** Returns the URL to download the file from */\n  public getDownloadURL(): Promise<string> { \n    return this.ref.getDownloadURL();\n  }\n\n  /** Returns the file Metadata */\n  public getMetadata(): Promise<UploadMetadata>{ \n    return this.ref.getMetadata();\n  }\n  \n  /** Updates the file Metadata */\n  public updateMetadata(meta: SettableMetadata): Promise<any> { \n    return this.ref.updateMetadata(meta); \n  }\n\n  /** Deletes the file from the storage */\n  public delete(): Promise<void> { \n    return this.ref.delete();\n  }\n  \n  /** Lists the items (files) and prefixes (folders) up to the maximum number optionally expressed in options */\n  public list(options?: ListOptions): Observable<ListResult> {\n    return defer( () => this.ref.list(options) );\n  }\n\n  /** List all the files and folders */\n  public listAll(): Observable<ListResult> {\n    return defer( () => this.ref.listAll() );\n  }\n\n  //-- Wraps uploading functionalities with UploadObservable cold observable\n\n  /** Returns an UploadTask cold observable for binary data. Upload process will start upon subscription. */\n  public put(data: Blob|Uint8Array|ArrayBuffer, metadata?: UploadMetadata): UploadObservable {\n    return new UploadObservable( () => this.ref.put(data, metadata), this.st.zone );\n  }\n\n  /** Returns an UploadObservable cold observable text encoded data. Upload process will start upon subscription. */\n  public putString(data: string, format?: StringFormat, metadata?: UploadMetadata): UploadObservable {\n    return new UploadObservable( () => this.ref.putString(data, format, metadata), this.st.zone );\n  }\n} ","import { EmojiUtils, EmojiConfig, EmojiConfigToken } from '@wizdm/emoji/utils';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\n\n@NgModule({\n  imports: [ ],\n  providers: [ EmojiUtils ]\n})\nexport class EmojiSupportModule { \n\n   static init(config: EmojiConfig): ModuleWithProviders<EmojiSupportModule> {\n    return {\n      ngModule: EmojiSupportModule,\n      providers: [\n        { provide: EmojiConfigToken, useValue: config }\n      ]\n    };\n  } \n}","import { Directive, Input, OnChanges, OnDestroy } from '@angular/core';\nimport { BackgroundObservable } from './background.service';\n\n/** Background styling directive. Use this directive withing the page to apply the given style to the parent navigator's background */\n@Directive({\n  selector: 'wm-background'\n})\nexport class BackgroundDirective implements OnChanges, OnDestroy {\n\n  private _image;\n\n  constructor(private background: BackgroundObservable) {}\n  \n  /** Sets whether a background image's position is fixed within the viewport, or scrolls with its containing block.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-attachment} */\n  @Input() attachment: string;\n\n  /** Sets whether an element's background extends underneath its border box, padding box, or content box.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-clip} */\n  @Input() clip: string;\n\n  /** Sets the background color. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-color} */\n  @Input() color: string;\n\n  /** Sets the background's origin: from the border start, inside the border, or inside the padding.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-origin} */\n  @Input() origin: string;\n\n  /** Sets the initial position for each background image. The position is relative to the position layer set by origin. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-position} */\n  @Input() position: string;\n\n  /** Sets how background images are repeated. A background image can be repeated along the horizontal and vertical axes, or not repeated at all. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-repeat} */\n  @Input() repeat: string;\n\n  /** Sets the size of the background image. The image can be left to its natural size, stretched, or constrained to fit the available space. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-size} */\n  @Input() size: string;\n\n  /** Sets one or more background images. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-image} */\n  @Input() image: string;\n\n  /** Sets the backgrpund image from an url. */\n  @Input() url: string;\n\n  // Applies back the collected properties to the Navigator's background via the service.\n  ngOnChanges() {\n\n    // Computes the image as requeste\n    const image = this.image || this.url && 'url(' + this.url + ')';\n\n    if(!image) { this._image && this.background.clearBackground(this._image); }\n    else {\n\n      this.background.applyBackground({\n        \"background-image\": image,\n        \"backgroung-clip\": this.clip,\n        \"background-size\": this.size,\n        \"background-color\": this.color,\n        \"background-repeat\": this.repeat,\n        \"background-origin\": this.origin,\n        \"background-position\": this.position,\n        \"background-attachment\": this.attachment\n      });\n    }\n\n    // Keeps track of the active image\n    this._image = image;\n  }\n\n  // Clears the background when disposed\n  ngOnDestroy() { this.background.clearBackground(this._image); }\n}\n","export * from './emoji-support.module';\n\n","import { Component, OnDestroy, ViewEncapsulation, ElementRef, KeyValueDiffers, Renderer2 } from '@angular/core';\nimport { filter, map, startWith, distinctUntilChanged, takeWhile } from 'rxjs/operators';\nimport { trigger, animate, style, transition } from '@angular/animations';\nimport { Router, ResolveStart, NavigationEnd } from '@angular/router';\nimport { BackgroundObservable } from 'app/utils/background';\nimport { DarkModeObserver } from 'app/utils/platform';\nimport { Observable, Subscription } from 'rxjs';\nimport { NgStyle } from '@angular/common';\n\n@Component({\n  selector: 'body',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('fade', [\n      transition(':leave', [\n        animate('200ms ease-out', \n          style({ opacity: 0 })\n        )] \n      )\n    ])\n  ],\n  host: {\n    'class': 'mat-typography mat-app-background', \n    '[class.dark-mode]': 'darkMode'\n  }\n})\nexport class AppComponent extends NgStyle implements OnDestroy { \n  \n  readonly loading$: Observable<boolean>;\n  private sub: Subscription;\n  \n  public darkMode: boolean;\n\n  constructor(background$: BackgroundObservable, private darkMode$: DarkModeObserver, el: ElementRef, diffs: KeyValueDiffers, renderer: Renderer2, router: Router) {\n\n    // Builds the NgStyle directive\n    super(el, diffs, renderer);\n\n    // Applies the styles coming from BackgroundObservable\n    this.sub = background$.subscribe( styles => {\n      this.ngStyle = styles;\n    });\n\n    // Detects the dark mode, when enabled\n    this.sub.add( darkMode$.subscribe( dark => this.darkMode = dark ) );\n\n    // Uses router events to display the loading spinner\n    this.loading$ = router.events.pipe( \n      // Filters the meaningful events only\n      filter( e => e instanceof ResolveStart || e instanceof NavigationEnd ),\n      // Maps the event to the boolean value\n      map( e => e instanceof ResolveStart ),\n      // Makes sure to start properly\n      startWith(true),\n      // Filters unchanged values\n      distinctUntilChanged(),\n      // Completes when done loading\n      takeWhile( value => value, true)\n    );\n  }\n\n  // Disposes of the subscription\n  ngOnDestroy() { this.sub.unsubscribe(); }\n}\n","\n<!-- Navigator routing outlet -->\n<router-outlet></router-outlet>\n\n<!-- Loading spinner placeholder -->\n<div *ngIf=\"loading$ | async\" class=\"preloader\" @fade>\n  <div></div><div></div><div></div>\n</div>","export * from './transaction';\nexport * from './document';\nexport * from './batch';\nexport * from './types';","\r\n// @see {https://iplist.cc}\r\nexport const IP_LIST_CC = 'https://iplist.cc/api/{{ip}}';\r\n\r\nexport interface IpListCC {\r\n  ip: string;\r\n  registry: string,\r\n  countrycode: string,\r\n  countryname: string,\r\n  asn?: IpListAsn;\r\n  detail: string;\r\n  spam: boolean;\r\n  tor: boolean;\r\n}\r\n\r\nexport interface IpListAsn {\r\n  code: number;\r\n  name: string;\r\n  route: string;\r\n  start: string;\r\n  end: string;\r\n  count: number;\r\n}","import { InjectionToken } from '@angular/core';\nimport { Gtag, ConfigParams, CustomParams } from './gtag-definitions';\n\nexport interface GtagConfig {\n\n  targetId: string; // gtag('config', 'targetId', configInfo )\n  configInfo?: ConfigParams;\n  setParams?: CustomParams; // gtag('set', setParams)\n  moreIds?: string[];\n  timeout?: number;\n}\n\nexport const GtagConfigToken = new InjectionToken<GtagConfig>('wizdm.gtag.config');\n\n/** Reproduces the standard code snippet we would paste in index.html\n * @see: https://developers.google.com/analytics/devguides/collection/gtagjs */\nexport function gtagFactory(config: GtagConfig): Gtag {\n\n  if('gtag' in window) { return window['gtag']; }\n\n  const script = document.createElement('script');\n\n  script.src = 'https://www.googletagmanager.com/gtag/js?id=' + config.targetId;\n  script.type = 'text/javascript';\n  script.async = true;\n \n  document.head.appendChild(script);\n\n  (window as any).dataLayer = (window as any).dataLayer || [];\n  function gtag(...args){ (window as any).dataLayer.push(arguments);}\n\n  gtag('js', new Date());\n\n  gtag('config', config.targetId, { send_page_view: false, ...config.configInfo });\n\n  ('setParams' in config) && gtag('set', config.setParams );\n\n  ('moreIds' in config) && config.moreIds.forEach( id => gtag('config', id) );\n\n  return (window as any).gtag = gtag;\n}","import { Injectable } from '@angular/core';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\nimport { ContentLoader } from '../loader/content-loader.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n/** Streams the data content from the local ContentLoader cache */\n@Injectable()\nexport class ContentStreamer {\n\n  constructor(readonly loader: ContentLoader, readonly config: ContentConfigurator) {}\n    \n  /** The content data snapshot */\n  get data(): any { return this.loader.cache; }\n\n  /** The content data observable */\n  get data$(): Observable<any> { return this.loader.data$; }\n\n  /** The current resolved language code */\n  get language(): string { return this.data[this.config.selector]; }\n\n  /** The current language code observable */\n  get language$(): Observable<string> { return this.stream( this.config.selector ); }\n\n  /** Streams the resolved content from the route data observable */\n  public stream(selector: string = ''): Observable<any> {\n    return this.data$.pipe( map( data => this.select(selector, data) ) );\n  }\n\n  /** Parses the data content returning the selected property */\n  public select(selector: string, data: any = this.data): any {\n\n    if(selector === '') { return data; }\n\n    return selector.split('.').reduce((value, token) => {\n\n      return (value === undefined || value === null) ? value : value[token];\n    \n    }, data);\n  }\n}","import { ExtraOptions } from '@angular/router';\nimport { MatTooltipDefaultOptions } from '@angular/material/tooltip';\nimport { IpInfoConfig, IP_LIST_CC } from '@wizdm/ipinfo';\nimport { ContentConfig } from '@wizdm/content';\nimport { MarkdownConfig } from '@wizdm/markdown';\nimport { PrismLanguages } from '@wizdm/prism';\nimport { EmojiConfig } from '@wizdm/emoji/utils';\nimport { StripeElementsOptions } from '@stripe/stripe-js'\n\n// Defines global common environment variables\nexport const common = {\n  \n  // Add configuration specifics\n  production: false,\n\n  // Appliaction name\n  appname: 'wizdm',\n\n  // Content loading configuration\n  content: <ContentConfig>{\n    selector: 'lang', \n    source: 'assets/i18n',\n    supportedValues: ['en', 'it', 'ru'],\n    defaultValue: 'en'\n  },\n\n  // Universal Emoji support configuration\n  emoji: <EmojiConfig>{\n    emojiPath: 'assets/emoji',\n    emojiExt: '.png',\n    emojiMode: 'auto'\n  },\n\n  // IpInfo geo location service configuration\n  ipinfo: <IpInfoConfig>{\n    // Use iplist.cc as the provider\n    provider: IP_LIST_CC\n  },\n\n  // Main scroller configuration\n  scroll: <ExtraOptions>{ \n    // Anchor scrolling and scroll position restoration are implemented 'per page'\n    // making sure the rendering is completed prior to perform the scrolling attempt\n    scrollOffset: [0, 80]\n  },\n\n  // Global tooltip configuration\n  tooltips: <MatTooltipDefaultOptions>{\n    showDelay: 1000,\n    hideDelay: 0,\n    touchendHideDelay: 0\n  },\n\n  // Markdown rendering configuration\n  markdown: <MarkdownConfig> { \n    commonmark: true, \n    footnotes: true \n  },\n\n  // Prism syntax-highlighting extra languages\n  prism: <PrismLanguages> [ \n    \n    // Uncomment the following line to enable the universal prism-language loader\n    //{ name: '*', load: (language) => import(`prismjs/components/prism-${language}`) },\n    \n    // Enable loading only few extra languages instead\n    { name: 'scss', load: () => import('prismjs/components/prism-scss') },\n    { name: ['typescript', 'ts'], load: () => import('prismjs/components/prism-typescript') },\n    { name: ['markdown', 'md'], load: () => import('prismjs/components/prism-markdown') }\n  ],\n\n  // StripeElements styling to fit with the global theme\n  stripeElements: <StripeElementsOptions>{\n\n    fonts: [\n      { cssSrc: 'https://fonts.googleapis.com/css?family=Ubuntu:400,700' }\n    ]\n  }\n};\n","import { Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { map, tap, switchMap, catchError, shareReplay } from 'rxjs/operators';\nimport { Observable, BehaviorSubject, of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\n\nexport interface IpInfoConfig {\n\n  provider: string;\n  apiKey?: string;\n}\n\nexport const IPINFO_CONFIG = new InjectionToken<IpInfoConfig>('wizdm.ipinfo.config');\n\n/** Gets IP information form ipinfo.io */\n@Injectable()\nexport class IpInfo<T> extends Observable<T> {\n\n  // The internal ip$ subject to specify dirfferent ip to inspect\n  private ip$ = new BehaviorSubject<string>('');\n  // The inner observable making sure all subscriptions replays\n  private inner$: Observable<T>;\n\n  constructor(http: HttpClient, @Optional() @Inject(IPINFO_CONFIG) private config: IpInfoConfig) { \n    // Simply subscribes to the inner observable\n    super( subscriber => this.inner$.subscribe(subscriber) ); \n\n    // Check for a valid provider\n    if(!config || typeof(config.provider) !== 'string') {\n      throw new Error('IpConfig requires a valid provider');\n    } \n\n    // Builds the inner observable to get the ip info\n    this.inner$ = this.ip$.pipe( \n      // Maps the requested ip into the full end-point api call\n      map( ip => this.endPoint(ip, config) ),\n      // Debug\n      tap( ep => console.log(\"Requesting ip info from:\", ep) ),\n      // Queries the ipinfo.io API with the given ip preventing errors from completing the inner observable\n      switchMap( url => http.get<T>(url).pipe( catchError( e => {\n        // Reports a warning\n        console.warn(`Something went wrong while attemtping to retrive ip geolocation info from ${config?.provider}`, e);        \n        return of({} as T); \n      }))),\n      // Replays the last value to all the subscribers\n      shareReplay(1)\n    );\n  }\n\n  /** Returns the last requested IP, if any */\n  public get lastIP(): string { return this.ip$.value || ''; }\n\n  /** Checks the given IP. When null the caller IP will be inspected. */\n  public checkIP(ip?: string) {\n    this.ip$.next(ip || '');\n  }\n\n  /** Computes the endPoint api call based on the given parameters */\n  public endPoint(ip: string = this.lastIP, config: IpInfoConfig = this.config): string {\n\n    return config.provider\n      // Applies the optional ip\n      .replace(/{{\\s*ip\\s*}}/, ip || '')\n      // Applies the optional apiKey\n      .replace(/{{\\s*apiKey\\s*}}/, config.apiKey || '')\n      // Removes unwanted double slashes resulting from a missing optional segments\n      .replace(/([^:]\\/)\\//g, '$1')\n      // Removes unwanted forward slashes preceding the extension like format selection \n      .replace(/\\/\\./, '.')\n      // Removes empty query parameters resulting from missing optional parameters\n      .replace(/\\w+=(?:;|$)/g, '').replace(/\\?$/,'');\n  }\n}\n","import type { StripeConstructor } from '@stripe/stripe-js';\n\n/** Retrives the global StripeJS object  */\nexport function getStripeJS(): StripeConstructor {\n  return (!!window ? (window as any).Stripe : undefined);\n}\n\n/** Stripe.js v3 script loader. We do not use the official loader provided\n * by @stripe/stripe-js since we may need creating multiple Stripe instances\n * while connecting to multiple accounts */\nexport function loadStripeJS(): Promise<StripeConstructor> {\n\n  /** The official stripe-js link. The script must be loaded from the stripe server for PCI compliance */\n  const STRIPE_V3_URL = 'https://js.stripe.com/v3';\n\n  // Try to get the StripeJS instance first\n  const StripeJS = getStripeJS();\n\n  // Proceed in loading the script asyncronously\n  return StripeJS ? Promise.resolve( StripeJS ) : new Promise( (resolve, reject) => {\n\n    try {\n\n      // We'll be trying to get the existing script or injecting a new one\n      const findScript = () => document.querySelector<HTMLScriptElement>(`script[src^=\"${STRIPE_V3_URL}\"]`);\n      const injectScript = () => {\n\n        const script = document.createElement('script');\n        script.src = STRIPE_V3_URL;\n        script.type = 'text/javascript';\n        script.async = true;\n\n        (document.head || document.body).appendChild(script);\n\n        return script;\n      }\n\n      // Seeks for the script elementn or inject a new one\n      const script = findScript() || injectScript();\n\n      // Listens for error or completion\n      script.addEventListener('error', () => reject( new Error(\"Unable to load StripeJS\") ));\n      script.addEventListener('load', () => resolve( getStripeJS() ));\n    }\n    catch(e) { reject(e); }\n  });\n}","import { InjectionToken, inject } from '@angular/core';\nimport emojiRegexFactory from 'emoji-regex';\nimport { DOCUMENT } from '@angular/common';\n\nexport const EmojiRegex = new InjectionToken<RegExp>('wizdm-emoji-regex', {\n  providedIn: 'root',\n  factory: emojiRegexFactory\n});\n\nexport const EmojiNative = new InjectionToken<boolean>('wizdm-native-emoji-support', {\n  providedIn: 'root',\n  factory: () => checkNativeEmojiSupport( inject(DOCUMENT) )\n});\n\nfunction checkNativeEmojiSupport(document: Document): boolean {\n\n  const canvas = document.createElement('canvas');\n  if(!canvas.getContext || !canvas.getContext('2d') || typeof canvas.getContext('2d').fillText !== 'function') {\n    return false;\n  }\n\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = '32px Arial';\n  ctx.fillText('\\ud83d\\ude03', 0, 0);\n  return ctx.getImageData(16, 16, 1, 1).data[0] !== 0;\n}","import { StorageApplication, StorageRef, UploadMetadata } from './storage-application';\nimport { Injectable, Inject, NgZone } from '@angular/core';\nimport { StorageReference } from './storage-reference';\nimport { UploadObservable } from './upload-observable';\nimport { StorageFile, StorageFolder } from './extras';\nimport { APP, FirebaseApp } from '@wizdm/connect';\n\n/** Wraps the Firebase Storage as a service */\n@Injectable()\nexport class StorageService extends StorageApplication {\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone) {\n    super(app, zone);\n  }\n\n  /** Returns a reference to the storage object identified by its path */\n  public reference(path: string|StorageRef): StorageReference {\n    return new StorageReference(this, path);\n  }\n\n  /** Returns a reference to the storage object identified by its download URL */\n  public fromURL(url: string): StorageReference {\n    return new StorageReference(this, this.storage.refFromURL(url));\n  }\n\n  /** Verifies the validity of a given storage url */\n  public testURL(url: string): boolean {\n\n    // Short circuits empty and non string arguments\n    if(!url || typeof url !== 'string') { return false; }\n\n    // Tests the url\n    try { this.storage.refFromURL(url); }\n    catch(e) { return false; }\n\n    return true;\n  }\n\n  /** Shortcut to start an upload task of binary data */\n  public upload(path: string, data: Blob|Uint8Array|ArrayBuffer, metadata?: UploadMetadata): UploadObservable { \n    return this.reference(path).put(data, metadata);\n  }\n\n  /** Returns a folder object from a reference */\n  public folder(ref: string|StorageRef): StorageFolder {\n    return new StorageFolder(this, ref);\n  }\n\n  /** Returns a file object from a varaiety of references */\n  public file(ref: string|StorageRef|StorageReference|UploadObservable): StorageFile {\n    return new StorageFile( ref instanceof UploadObservable || ref instanceof StorageReference ? ref : this.reference(ref) );\n  }\n}","import { DocumentRef, DocumentSnapshot, GetOptions, ListenOptions, DocumentData } from './types';\nimport { DatabaseApplication, FieldPath } from '../database-application';\nimport { DatabaseCollection, CollectionRef } from '../collection';\nimport { DistributedCounter, CounterShard } from '../counter';\nimport { fromRef, mapSnaphotData, refReject } from './utils';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n/** Document object in the database, created by the DatabaseService */\nexport class DatabaseDocument<T extends DocumentData> {\n\n   /** The internal document reference */\n  public ref: DocumentRef<T>;\n\n  constructor(readonly db: DatabaseApplication, pathOrRef?: string|DocumentRef<T>) {\n    this.ref = db.doc(pathOrRef);\n  }\n\n  /** Unwraps a document snapshot assuming its reference and returning the data content */\n  public unwrap(snapshot: DocumentSnapshot<T>): T {\n    return this.ref = snapshot?.ref, mapSnaphotData(snapshot);\n  }\n\n  /** Returns the document object id */\n  public get id(): string { return this.ref && this.ref.id; }\n\n  /** Returns the document object path relative to the database root */\n  public get path(): string { return this.ref && this.ref.path; }\n\n  /** Returns the parent collection */\n  public get parent(): DatabaseCollection<T> {\n    return this.ref && this.db.collection<T>( this.ref.parent );\n  }\n\n  /** Returns a child collection */\n  public collection<C extends DocumentData>(path: string): DatabaseCollection<C> {\n    return this.ref && this.db.collection<C>( this.ref.collection(path) as CollectionRef<C> );\n  }\n\n  /** Returns a child distributed counter */\n  public counter(path: string, shards?: number): DistributedCounter {\n    return this.ref && this.db.counter( this.ref.collection(path) as CollectionRef<CounterShard>, shards);\n  }\n  \n  /**\n   * Creates / destructively re-writes the document content.\n   * Adds the 'created' timestamp\n   */\n  public set(data: Partial<T>): Promise<void> {\n\n    const created = this.db.timestamp;\n    return this.ref ? this.ref.set({\n      ...data,\n      created\n    } as T) : refReject();\n  }\n\n  /**\n   * Updates the document content by merging the new data with the existing one including sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public merge(data: Partial<T>): Promise<void> {\n    \n    const updated = this.db.timestamp;\n    return this.ref ? this.ref.set({\n      ...data,\n      updated\n    } as T, { merge: true } ) : refReject();\n  }\n\n  public mergeFields(data: Partial<T>, ...fields: (string|FieldPath)[]): Promise<void> {\n    \n    const updated = this.db.timestamp;\n    return this.ref ? this.ref.set({\n      ...data,\n      updated\n    } as T, { mergeFields: [...fields, 'updated'] } ) : refReject();\n  }\n\n  /**\n   * Updates the document content with the new data. Unlike merge, it overwrites sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public update(data: Partial<T>): Promise<void> {\n\n    const updated = this.db.timestamp;\n    return this.ref ? this.ref.update({\n      ...data,\n      updated\n    } as T) : refReject();\n  }\n\n  /** Check for document existance */\n  public exists(): Promise<boolean> {\n    // Short-circuits the undefined ref\n    return this.ref ? this.ref.get().then(snap => snap.exists) : Promise.resolve(false);\n  }\n\n  /**\n   * Conditionally updates an existing document or creates a new one if not existing.\n   * Uses a transaction to support concurrency\n   */\n  public upsert(data: Partial<T>): Promise<void> {\n\n    if(!this.ref) { return refReject(); }\n\n    return this.db.transaction( trx => {\n\n      return trx.snap(this.ref).then( ({ exists }) => {\n\n        exists ? trx.update(this.ref, data) : trx.set(this.ref, data);\n      });\n    });\n  }\n\n  /** Returns the document snapshot immediately */\n  public snap(options?: GetOptions): Promise<DocumentSnapshot<T>> {\n    // Short-circuits the undefined ref\n    return this.ref ? this.ref.get(options) : refReject();\n  }\n\n  /** Returns the document content immediately */\n  public get(options?: GetOptions): Promise<T> {\n    return this.snap(options).then( snapshot => mapSnaphotData(snapshot) );  \n  }\n\n  /** Returns an observable streaming this document snapshot */\n  public asObservable(options?: ListenOptions): Observable<DocumentSnapshot<T>> {\n    return fromRef<T>(this.ref, this.db.zone, options);\n  }\n\n  /** Streams the document content with an observable */\n  public stream(options?: ListenOptions): Observable<T> {\n    // Maps the snapshot to the data content\n    return this.asObservable(options).pipe( map( snapshot => mapSnaphotData(snapshot) ));\n  }\n\n  /** Deletes the document */\n  public delete(): Promise<void> {\n    return this.ref ? this.ref.delete() : refReject();\n  }\n}","import { NgModule } from '@angular/core';\nimport { BackgroundDirective } from './background.directive';\n\n@NgModule({\n  declarations: [ BackgroundDirective ],\n  exports: [ BackgroundDirective ]\n})\nexport class BackgroundModule { }\n","import { UploadTask, UploadTaskSnapshot, StorageRef } from './storage-application';\nimport { shareReplay } from 'rxjs/operators';\nimport { NgZone } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { storage } from 'firebase/app';\n\nexport type TaskState = storage.TaskState;\n\n/** UploadeObservable streaming UploadTaskSnapshots */\nexport class UploadObservable extends Observable<UploadTaskSnapshot> {\n\n  private _inner$: Observable<UploadTaskSnapshot>;\n  private _task: UploadTask;\n\n  /** Returns the task reference creating it when necessary */\n  public get task(): UploadTask {\n    return !this._task ? ( this._task = this.factory() ) : this._task; \n  }\n\n  /** Returns the current state's snapshot */\n  public get snapshot(): UploadTaskSnapshot {\n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Requesting a snaphot before subscribing results in a hot observable!\"); }\n    // Returns the latest snapshot\n    return this.task.snapshot;\n  }\n\n  /** Firebase Storage Reference that spawned the upload */\n  public get ref(): StorageRef {\n    return this.snapshot.ref;\n  }\n\n  /** Constructs an UploadTask cold observable */\n  constructor(private factory: () => UploadTask, readonly zone: NgZone) {\n    // Builds the uploading observable subscribing to the inner observer\n    super( subscriber => this._inner$.subscribe(subscriber) );\n    // Builds the inner observable hooking on the 'state_changed' observer. \n    // Since task creation is delegated to the factory function this result being \n    // a cold observable (upload starts upon subscription)\n    this._inner$ = new Observable<UploadTaskSnapshot>(subscriber => this.task.on(storage.TaskEvent.STATE_CHANGED,\n      // Runs the observable within the Angular's zone\n      snap => zone.run( () => subscriber.next(snap) ),\n      // Runs the observable within the Angular's zone\n      error => zone.run( () => subscriber.error(error) ), \n      // Runs the observable within the Angular's zone\n      () => zone.run( () => subscriber.complete() )\n      // Shares the same observable to all subscribers replaying the latest value\n      // for everyone to likely get a meaingful value no matter how late they subscribe\n    )).pipe( shareReplay(1) );\n\n    if(typeof factory !== \"function\") { \n      throw new Error('The UploadObservable task factory must be a function'); \n    };\n  }\n\n  /** Pauses the task */\n  public pause(): boolean { \n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Pausing before subscribing results in a hot observable!\"); }\n    return this.task.pause(); \n  }\n\n  /** Resumes the task */\n  public resume(): boolean {\n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Resuming before subscribing results in a hot observable!\"); } \n    return this.task.resume(); \n  }\n\n  /** Cancels the task */\n  public cancel(): boolean { \n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Cancelling before subscribing results in a hot observable!\"); }  \n    return this.task.cancel(); \n  }\n\n  /** Promise-like then */\n  public then(fulfilled?: ((s: UploadTaskSnapshot) => any) | null, rejected?: ((e: Error) => any) | null): Promise<any> {\n    return this.task.then(fulfilled, rejected);\n  }\n  /** Promise-like catch */\n  public catch(rejected: (e: Error) => any): Promise<any> {\n    return this.task.catch(rejected);\n  }\n}","import { CollectionRef, Query, QuerySnapshot, QueryDocumentSnapshot, DocumentChange } from './types';\nimport { ListenOptions } from '../document/types';\nimport { Observable, throwError } from 'rxjs';\nimport { NgZone } from '@angular/core';\n\nexport function refError(): Observable<never> {\n  return throwError(new Error(\"Collection or query reference null or undefined\") );\n}\n\n/** Builds an Observable of QuerySnaphots from a collection (or query) ref*/\nexport function fromRef<T>(ref: CollectionRef<T>|Query<T>, zone: NgZone, options?: ListenOptions): Observable<QuerySnapshot<T>> {\n  // Throw an error when the referencec is missing\n  if(!ref) { return throwError(new Error(\"Missing Reference\") ); }\n  // Returns an obsevable wrapping the onSnapshot observer\n  return new Observable<QuerySnapshot<T>>( subscriber => ref.onSnapshot(options || {},\n    // Runs the observable within the Angular's zone\n    (value: QuerySnapshot<T>) => zone.run( () => subscriber.next(value) ),\n    // Runs the observable within the Angular's zone\n    (error: any) => zone.run( () => subscriber.error(error) ),\n    // Runs the observable within the Angular's zone\n    () => zone.run( () => subscriber.complete() )\n  ));\n}\n\n/** Helper function to combine DocumentChange(s) requlting from a Query mapping them into QUeryDocumentSnapshots */\nexport function combineDocumentChanges<T>(combined: QueryDocumentSnapshot<T>[], changes: DocumentChange<T>[]): QueryDocumentSnapshot<T>[] {\n  \n  // Loops on changes\n  changes && changes.forEach(change => {\n    \n    // Combine the single document change\n    switch(change.type) {\n\n      case 'added':\n      // Skips the addition that actually results in being the same document\n      if(combined[change.newIndex] && combined[change.newIndex].ref.isEqual(change.doc.ref)) {\n        return combined;  \n      } \n      // Adds the snapshot otherwise\n      combined.splice(change.newIndex, 0, change.doc);\n      break;\n\n      case 'modified':\n      // Applies the modification only when the document is actually the same \n      if(combined[change.oldIndex] == null || combined[change.oldIndex].ref.isEqual(change.doc.ref)) {\n        // When an item changes position we first remove it and then add it's new position\n        if(change.oldIndex !== change.newIndex) {\n          combined.splice(change.oldIndex, 1);\n          combined.splice(change.newIndex, 0, change.doc);\n        } else {\n          // Adds the missing item otherwise\n          combined.splice(change.newIndex, 1, change.doc);\n        }\n      }\n      break;\n\n      case 'removed':\n      // Removes the item only when the document is actually the same\n      if(combined[change.oldIndex] && combined[change.oldIndex].ref.isEqual(change.doc.ref)) {\n        combined.splice(change.oldIndex, 1);\n      }\n      break;\n    }\n\n  });\n  // Returns the combined array o\n  return combined;\n}\n","export * from './lib/ipinfo.service';\nexport * from './lib/ipinfo.module';\nexport * from './lib/providers';","export * from './lib/readme-types';\nexport * from './lib/readme.component';\nexport * from './lib/readme.module';\n","export * from './lib/redirect.service';\nexport * from './lib/redirect.directive';\nexport * from './lib/redirect.module';\n\n","export * from './scroll-observable.service';\nexport * from './scroll-behavior.directive';\nexport * from './router-scroll.service';\nexport * from './scrolling.module';","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { IpInfo, IpInfoConfig, IPINFO_CONFIG } from './ipinfo.service';\n\n@NgModule({\n  imports: [ HttpClientModule ],\n  providers: [ IpInfo ]\n})\nexport class IpInfoModule { \n\n  static init(config: IpInfoConfig): ModuleWithProviders<IpInfoModule> {\n    return {\n      ngModule: IpInfoModule,\n      providers: [ { provide: IPINFO_CONFIG, useValue: config } ]\n    }\n  }\n}\n","\r\n// @see {https://ipinfo.io}\r\nexport const IP_INFO_IO = 'https://ipinfo.io/{{ip}}/json?token={{apiKey}}';\r\n\r\nexport interface IpInfoIO {\r\n\r\n  ip: string;\r\n  hostname?: string;\r\n  city: string;\r\n  region: string;\r\n  country: string;\r\n  loc: string;\r\n  org?: string;\r\n  postal: number;\r\n  timezone: string;\r\n  asn?: IpInfoAsn;\r\n  company?: IpInfoCompany;\r\n  privacy?: IpInfoPrivacy;\r\n  readme?: string;\r\n}\r\n\r\nexport interface IpInfoAsn {\r\n  asn: string;\r\n  name: string;\r\n  domain: string;\r\n  route: string;\r\n  type: string;\r\n}\r\n\r\nexport interface IpInfoCompany {\r\n  name: string;\r\n  domain: string;\r\n  type: string;\r\n}\r\n\r\nexport interface IpInfoPrivacy {\r\n  vpn: boolean;\r\n  proxy: boolean;\r\n  tor: boolean;\r\n  hosting: boolean;\r\n}","import { Directive, Input, OnChanges, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { GtagService } from './gtag.service';\n\n@Directive({\n  selector: '[gtag]'\n})\nexport class GtagDirective implements OnChanges {\n\n  constructor(private gtag: GtagService, @Optional() private router: Router) {}\n\n  /** Page title */\n  @Input('gtag') title: string;\n\n  /** Optional path */\n  @Input() path: string;\n\n  /** Optional location otherwise automatically derived from the activated route */\n  @Input() location: string;\n\n  ngOnChanges() {\n\n    // Skips whenever the title is empty or null\n    if(!this.title) { return; }\n\n    // Notifies the pageView\n    this.gtag.pageView(this.title, this.path, this.location || this.router && this.router.url);\n  }\n}","import { DatabaseApplication } from '../database-application';\nimport { DocumentData } from '../document';\nimport { DatabaseQuery } from './query';\nimport { Query } from './types';\n\n/** Collection object in the database, created by the DatabaseService */\nexport class DatabaseGroup<T extends DocumentData> extends DatabaseQuery<T> {\n\n  public get ref(): Query<T> { return this._ref as Query<T>; }\n\n  constructor(db: DatabaseApplication, pathOrRef?: string|Query<T>) {\n    \n    super(db, db.group(pathOrRef) );\n  }\n}","import { Injectable, Inject } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\n\n/** Default language code resolver. The language code is expected to be a ':lang' param of the root route first child.\n * e.g. https://whatever.io/:lang/home where :lang is a two digit country code: 'en', 'it', 'ru', ... */\n @Injectable()\n export class SelectorResolver implements Resolve<string> {\n\n  constructor(readonly config: ContentConfigurator) {}\n\n  public resolve(route: ActivatedRouteSnapshot): string {\n     // Stops recurring up returning the default language \n    if(!route) { return this.config.currentValue; }\n    // Returns the language code from the param map recurring up till the root when needed\n    return route.paramMap.get( this.config.selector ) || this.resolve( route.parent );\n  }\n}","import { Injectable, Inject, InjectionToken, Optional } from '@angular/core';\n\nexport const ContentConfigToken = new InjectionToken<ContentConfig>('wizdm.content.config');\n\nexport interface ContentConfig {\n  selector?: string;          // 'lang'\n  source?: string;            // 'assets/i18n'\n  defaultValue?: string;      // 'en'\n  supportedValues?: string[]; // ['en']\n}\n\n@Injectable()\nexport class ContentConfigurator implements ContentConfig {\n\n  private _currentValue: string;\n\n  constructor(@Optional() @Inject(ContentConfigToken) readonly config: ContentConfig) {}\n\n  /** Returns the route selector (aka param name) as per the config */\n  public get selector(): string { return !!this.config && this.config.selector || 'lang'; }\n\n  /** Returns the root path of the content json files as per the config */\n  public get source(): string { return !!this.config && this.config.source || 'assets/i18n'; }\n  \n  /** Returns the default language code as per the config */\n  public get defaultValue(): string { return !!this.config && this.config.defaultValue || 'en'; }\n  \n  /** Returns the optional array of supported languages */\n  public get supportedValues(): string[] { return !!this.config && this.config.supportedValues || [this.defaultValue]; }\n\n  /** Returns the currently selected value or the default one when undefined */\n  public get currentValue(): string { return this._currentValue || this.defaultValue; }\n\n  /** Sets the current value for other services sharing the ContentConfigurator to take advantage from */\n  public set currentValue(value: string) { this._currentValue = value; }\n}\n","\r\n// @see {https://freegeoip.app}\r\nexport const FREE_GEO_IP_APP = 'https://freegeoip.app/json/{{ip}}';\r\n\r\nexport interface FreeGeoIpAPP {\r\n  ip: string;\r\n  country_code: string;\r\n  country_name: string;\r\n  region_code: string;\r\n  region_name: string;\r\n  city: string;\r\n  zip_code: string;\r\n  time_zone: string,\r\n  latitude: string;\r\n  longitude:string;\r\n  metro_code: string;\r\n}","import { common } from './common';\nimport { secrets } from './secrets';\n\n// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --prod` then `environment.prod.ts` will be used instead.\n// Both versions includes common.ts sharing the same common definitions.\nexport const environment = {\n\n  // Shares the same configurations...\n  ...common, ...secrets,\n  \n  // Disables production mode (aka debug mode)\n  production: false\n};\n","export * from './dark-mode.service';","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\nimport { Observable } from 'rxjs';\n\nexport type AllowedContent = Observable<true|UrlTree>|Promise<true|UrlTree>|true|UrlTree;\n\n@Injectable()\n/** Default ContentSelector reverting to the browser language if 'auto' has been specified  */\nexport class ContentSelector implements CanActivate {\n\n  constructor(readonly router: Router, readonly config: ContentConfigurator){}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): AllowedContent {\n\n    // Gets the language code requested from the route \n    const requested = this.requestedValue(route);\n    console.log('Requested language:', requested);\n\n    // Selects the best language among the allowed ones \n    const selected = this.valueAllowed( requested === 'auto' ? this.browserLanguage : requested );\n    console.log('Selected language:', selected);\n\n    // Keeps track of the currently selected language within the ContentConfigurator for other services to take advantage from\n    this.config.currentValue = selected;\n\n    // Redirects to the selected whenever differs from the requested\n    return (requested === selected || this.router.createUrlTree([selected])) as AllowedContent;\n  }\n\n  /** Gets the requested language value from the route */\n  public requestedValue(route: ActivatedRouteSnapshot): string {\n    return route.paramMap.get( this.config.selector );\n  }\n\n  /** Checks if the language code is among the allowed ones */\n  public isValueAllowed(value: string): boolean {\n    return !!this.config.supportedValues.find( allowed => allowed === value );\n  }\n\n  /** Filters the language code ensuring is among the allowed ones returning the default value otherwise*/\n  public valueAllowed(value: string): string {\n    return this.config.supportedValues.find( allowed => allowed === value ) || this.config.defaultValue;\n  }\n\n  /** Two digits browser language code */\n  public get browserLanguage(): string { \n    \n    const detected = this.detectLanguage().split('-')[0];\n    console.log(\"Browser language:\", detected);\n\n    return detected;\n  }\n\n  /** Detects the preferred language according to the browser, whenever possible */\n  private detectLanguage(): string {\n\n    const navigator: any = !!window && window.navigator || {};\n\n    return (navigator.languages ? navigator.languages[0] : null) || \n            navigator.language ||                                                                                                   \n            navigator.browserLanguage || \n            navigator.userLanguage || '';\n  }\n}","export * from './storage-folder';\nexport * from './storage-file';","export * from './ipinfo-io';\r\nexport * from './iplist-cc';\r\nexport * from './geojs-io';\r\nexport * from './freegeoip-app';","import { Injectable, Optional, Inject, InjectionToken, NgZone } from '@angular/core';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport { functions } from 'firebase/app';\n\nexport type Functions = functions.Functions;\nexport type Callable<T, R> = (data?:  T) => Promise<R>;\nexport type CallOptions = functions.HttpsCallableOptions;\nexport type CallResult = functions.HttpsCallableResult;\n\nexport const FUNCTIONS_REGION = new InjectionToken<string>('wizdm.connectc.functions.region');\nexport const EMULATOR_ORIGIN = new InjectionToken<string>('wizdm.connect.functions.emulator.origin');\n\n\n@Injectable()\nexport class FunctionsService {\n\n  readonly functions: Functions;\n  readonly url: string;\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone,\n              @Optional() @Inject(FUNCTIONS_REGION) region: string, \n              @Optional() @Inject(EMULATOR_ORIGIN) origin: string) {\n\n    // Runs outside of Angular to avoid triggering unwated change detections\n    this.functions = zone.runOutsideAngular( () => {\n\n      // Gets the firebase Functions instance\n      const functions = app.functions(region || undefined);\n\n      // Enables the emulator on request \n      origin && functions.useFunctionsEmulator(origin);\n\n      // Returns the requested instance\n      return functions;\n    });\n\n    // Gets the cloud function base url for further use with http api calls \n    this.url = (typeof (this.functions as any)._url === 'function') ? (this.functions as any)._url('') : \n      // Falls back computing the url as per the firebase sdk \n      ( (origin ? (origin + '/') : `https://${region || 'us-central1'}-`) + `${(app.options as any).projectId}.cloudfunctions.net/` );\n  }\n\n  /** Returns the requested callable cloud function */\n  public callable<T=any, R=any>(name: string, options?: CallOptions): Callable<T, R> {\n\n    const callable = this.functions.httpsCallable(name, options);\n    return (data: T) => callable(data).then( result => result.data as R );\n  }\n}","import { NgModule, ModuleWithProviders, InjectionToken, Inject, Optional } from '@angular/core';\nimport { default as firebase, app } from 'firebase/app'; \n\n/** FirebaseApp type */\nexport type FirebaseApp = app.App;\n\n/** Firebase APP token */\nexport const APP = new InjectionToken<FirebaseApp>('wizdm.connect.app');\n\n/** Firebase Config */\nexport type ConnectConfig = { [key:string]: any };\n\n/** Firebase Config token */\nexport const APP_OPTIONS = new InjectionToken<ConnectConfig>('wizdm.connect.app.options');\n\n/** Firebase app name token */\nexport const APP_NAME = new InjectionToken<string>('wizdm.connect.app.name');\n\n/** Firebase APP factory */\nexport function appFactory(options?: ConnectConfig, name?: string): FirebaseApp {\n\n  // Seeks for the app if it were already initialized (happens when hot-reloading)\n  const app = firebase.apps.find( app => app.name === name || '[DEFAULT]');\n  // Return the app or initialize a new one\n  return (app || firebase.initializeApp(options, name)) as FirebaseApp;\n}\n\n@NgModule({})\nexport class ConnectModule { \n\n  static init(options: ConnectConfig, name?: string): ModuleWithProviders<ConnectModule> {\n    return {\n      ngModule: ConnectModule,\n      providers: [\n\n        // Provides the Firebase Options\n        { provide: APP_OPTIONS, useValue: options },\n\n        // Provides the Firebase app name\n        { provide: APP_NAME, useValue: name },\n        \n        // Provides Firebase app instance used by all the services\n        { provide: APP, useFactory: appFactory, deps: [\n          [ new Optional(), new Inject(APP_OPTIONS) ],\n          [ new Optional(), new Inject(APP_NAME)    ]\n        ]}\n      ]\n    }\n  }\n}","import { NgModule, ModuleWithProviders, Inject } from '@angular/core';\nimport { RouterModule, Route, Routes, ROUTES, provideRoutes } from '@angular/router';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\nimport { ContentResolver } from './content-resolver';\nimport { ContentModule } from '../content.module';\n\n/** Extends routes with content */\nexport interface RouteWithContent extends Route {\n\n  source?: string;\n  content?: string|string[];\n  children?: RoutesWithContent;\n}\n\nexport type RoutesWithContent = RouteWithContent[];\n\n// Walks doen the routes' tree applying content resolvers for the requested contents\nexport function resolveRoutesWithContent(routes: RoutesWithContent, source: string, selector: string = 'lang'): Routes {\n  // Skips empty routes\n  if(!routes) { return []; }\n  // Maps the incoming routes\n  return routes.map( route => {\n\n    // Grabs the source path from the route, when defined. Defaults to the global path otherwise.\n    const path = route.source || source;\n\n    // Whenever content is defined...\n    if(!!route.content) {\n      // Gets the content array\n      const content: string[] = typeof(route.content) === 'string' ? [route.content] : route.content;\n      // Gets the resolve data map\n      const resolve = route.resolve || {};\n      // Builds the content resolvers map\n      route.resolve = content.reduce( (resolve, file) => {\n         // Adds a resolver for the given name \n        resolve[ file ] = ContentResolver.create(path, file, ContentRouterModule);\n        // Next\n        return resolve; \n\n      }, resolve );\n\n      // Removes the source property from the route configuration\n      if(!!route.source) { delete route.source; }\n      // Removes the content property from the route\n      delete route.content;\n    }\n    // Walk down to children\n    if(!!route.children) { route.children = resolveRoutesWithContent(route.children, source, selector); }\n    // Done\n    return route;\n  });\n}\n// Helper to flateten the multi ROUTES\nexport function flatten<T>(arr: T[][]): T[] {\n  return Array.prototype.concat.apply([], arr);\n}\n\n@NgModule({ \n  imports: [ ContentModule, RouterModule ],\n  exports: [ ContentModule, RouterModule ]\n})\n/** Router module with dynamic content loading  */\nexport class ContentRouterModule { \n\n  constructor(@Inject(ROUTES) routes: RoutesWithContent[], config: ContentConfigurator) {\n    // Parses the routes adding content resolvers on loading beforing the actual routing accurs\n    // This approach works both with JIT and AOT\n    const resolvedRoutes = resolveRoutesWithContent( flatten(routes), config.source, config.selector );\n  }\n\n  /** Initializes child routes with content */\n  static forChild(routes: RoutesWithContent): ModuleWithProviders<ContentRouterModule> {\n    return {\n      ngModule: ContentRouterModule,\n      providers: [ provideRoutes(routes) ]\n    };  \n  }\n}\n","import { STRIPE_PUBLIC_KEY, STRIPE_OPTIONS, STRIPEJS, StripeService } from './stripe.service';\nimport { NgModule, ModuleWithProviders, Inject, Optional, NgZone } from '@angular/core';\nimport { loadStripeJS } from './stripe-loader';\n\nimport type { StripeConstructor, StripeConstructorOptions } from '@stripe/stripe-js';\n\n/** @dynamic - tells ngc to ignore the error on potentially unknown types generated by strictEmitMetadata: true */\n@NgModule({\n  providers: [ StripeService ]\n})\nexport class StripeModule {\n\n  private static _stripejs: Promise<StripeConstructor>;\n\n  constructor(@Optional() @Inject(STRIPE_PUBLIC_KEY) publicKey, zone: NgZone) {\n\n    if(!publicKey) { throw new Error(`\n      Stripe module has not been initialized.\n      Make sure to call StripeModule.init('pk_xxxxxxxxx') in your root or feature module.\n    `);}\n\n    // Triggers the stripe.js API loading asyncronously.\n    if(!StripeModule._stripejs) {\n      // Loads the Stripe.js avoiding to trigger change detection     \n      StripeModule._stripejs = zone.runOutsideAngular( () => loadStripeJS() ); \n    }\n  }\n\n  static init(publicKey: string, options?: StripeConstructorOptions): ModuleWithProviders<StripeModule> {\n    return {\n      ngModule: StripeModule,\n      providers: [\n        \n        /** Provides the global Stripe public key */\n        { provide: STRIPE_PUBLIC_KEY, useValue: publicKey },\n\n        /** Provides the global stripe options */\n        { provide: STRIPE_OPTIONS, useValue: options },\n\n        /** Provides StripeJS as an injectable promise */ \n        { provide: STRIPEJS, useFactory: () => StripeModule._stripejs }\n      ]\n    };\n  } \n}","import { Observable, BehaviorSubject, fromEvent, fromEventPattern, combineLatest } from 'rxjs';\nimport { map, tap, distinctUntilChanged, startWith } from 'rxjs/operators';\nimport { Injectable, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n/** DarkMode observer. Emits true whenever the dark mode is detected */\n@Injectable({ providedIn: 'root'})\nexport class DarkModeObserver extends Observable<boolean> {\n\n  private force$ = new BehaviorSubject<boolean|undefined>(undefined);\n\n  // The window instance\n  private get window(): Window { return this.document.defaultView || window; }\n\n  // The prefers-color-scheme media query\n  readonly mq = this.window.matchMedia('(prefers-color-scheme: dark)');\n\n  private isDarkMode(force?: boolean): boolean {\n    return typeof force === 'boolean' ? force : this.mq.matches;\n  }\n\n  /** True whenever the dark mode is detected or requested */\n  public get isDark(): boolean {\n    return this.isDarkMode(this.force$.value);\n  }\n\n  /** Forces the dark mode to be true (or false). When 'undefined' enables dark mode OS detection */\n  public darkMode(dark: boolean|undefined) { \n    this.force$.next(dark);\n  }\n\n  /** Builds the media observer for the dark theme */\n  private darkObserver(): Observable<Event> {\n\n    // On modern browsers MediaQuelyList inherit from EventTarget...\n    return (this.mq as any instanceof EventTarget) ? fromEvent(this.mq, 'change') : \n      //... while older browsers may still rely on deprecated addListener/RemoveListener functions\n      fromEventPattern<MediaQueryListEvent>(this.mq.addListener.bind(this.mq), this.mq.removeListener.bind(this.mq));\n  }\n\n  constructor(@Inject(DOCUMENT) private document: Document) { \n    \n    // Creates an observble combining the forcing flag with the media query\n    super( subscriber => combineLatest( this.force$, this.darkObserver().pipe(startWith(null)) ).pipe( \n        // Checks for the media match\n        map(([force]) => this.isDarkMode(force) ),\n        // Filters for value changes only\n        distinctUntilChanged(),\n        // Subscribes to the inner observable\n      ).subscribe( subscriber )\n    )\n  }\n}","import type { Stripe, StripeConstructor, StripeConstructorOptions } from '@stripe/stripe-js';\nimport { Observable, BehaviorSubject, from, throwError } from 'rxjs';\nimport { map, take, switchMap, shareReplay } from 'rxjs/operators';\n\n/** StripeCaller class implements an observable-based proxy to call the Stripe.js SDK */\nexport class StripeCaller {\n\n  /** The optional stripe account to connect to @see [Connect](https://stripe.com/docs/connect) */\n  private account$ = new BehaviorSubject<string>(undefined);\n\n  /**\n   * For usage with [Connect](https://stripe.com/docs/connect) only.\n   * Specifying a connected account ID (e.g., `acct_24BFMpJ1svR5A89k`) allows you to perform actions on behalf of that account.\n   */\n  public connect(stripeAccount: string) {\n    this.account$.next(stripeAccount);\n  }\n\n  /** The active Stripe instance observable */\n  readonly stripe$: Observable<Stripe>;\n\n  constructor(stripejs: Promise<StripeConstructor>, publicKey: string, options: StripeConstructorOptions) { \n\n    // Resolves the stripe instance from the StripeContructor promise\n    this.stripe$ = from(stripejs).pipe( switchMap(stripeContructor => {\n\n      // Checks upon the stripe account to optionally connect to\n      return this.account$.pipe( map( stripeAccount => stripeContructor(publicKey, { \n\n        // Initializes the instance with the global options\n        ...options,\n\n        // Connects to the given account, if any\n        stripeAccount\n\n      })));\n\n    }), shareReplay(1) );\n  }\n\n  /** Invokes the requested Stripe funciton */\n  protected callStripe(signature: string, args): Promise<any> {\n\n    // Resolves the active Stripe instance\n    return this.stripe$.pipe( switchMap( stripe => {\n\n      // Gets the requested funciton to call upon\n      const fn = stripe[signature];\n\n      // Verifies the request really belongs to a function \n      if(typeof fn !== 'function') { return throwError( new Error(`\n        The requested signature '${signature}' is not a Stripe.js function. \n      `));}\n\n      // Calls the Stripe function wrapping the result in a promise\n      return Promise.resolve( fn(...args) );\n\n    // Always convert the returning value into a promise\n    }), take(1) ).toPromise(); \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { PluckPipe, \n         InterpolatePipe,\n         HyphenizePipe,\n         CamelizePipe,\n         PrintfPipe } from './interpolations.pipe';\n\nconst PIPES = [ PluckPipe, InterpolatePipe, HyphenizePipe, CamelizePipe, PrintfPipe ];\n\n@NgModule({\n  declarations: PIPES,\n  exports: PIPES\n})\nexport class InterpolationPipesModule { }\n","import { QueryDocumentSnapshot, QueryFn, QueryRef } from './types';\nimport { DatabaseApplication } from '../database-application';\nimport { query, snap, stream, data } from'./operators';\nimport { DocumentData } from '../document';\nimport { Observable, of } from 'rxjs';\nimport { refError } from './utils';\n\n/** Query of Collection(s) object in the database */\nexport class DatabaseQuery<T extends DocumentData> extends Observable<QueryRef<T>> {\n\n  public get ref(): QueryRef<T> { return this._ref; }\n\n  constructor(readonly db: DatabaseApplication, protected _ref: QueryRef<T>) {\n    super( observer => ( _ref ? of(_ref) : refError() ).subscribe(observer) );\n  }\n\n  public snap(qf?: QueryFn<T>): Promise<QueryDocumentSnapshot<T>[]> {\n    return this.pipe( query(qf), snap() ).toPromise();\n  }\n\n  /**\n   * Returns the collection content once.\n   * @param qf the optional query funciton\n   */\n  public get(qf?: QueryFn<T>): Promise<T[]> {\n    return this.pipe( query(qf), snap(), data() ).toPromise();\n  }\n\n  /**\n   * Queries the collection content as an array into an observable of snapshots\n   * @param qf the optional filtering funciton\n   */\n  public query(qf?: QueryFn<T>): Observable<QueryDocumentSnapshot<T>[]> {\n    return this.pipe( query(qf), stream(this.db.zone) );\n  }\n\n  /**\n   * Streams the collection content as an array into an observable.\n   * @param qf the optional filtering funciton\n   */\n  public stream(qf?: QueryFn<T>): Observable<T[]> {\n    return this.pipe( query(qf), stream(this.db.zone), data() );\n  }\n}","import { NgModule } from '@angular/core';\nimport { RedirectDirective, RedirectWithHrefDirective } from './redirect.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [ RedirectDirective, RedirectWithHrefDirective ],\n  exports: [ RedirectDirective, RedirectWithHrefDirective ]\n})\nexport class RedirectModule { }","import { Transaction, DocumentRef, DocumentSnapshot, DocumentData } from './types';\nimport { DatabaseApplication } from '../database-application';\nimport { mapSnaphotData } from './utils';\n\nexport class DatabaseTransaction {\n\n  constructor(readonly db: DatabaseApplication, readonly trx: Transaction) { }\n\n  /**\n   * Creates / destructively re-writes the document content.\n   * Adds the 'created' timestamp\n   */\n  public set<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const created = this.db.timestamp;\n    return this.trx.set(ref, {\n      ...data as any,\n      created\n    }), this;\n  }\n\n  /**\n   * Updates the document content by merging the new data with the existing one including sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public merge<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n    \n    const updated = this.db.timestamp;\n    return this.trx.set(ref, {\n      ...data as any,\n      updated\n    }, { merge: true } ), this;\n  }\n\n  /**\n   * Updates the document content with the new data. Unlike merge, it overwrites sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public update<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const updated = this.db.timestamp;\n    return this.trx.update(ref, {\n      ...data as any,\n      updated\n    }), this;\n  }\n\n  /** Returns the document snapshot immediately */\n  public snap<T extends DocumentData>(ref: DocumentRef<T>): Promise<DocumentSnapshot<T>> {\n    return this.trx.get(ref);\n  }\n\n  /** Returns the document content immediately */\n  public get<T extends DocumentData>(ref: DocumentRef<T>): Promise<T> {\n    return this.snap<T>(ref).then( snapshot => mapSnaphotData(snapshot) );  \n  }\n\n  /** Deletes the document */\n  public delete<T extends DocumentData>(ref: DocumentRef<T>): this {\n    return this.trx.delete(ref), this;\n  }\n}\n","import { last, take, map, zip, switchMap, startWith, endWith, shareReplay, catchError } from 'rxjs/operators';\nimport { Observable, of, from, concat, BehaviorSubject, forkJoin, combineLatest } from 'rxjs';\nimport { UploadObservable, TaskState } from '../upload-observable';\nimport { StorageRef, FullMetadata } from '../storage-application';\nimport { StorageReference } from '../storage-reference';\n\n/** Summarizes all the key information of a stored/uploading file */\nexport interface FileSummary extends FullMetadata {\n  name: string;\n  url?: string;\n}\n\n/** Helper class to display stored files */\nexport class StorageFile {\n\n  /** Internal source */\n  private source$: BehaviorSubject<StorageReference|UploadObservable>;\n  /** File name */\n  readonly name$: Observable<string>;\n  /** Meta data */\n  readonly meta$: Observable<FullMetadata>;\n  /** Download URL */\n  readonly url$: Observable<string>;\n  /** Uploading progress */\n  readonly progress$: Observable<number>;\n  /** Overall file summary */\n  readonly summary$: Observable<FileSummary>;\n\n  /** Switches to a new source */\n  public from(source: StorageReference|UploadObservable) {\n    this.source$.next(source);\n  }\n\n  /** Builds the StorageFile */\n  constructor(source?: StorageReference|UploadObservable) {\n\n    /** Initializes the source first */\n    this.source$ = new BehaviorSubject<StorageReference|UploadObservable>(source);\n\n    /** Builds the file name observable */\n    this.name$ = this.fromSource(\n\n      // Simply returns the name from the storage re\n      ref => of(ref.name),\n\n      // Catches the name from the very fist snapshot\n      upl => upl.pipe( take(1), map( s => s.ref.name ), catchError(() => of('')) ),\n\n      ''\n    );\n\n    /** Builds the meta content observable */\n    this.meta$ = this.fromSource(\n      \n      // Gets the metadata\n      ref => from( ref.getMetadata() ).pipe( startWith({} as FullMetadata) ),\n\n      // Concatenates the initial metadata (optionally sent to the server) with the full metadata from the server when done uploading  \n      upl => concat(\n        \n        // Combines the upload metadata with the totalBytes to get a preview of the size\n        upl.pipe( take(1), map( s => ({ ...s.metadata, size: s.totalBytes }) ) ), \n        \n        // Gets the FullMetadata from the server\n        upl.pipe( last(), switchMap( s => s.ref.getMetadata() ))\n      \n        // Always cathces the errors to support uploading cancellation        \n      ).pipe( catchError(() => of({})) ),\n\n      {}\n    );\n\n    /** Build the download url observable */\n    this.url$ = this.fromSource(\n      \n      // Gets the download URL\n      ref => from( ref.getDownloadURL() ).pipe( startWith('') ),\n\n      // Waits till the end of the uploading to get the download URL\n      upl => upl.pipe( last(), switchMap( s => s.ref.getDownloadURL() ), startWith(''), catchError(() => of('')) ),\n\n      ''\n    );\n\n    /** Builds the uploading progress observable */\n    this.progress$ = this.fromSource(\n\n      // No progress\n      ref => of(undefined),\n\n      // Computes the uploading progress ending with undefined when done\n      upl => upl.pipe( map(s => Math.floor(s.bytesTransferred / s.totalBytes * 100)), endWith(undefined), catchError(() => of(undefined))\n      )\n    );\n    \n    /** Builds the file summary observable */\n    this.summary$ = this.fromSource(\n\n      // Joins the previous name$/meta$/url$ observables to get a complete summary when completed\n      ref => forkJoin(this.name$, this.meta$, this.url$).pipe( zip( ([name, meta, url]) => ({ ...meta, name, url }) ) ),\n\n      // Cobines the previous name$/meta$/url$ observables get a complete summary while catching the uploading progress\n      upl => combineLatest(this.name$, this.meta$, this.url$).pipe( zip( ([name, meta, url]) => ({ ...meta, name, url }) ) ) \n    );\n  }\n\n  /** Observable builder helper function */\n  private fromSource<T>(ref: (ref: StorageReference) => Observable<T>, upl: (upl: UploadObservable) => Observable<T>, none?: T): Observable<T> {\n    // Resolves the input source making sure to always complete\n    return this.source$.pipe( take(1), switchMap( source => { \n\n      // Builds the relevant obervable from the StorageReference\n      if(source instanceof StorageReference) { return ref(source); }\n\n      // Builds the relevan observable from the UploadObservable\n      if(source instanceof UploadObservable) { return upl(source); }\n\n      // Defaults\n      return of(none);\n\n    }), shareReplay(1) );\n  }\n\n  /** Returns the source object */\n  get source(): StorageReference|UploadObservable { return this.source$.value; }\n\n  /** Returns the StorageRef wrapped by the source object*/\n  get ref(): StorageRef { return this.source.ref; }\n\n  /** The name of the file as per the StorageRef */\n  get name(): string { return this.ref.name; }\n\n  /** Deletes the file */\n  public delete(): Promise<void> { return this.ref.delete(); }\n\n  /** The latest status of the uploading */\n  public get state(): TaskState {\n    return (this.source instanceof UploadObservable) ? this.source.snapshot.state : '';\n  }\n\n  /** True during uploading */\n  public get uploading(): boolean { return this.state === 'running'; }\n\n  /** True when paused */\n  public get paused(): boolean { return this.state === 'paused'; }\n\n  /** True when canceled */\n  public get canceled(): boolean { return this.state === 'canceled'; }\n\n  /** True when suceeded */\n  public get success(): boolean { return this.state === 'success'; }\n\n  /** True on error */\n  public get error(): boolean { return this.state === 'error'; }\n\n  /** Pauses the ongoing upload */\n  public pause(): boolean {\n    return (this.source instanceof UploadObservable) ? this.source.pause() : false;\n  }\n\n  /** Resumes the paused upload */\n  public resume(): boolean {\n    return (this.source instanceof UploadObservable) ? this.source.resume() : false;\n  }\n\n  /** Cancels the ongoing upload */\n  public cancel(): boolean {\n    return (this.source instanceof UploadObservable) ? this.source.cancel() : false;\n  }\n}","export * from './has-touchscreen';\nexport * from './dark-mode';","import { Directive, Input, OnInit, OnDestroy } from '@angular/core';\nimport { RouterScroll } from './router-scroll.service';\nimport { ViewportScroller } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[scrollPositionRestoration], [anchorScrolling]'\n})\nexport class ScrollBehaviorDirective implements OnInit, OnDestroy {\n\n  private sub: Subscription;\n\n  constructor(private scroller: ViewportScroller, private routerScroll$: RouterScroll) { }\n\n  @Input() scrollPositionRestoration: 'top'|'enabled'|'disabled' = 'disabled';\n\n  @Input() anchorScrolling: 'enabled'|'disabled' = 'disabled';\n\n  ngOnInit() {\n\n    this.sub = this.routerScroll$.subscribe( e => {\n\n      if(e.position) { // Routing backwards\n\n        // Scrolls to top or...\n        if(this.scrollPositionRestoration === 'top') { \n          this.scroller.scrollToPosition([0, 0]); \n        }\n        // ...scrolls to the saved position otherwise\n        else if(this.scrollPositionRestoration === 'enabled') { \n          this.scroller.scrollToPosition(e.position); \n        }\n\n      } else { // Routing forward\n        \n        // Scrolls to the given anchor or...\n        if(e.anchor && this.anchorScrolling === 'enabled') { \n          this.scroller.scrollToAnchor(e.anchor); \n        } \n        // ...scrolls to top otherwise\n        else if (this.scrollPositionRestoration !== 'disabled') { \n          this.scroller.scrollToPosition([0, 0]); \n        }\n      }\n    });\n  }\n\n  ngOnDestroy() { this.sub.unsubscribe(); }\n}\n","export * from './connect.module';","import { StorageApplication, StorageRef, UploadMetadata } from '../storage-application';\nimport { tap, map, scan, switchMap, shareReplay } from 'rxjs/operators';\nimport { StorageReference } from '../storage-reference';\nimport { UploadObservable } from '../upload-observable';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { StorageFile } from './storage-file';\n\n/** Abstacts a StorageReference as a folder to navigate or upload files into */\nexport class StorageFolder extends StorageReference {\n\n  /** Internal dynamic source reference */\n  private source$: BehaviorSubject<string|StorageRef>;\n\n  /** Internal file upload subject */\n  private upload$ = new BehaviorSubject<UploadObservable>(null);\n\n  /** List of sub folders (as StorageRef) */\n  readonly folders$: Observable<StorageRef[]>;\n\n  /** List of files (as StorageFile) */\n  readonly files$: Observable<StorageFile[]>;\n\n  constructor(st: StorageApplication, path?: string|StorageRef) {\n    // Constructs the parent StorageReference\n    super(st, path);\n\n    // Tracks the source to support dynamic ref changes\n    this.source$ = new BehaviorSubject(this.ref);\n\n    // Builds an intermediate observable getting the listResult\n    const result$ = this.source$.pipe(\n      // Updates the folder ref\n      tap( ref => this.from(ref) ), \n      // Lists the folder content\n      switchMap( ref => ref ? this.listAll() : null),\n      // Clean-up the upload stream when a new list comes\n      tap( () => this.upload$.next(null) ),\n      // Shares the result between the following folders & files\n      shareReplay(1)\n    );\n\n    // Builds an observable to list folders as StorageRef(s)\n    this.folders$ = result$.pipe( map( result => result.prefixes ));\n\n    // Builds an observable to list files as StorageFile(s)\n    this.files$ = result$.pipe( \n      // Maps the existing items into files\n      map( result => result.items.map( ref => st.file(ref) ) ),\n      // Appends the new uploads when requested\n      switchMap( files => this.upload$.pipe(\n        // Starts the uploads and map it into a file\n        map( upload => upload && st.file( upload ) ),\n        // Appends the aploads to the previous list\n        scan( (uploads, upload) => upload ? uploads.concat( upload ) : uploads, files)\n      ))\n    );\n  }\n\n  /** List the files/folders of the given path */\n  public ls(path: string|StorageRef) {\n\n    // Updates the current list from the very same path\n    if(path === '.') { return this.source$.next(this.ref); }\n\n    // Handles the '/' listing the root content\n    if(path === '/') { return this.source$.next( this.ref.root ); }\n\n    // Handles the '..' listing the parent content\n    if(path === \"..\") { return this.source$.next( this.ref.parent ); }\n\n    // Handles plain strings listing the 'subfolder' child\n    if(typeof path === 'string') { return this.source$.next( this.ref.child( path )); }\n\n    // Lists the given reference otherwise\n    this.source$.next( path );\n  }\n\n  /** Uploads new files in the current folder */\n  public upload(file: File, meta?: UploadMetadata): UploadObservable {\n    \n    // Creates the UploadObservable\n    const up = this.child(file.name).put(file, meta);\n    // Pushes the objesvable along the uploading stream and returns it to the caller\n    return this.upload$.next( up ), up;\n  }\n}","import { Directive, OnInit, OnDestroy, Input, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { ContentStreamer } from './content-streamer.service';\nimport { map } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: 'ng-template[wmContent]'\n})\n/** Provides the selected content to be consumed by the template */\nexport class ContentDirective implements OnInit, OnDestroy {\n\n  private sub: Subscription;\n  public $implicit: any = [];\n\n  constructor(private content: ContentStreamer, private tpl: TemplateRef<ContentDirective>, private vcr: ViewContainerRef) { }\n\n  ngOnInit() {\n    // Creates the view using the directive body as the context\n    this.vcr.createEmbeddedView(this.tpl, this);\n  }\n\n  ngOnDestroy() { \n    // Disposes the obsevable(s)\n    if(!!this.sub) { this.sub.unsubscribe(); }\n  }\n\n  /** The current resolved language code */\n  get language(): string { return this.content.language; }\n\n  /** Defines the default value to use whenever the requested content were missing */\n  @Input() wmContentOr: any = [];\n\n  /** Binds the requested content as an object directly:\n   * Usage: \n   * <... *wmContent=\"let data select 'content.page1'\">\n   *   ...\n   *   <span>{{ data.title }}</span>\n   */\n  @Input() set wmContentSelect(selector: string) {\n    // Unsubscribes previous subscriptions\n    if(!!this.sub) { this.sub.unsubscribe(); }\n    // Skips on null selectors\n    if(!selector) { return; }\n    // Subscribes to the data stream\n    this.sub = this.content.stream(selector)\n      // Binds the data content\n      .subscribe( data => this.$implicit = data || this.wmContentOr );\n  }\n\n  /** Binds the requested content as an observable:\n   * Usage: \n   * <... *wmContent=\"let data$ stream 'content.page1'\">\n   *   ...\n   *   <... *ngIf=\"data$ | async as data\">\n   *     ...\n   *     <span>{{ data.title }}</span>\n   */\n  @Input() set wmContentStream(selector: string) {\n    // Skips on null selectors\n    if(!selector) { return; }\n    // Binds the data stream observable \n    this.$implicit = this.content.stream(selector)\n      .pipe( map( value => value || this.wmContentOr ));\n  }\n}","export * from './auth-guard.service';\nexport * from './auth.service';\nexport * from './auth.module';\n","import { StorageReference } from './storage-reference';\nimport { UploadObservable } from './upload-observable';\nimport { StorageFile, StorageFolder } from './extras';\nimport { FirebaseApp } from '@wizdm/connect';\nimport { NgZone } from '@angular/core';\nimport { storage } from 'firebase/app';\n\n//--\nexport type FirebaseStorage    = storage.Storage;\nexport type StorageRef         = storage.Reference;\nexport type ListOptions        = storage.ListOptions;\nexport type ListResult         = storage.ListResult;\nexport type UploadMetadata     = storage.UploadMetadata;\nexport type SettableMetadata   = storage.SettableMetadata;\nexport type FullMetadata       = storage.FullMetadata;\nexport type StringFormat       = storage.StringFormat;\nexport type UploadTask         = storage.UploadTask;\nexport type UploadTaskSnapshot = storage.UploadTaskSnapshot;\n\n/** Wraps the Firebase Storage  */\nexport abstract class StorageApplication {\n\n  readonly storage: FirebaseStorage;\n\n  constructor(app: FirebaseApp, readonly zone: NgZone) {\n    // Gets the Storage instance \n    this.storage = zone.runOutsideAngular( () => app.storage() );\n  }\n\n  /** Returns a firebase storage reference to the given path */\n  public ref(path: string|StorageRef): StorageRef {\n    return typeof path === 'string' ? this.storage.ref(path) : path;\n  }\n\n  /** Returns a reference to the storage object identified by its path */\n  public abstract reference(path: string|StorageRef): StorageReference;\n\n  /** Returns a reference to the storage object identified by its download URL */\n  public abstract fromURL(url: string): StorageReference;\n\n  /** Verifies the validity of a given storage url */\n  public abstract testURL(url: string): boolean;\n\n  /** Shortcut to start an upload task of binary data */\n  public abstract upload(path: string, data: Blob|Uint8Array|ArrayBuffer, metadata?: UploadMetadata): UploadObservable;\n\n  /** Returns a folder object from a reference */\n  public abstract folder(ref: string|StorageRef): StorageFolder;\n\n  /** Returns a file object from a varaiety of references */\n  public abstract file(ref: string|StorageRef|StorageReference|UploadObservable): StorageFile;\n}","import { ConnectConfig } from '@wizdm/connect';\nimport { DoorbellConfig } from '@wizdm/doorbell';\nimport { GtagConfig } from '@wizdm/gtag';\n\n// Defines global secret environment variables\nexport const secrets = {\n\n  rootEmail: '<< your root access email goes here >>',\n\n  // We use the test key while in development, live key for production\n  stripeTestKey: '<< your pk_test_... key goes here >>',\n  stripeLiveKey: '<< your pk_live_... key goes here >>',\n\n  firebase: <ConnectConfig> {\n    apiKey: \"AIzaSyAzU3dsonD790xZ-5B1TTsSDgKJ-Fi1t7M\",\n    authDomain: \"dalpha01-24590.firebaseapp.com\",\n    databaseURL: \"https://dalpha01-24590-default-rtdb.firebaseio.com\",\n    projectId: \"dalpha01-24590\",\n    storageBucket: \"dalpha01-24590.appspot.com\",\n    messagingSenderId: \"129752537170\",\n    appId: \"1:129752537170:web:2806e3edc7a24d5306e78b\",\n    measurementId: \"G-G7E67M0QD0\"\n  },\n\n  doorbell: <DoorbellConfig> {\n    url: \"https://doorbell.io/api/applications\",\n    id: \"<< your doorbell id here >>\",\n    appKey: \"<< your doorbell app key here >>\"  \n  },\n\n  gtag: <GtagConfig> {\n    targetId: '<< YOUR GA MEASURE ID HERE >>'\n  }\n};\n","import { DatabaseDocument, DatabaseTransaction, DatabaseBatch, DocumentRef } from './document'\nimport { DatabaseCollection, DatabaseGroup, CollectionRef, Query } from './collection';\nimport { DistributedCounter, CounterShard } from './counter';\nimport { FirebaseApp } from '@wizdm/connect';\nimport { firestore } from 'firebase/app';\nimport { NgZone } from '@angular/core';\n\nexport type PersistenceSettings = firestore.PersistenceSettings;\nexport type FirebaseFirestore = firestore.Firestore;\n\nexport type Timestamp = firestore.Timestamp;\nexport type FieldPath = firestore.FieldPath;\nexport type FieldValue = firestore.FieldValue;\nexport type GeoPoint = firestore.GeoPoint;\n\nexport abstract class DatabaseApplication {\n\n  readonly firestore: FirebaseFirestore;\n  private persisted: boolean = false;\n\n  constructor(app: FirebaseApp, readonly zone: NgZone, persistance?: PersistenceSettings) { \n\n    // Runs outside the angular zon to avoid triggerig unwanted change detections\n    this.firestore = zone.runOutsideAngular( () => {\n\n      // Gets the Firestore instance \n      const firestore = app.firestore();\n\n      // Tries to enable persistance when requested\n      persistance && firestore.enablePersistence(persistance)\n        .then( () => this.persisted = true )\n        .catch( () => this.persisted = false);\n\n      return firestore;\n    });\n  }\n\n  /** True whenever persistance has been succesfully enabled */\n  public get isPersistanceEnabled() {\n    return this.persisted;\n  }\n\n  /** Returns a fieldpath from the provided field names. If more than one field name is provided, the path will point to a nested field \n   * in a document */\n  public fieldPath(...fieldNames: string[]) {\n    return new firestore.FieldPath(...fieldNames);\n  }\n\n  /** Returns an ID sentinel to be used in queries */\n  public get sentinelId(): FieldPath {\n    return firestore.FieldPath.documentId();\n  }\n\n  /** Returns a server timestamp palceholder (it'll turn into a timestamp serverside) */\n  public get timestamp(): FieldValue {\n    return firestore.FieldValue.serverTimestamp();\n  }\n\n  /** Returns a sentinel for use with update to mark the field for deletion */\n  public get delete(): FieldValue {\n    return firestore.FieldValue.delete();\n  }\n\n  /** Returns a special value that can be used with set() or update() telling the server to increment the field's current value */\n  public increment(n: number): FieldValue {\n    return firestore.FieldValue.increment(n);\n  }\n\n  /** Returns a special value that can be used with set() or update() telling the server to add the given elements to an array */\n  public arrayUnion<T>(...elements: T[]): FieldValue {\n    return firestore.FieldValue.arrayUnion(...elements);\n  }\n\n  /** Returns a special value that can be used with set() or update() telling the server to remove the given elements from an array */\n  public arrayRemove<T>(...elements: T[]): FieldValue {\n    return firestore.FieldValue.arrayRemove(...elements);\n  }\n\n  /** Creates a geopoint at the given lat and lng */\n  public geopoint(lat: number, lng: number): GeoPoint {\n    return new firestore.GeoPoint(lat, lng);\n  }\n\n  public doc<T>(ref: string|DocumentRef<T>): DocumentRef<T> {\n    return !!ref ? (typeof ref === 'string' ? this.firestore.doc(ref) as DocumentRef<T> : ref) : null;\n  }\n\n  public col<T>(ref: string|CollectionRef<T>): CollectionRef<T> {\n    return !!ref ? (typeof ref === 'string' ? this.firestore.collection(ref) as CollectionRef<T> : ref) : null;\n  }\n\n  public group<T>(ref: string|Query<T>): Query<T> {\n    return !!ref ? (typeof ref === 'string' ? this.firestore.collectionGroup(ref) as Query<T> : ref) : null;\n  }\n\n  /** Database Objects Factories */\n  public abstract document<T>(path: string|DocumentRef<T>): DatabaseDocument<T>;\n  public abstract collection<T>(path: string|CollectionRef<T>): DatabaseCollection<T>;\n  public abstract collectionGroup<T>(groupId: string|Query<T>): DatabaseGroup<T>;\n  public abstract counter(path: string|CollectionRef<CounterShard>, shards: number): DistributedCounter;\n  public abstract transaction<T>( updateFn: (t: DatabaseTransaction) => Promise<T> ): Promise<T>;\n  public abstract batch(): DatabaseBatch;\n}\n","import { Directive, Input, Output, EventEmitter, HostBinding, HostListener } from '@angular/core';\nimport { EmojiUtils } from '@wizdm/emoji/utils';\n\n// 1x1px transparent image placeholder\nexport const fakeImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\";\n\n@Directive({\n  selector: 'img[wm-emoji]',\n  host: { \n    \"class\": \"wm-emoji\",\n    \"style\": \"box-sizing: border-box; vertical-align: text-bottom;\",\n    \"[style.width]\": \"size || '1.25em'\",\n    \"[style.height]\": \"size || '1.25em'\",\n    \"[style.margin-left]\": \"spacing || '0.05em'\",\n    \"[style.margin-right]\": \"spacing || '0.05em'\",\n    \"[style.border]\": \"loading || error ? '1px dashed currentColor' : undefined\",\n    \"[style.opacity]\": \"loading || error ? '0.25' : undefined\"\n  }\n})\nexport class EmojiImage {\n\n  public error: boolean; \n  public load: boolean; \n  public emoji: string;\n  \n  get loading(): boolean { return !this.load; }\n\n  constructor(private utils: EmojiUtils) { }\n  \n  /** The emoji code to be rendered */\n  @Input('wm-emoji') set value(emoji: string) {\n    // Tracks the requested emoji sequence\n    this.emoji = emoji;\n    // Resets the loading flags\n    this.load = this.error = false;\n  }\n\n  /** Customizes the emoji size when in web mode. Default is 1.25em */\n  @Input() size: string;\n\n  /** Customizes the emoji spacing when in web mode. Default is 0.05em (each side) */\n  @Input() spacing: string;\n\n  /** Applies the emoji sequence as the alternative */\n  @HostBinding('alt') get alt(): string {\n    return this.emoji;\n  } \n\n  /** The source file of the emoji image corresponding to the requested code */\n  @HostBinding('src') get src(): string {\n    // Loads the file falling back to a fake image on error\n    return this.error ? fakeImage : this.utils.imageFilePath(this.emoji);\n  }\n\n  /** Emits which side (left or right) the emoji image as been hit (mousedowm) */\n  @Output() hit = new EventEmitter<'left'|'right'>();\n\n  /** Handles on error event */\n  @HostListener('error') onError() { \n    this.error = true; \n  }\n\n  /** Handles on load event */\n  @HostListener('load') onLoad() { \n    this.load = true; \n  }\n\n  /** Handles the mouse event to catch for user hits */\n  @HostListener('mousedown', ['$event']) onMouseDown({ target, clientX }: MouseEvent) {\n    // Computes the Element's client rect\n    const rt = (target as HTMLElement).getBoundingClientRect();\n    // Checks whatever side of the image the mouse position falls into and emits the event accordingly\n    rt && this.hit.emit(clientX < (rt.left + rt.right) / 2 ? 'left' : 'right');\n  }\n}","import { NgModule, Optional, Inject } from '@angular/core';\nimport { FunctionsService } from './functions.service';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport 'firebase/functions';\n\n@NgModule({\n  providers: [ FunctionsService ]\n})\nexport class FunctionsModule {\n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n}","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","export * from './interpolations.pipe';\nexport * from './interpolation.module';","import { Directive, Input, HostBinding, HostListener } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { RedirectService } from './redirect.service';\n\n@Directive({\n  selector: ':not(a):not(area)[wmRedirect]'\n})\nexport class RedirectDirective {\n\n  constructor(readonly redirect: RedirectService) { }\n\n  @Input('wmRedirect') url: string;\n\n  /** */\n  @Input('disabled') set disable(value: boolean) { this.disabled = coerceBooleanProperty(value); }\n  public disabled: boolean = false;\n\n  @HostListener('click') onClick() {\n    // Skips when disabled\n    if(this.disabled) { return false; }\n    // Navigates on the requested link redirecting when necessary\n    this.redirect.navigate(this.url);\n    // Prevents default\n    return false;\n  }\n}\n\n@Directive({\n  selector: 'a[wmRedirect],area[wmRedirect]'\n})\nexport class RedirectWithHrefDirective extends RedirectDirective {\n\n  constructor(redirect: RedirectService) { \n    super(redirect);\n  }\n\n   // Binds the requested url to the href property\n  @HostBinding('href') get href() { return this.url; }\n}","import { Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { StripeCaller } from './stripe-caller';\n\nimport type { \n  StripeConstructor, \n  StripeConstructorOptions,\n  StripeError,\n  PaymentIntent,\n  PaymentMethod,\n  PaymentRequest,\n  PaymentRequestOptions,\n  SetupIntent,  \n  Token,\n  TokenCreateParams,\n  Source,\n  RedirectToCheckoutOptions,  \n  ConfirmAlipayPaymentData,  \n  ConfirmAlipayPaymentOptions,\n  ConfirmAuBecsDebitPaymentData,\n  ConfirmBancontactPaymentData,\n  ConfirmBancontactPaymentOptions,\n  ConfirmCardPaymentData,\n  ConfirmCardPaymentOptions,\n  ConfirmEpsPaymentData,\n  ConfirmEpsPaymentOptions,\n  ConfirmFpxPaymentData, \n  ConfirmFpxPaymentOptions,\n  ConfirmGiropayPaymentData, \n  ConfirmGiropayPaymentOptions,\n  ConfirmIdealPaymentData, \n  ConfirmIdealPaymentOptions,\n  ConfirmP24PaymentData, \n  ConfirmP24PaymentOptions,\n  ConfirmSepaDebitPaymentData,\n  CreatePaymentMethodData,\n  ConfirmAuBecsDebitSetupData,\n  ConfirmBacsDebitSetupData,\n  ConfirmCardSetupData, \n  ConfirmCardSetupOptions,\n  ConfirmSepaDebitSetupData,\n  StripeIbanElement,\n  CreateTokenIbanData,\n  StripeCardElement, \n  StripeCardNumberElement, \n  CreateTokenCardData,\n  CreateTokenPiiData,\n  CreateTokenBankAccountData,\n  StripeCardCvcElement,\n  StripeElement, \n  CreateSourceData,\n  RetrieveSourceParam\n} from '@stripe/stripe-js';\n\n/** Stripe Public Key token */\nexport const STRIPE_PUBLIC_KEY = new InjectionToken<string>('wizdm.stripe.public-key');\n\n/** Stripe Options token */\nexport const STRIPE_OPTIONS = new InjectionToken<StripeConstructorOptions>('wizdm.stripe.options');\n\n/** Stripe constructor token */\nexport const STRIPEJS = new InjectionToken<Promise<StripeConstructor>>('wizdm.stripe.constructor');\n\n/** Stripe.js Injectale proxy service for Angular */\n/** @dynamic - tells ngc to ignore the error on potentially unknown types generated by strictEmitMetadata: true */\n@Injectable()\nexport class StripeService extends StripeCaller {\n  \n  /////////////////////////////\n  /// Checkout\n  ///\n  /// https://stripe.com/docs/js/checkout\n  /////////////////////////////\n\n  /**\n   * Use `stripe.redirectToCheckout` to redirect your customers to [Checkout](https://stripe.com/docs/payments/checkout), a Stripe-hosted page to securely collect payment information.\n   * When the customer completes their purchase, they are redirected back to your website.\n   */\n  public redirectToCheckout(options: RedirectToCheckoutOptions): Promise<never | {error: StripeError}> {    \n    return this.callStripe('redirectToCheckout', arguments);\n  }\n\n  /////////////////////////////\n  /// Payment Intents\n  ///\n  /// https://stripe.com/docs/js/payment_intents\n  /////////////////////////////\n\n  /**\n   * Use `stripe.confirmAlipayPayment` in the [Alipay Payments](https://stripe.com/docs/payments/alipay) with Payment Methods flow when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide, and it will automatically redirect the customer to authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new PaymentMethod for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_alipay_payment\n   */\n  public confirmAlipayPayment(clientSecret: string, data?: ConfirmAlipayPaymentData, options?: ConfirmAlipayPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {    \n    return this.callStripe('confirmAlipayPayment', arguments);\n  }\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * Use `stripe.confirmAuBecsDebitPayment` in the [BECS Direct Debit Payments](https://stripe.com/docs/payments/payment-methods/au-becs-debit) with Payment Methods flow when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/payment-methods/au-becs-debit-quickstart-payment-intents) for more details.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new PaymentMethod for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_au_becs_debit_payment\n   */\n  public confirmAuBecsDebitPayment(clientSecret: string, data?: ConfirmAuBecsDebitPaymentData): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmAuBecsDebitPayment', arguments);\n  }\n  \n  /**\n   * Use `stripe.confirmBancontactPayment` in the [Bancontact Payments with Payment Methods](https://stripe.com/docs/payments/bancontact#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_bancontact_payment\n   */\n  public confirmBancontactPayment(clientSecret: string, data?: ConfirmBancontactPaymentData, options?: ConfirmBancontactPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmBancontactPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmCardPayment` when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide and carry out 3DS or other next actions if they are required.\n   *\n   * If you are using [Dynamic 3D Secure](https://stripe.com/docs/payments/3d-secure#three-ds-radar), `stripe.confirmCardPayment` will trigger your Radar rules to execute and may open a dialog for your customer to authenticate their payment.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_card_payment\n   */\n  public confirmCardPayment(clientSecret: string, data?: ConfirmCardPaymentData, options?: ConfirmCardPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> { \n    return this.callStripe('confirmCardPayment', arguments);\n  };\n\n  /**\n   * Use `stripe.confirmEpsPayment` in the [EPS Payments with Payment Methods](https://stripe.com/docs/payments/eps#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_eps_payment\n   */\n  public confirmEpsPayment(clientSecret: string, data?: ConfirmEpsPaymentData, options?: ConfirmEpsPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmEpsPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmFpxPayment` in the [FPX Payments with Payment Methods](https://stripe.com/docs/payments/fpx#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_fpx_payment\n   */\n  public confirmFpxPayment(clientSecret: string, data?: ConfirmFpxPaymentData, options?: ConfirmFpxPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmFpxPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmGiropayPayment` in the [giropay Payments with Payment Methods](https://stripe.com/docs/payments/giropay#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_giropay_payment\n   */\n  public confirmGiropayPayment(clientSecret: string, data?: ConfirmGiropayPaymentData, options?: ConfirmGiropayPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmGiropayPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmIdealPayment` in the [iDEAL Payments with Payment Methods](https://stripe.com/docs/payments/ideal) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_ideal_payment\n   */\n  public confirmIdealPayment(clientSecret: string, data?: ConfirmIdealPaymentData, options?: ConfirmIdealPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmGiropayPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmP24Payment` in the [Przelewy24 Payments with Payment Methods](https://stripe.com/docs/payments/p24#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_p24_payment\n   */\n  public confirmP24Payment(clientSecret: string, data?: ConfirmP24PaymentData, options?: ConfirmP24PaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmP24Payment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmSepaDebitPayment` in the [SEPA Direct Debit Payments](https://stripe.com/docs/payments/sepa-debit) with Payment Methods flow when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/sepa-debit) for more details.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new PaymentMethod for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_sepa_debit_payment\n   */\n  public confirmSepaDebitPayment(clientSecret: string, data?: ConfirmSepaDebitPaymentData): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmSepaDebitPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.handleCardAction` in the Payment Intents API [manual confirmation](https://stripe.com/docs/payments/payment-intents/web-manual) flow to handle a [PaymentIntent](https://stripe.com/docs/api/payment_intents) with the `requires_action` status.\n   * It will throw an error if the `PaymentIntent` has a different status.\n   *\n   * Note that `stripe.handleCardAction` may take several seconds to complete.\n   * During that time, you should disable your form from being resubmitted and show a waiting indicator like a spinner.\n   * If you receive an error result, you should be sure to show that error to the customer, re-enable the form, and hide the waiting indicator.\n   *\n   * Additionally, `stripe.handleCardAction` may trigger a [3D Secure](https://stripe.com/docs/payments/3d-secure) authentication challenge.\n   * The authentication challenge requires a context switch that can be hard to follow on a screen-reader.\n   * Ensure that your form is accessible by ensuring that success or error messages are clearly read out.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/handle_card_action\n   */\n  public handleCardAction(clientSecret: string): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('handleCardAction', arguments);\n  }\n\n  /**\n   * Use stripe.createPaymentMethod to convert payment information collected by elements into a [PaymentMethod](https://stripe.com/docs/api/payment_methods) object that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/create_payment_method\n   */\n  public createPaymentMethod(paymentMethodData: CreatePaymentMethodData): Promise<{paymentMethod?: PaymentMethod; error?: StripeError}> {\n   return this.callStripe('createPaymentMethod', arguments); \n  }\n\n  /**\n   * Retrieve a [PaymentIntent](https://stripe.com/docs/api/payment_intents) using its [client secret](https://stripe.com/docs/api/payment_intents/object#payment_intent_object-client_secret).\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/retrieve_payment_intent\n   */\n  public retrievePaymentIntent(clientSecret: string): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('retrievePaymentIntent', arguments); \n  }\n\n  /////////////////////////////\n  /// Setup Intents\n  ///\n  /// https://stripe.com/docs/js/setup_intents\n  /////////////////////////////\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * Use `stripe.confirmAuBecsDebitSetup` in the [BECS Direct Debit with Setup Intents](https://stripe.com/docs/payments/payment-methods/au-becs-debit-quickstart-setup-intents) flow when the customer submits your payment form.\n   * When called, it will confirm the `SetupIntent` with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/payment-methods/au-becs-debit-quickstart-setup-intents) for more details.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_au_becs_debit_setup\n   */\n  public confirmAuBecsDebitSetup(clientSecret: string, data?: ConfirmAuBecsDebitSetupData): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmAuBecsDebitSetup', arguments); \n  }\n\n  /**\n   * Use `stripe.confirmBacsDebitSetup` in the [Bacs Direct Debit Payments](https://stripe.com/docs/payments/payment-methods/bacs-debit) flow when the customer submits your payment form.\n   * When called, it will confirm the [SetupIntent](https://stripe.com/docs/api/setup_intents) with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/payment-methods/bacs-debit) for more details.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   * These use cases are detailed in the sections that follow.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_bacs_debit_setup\n   */\n  public confirmBacsDebitSetup(clientSecret: string, data?: ConfirmBacsDebitSetupData): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmBacsDebitSetup', arguments); \n  }\n\n  /**\n   * Use `stripe.confirmCardSetup` in the [Setup Intents API flow](https://stripe.com/docs/payments/save-and-reuse) when the customer submits your payment form.\n   * When called, it will confirm the [SetupIntent](https://stripe.com/docs/api/setup_intents) with `data` you provide and carry out 3DS or other next actions if they are required.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_card_setup\n   */\n  public confirmCardSetup(clientSecret: string, data?: ConfirmCardSetupData, options?: ConfirmCardSetupOptions): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmCardSetup', arguments); \n  }\n\n  /**\n   * Use `stripe.confirmSepaDebitSetup` in the [SEPA Direct Debit with Setup Intents](https://stripe.com/docs/payments/sepa-debit-setup-intents) flow when the customer submits your payment form.\n   * When called, it will confirm the `SetupIntent` with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/sepa-debit-setup-intents) for more details.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_sepa_debit_setup\n   */\n  public confirmSepaDebitSetup(clientSecret: string, data?: ConfirmSepaDebitSetupData): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmSepaDebitSetup', arguments); \n  }\n\n  /**\n   * Retrieve a [SetupIntent](https://stripe.com/docs/api/setup_intents) using its client secret.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/retrieve_setup_intent\n   */\n  public retrieveSetupIntent(clientSecret: string): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('retrieveSetupIntent', arguments); \n  }\n\n  /////////////////////////////\n  /// Payment Request\n  ///\n  /// https://stripe.com/docs/js/payment_request\n  /////////////////////////////\n\n  /**\n   * Use `stripe.paymentRequest` to create a `PaymentRequest` object.\n   * Creating a `PaymentRequest` requires that you configure it with an `options` object.\n   *\n   * In Safari, `stripe.paymentRequest` uses Apple Pay, and in other browsers it uses the [Payment Request API standard](https://www.w3.org/TR/payment-request/).\n   */\n  public paymentRequest(options: PaymentRequestOptions): Promise<PaymentRequest> {\n    return this.callStripe('paymentRequest', arguments); \n  }\n\n  /////////////////////////////\n  /// Token and Sources\n  ///\n  /// https://stripe.com/docs/js/tokens_sources\n  /////////////////////////////\n\n  /**\n   * Use `stripe.createToken` to convert information collected by an `IbanElement` into a single-use [Token](https://stripe.com/docs/api#tokens) that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=ibanElement\n   */\n  public createToken(tokenType: StripeIbanElement, data: CreateTokenIbanData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to convert information collected by card elements into a single-use [Token](https://stripe.com/docs/api#tokens) that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\n   */\n  public createToken(tokenType: StripeCardElement | StripeCardNumberElement, data?: CreateTokenCardData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to convert personally identifiable information (PII) into a single-use [Token](https://stripe.com/docs/api#tokens) for account identity verification.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=pii\n   */\n  public createToken(tokenType: 'pii', data: CreateTokenPiiData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to convert bank account information into a single-use token that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=bank_account\n   */\n  public createToken(tokenType: 'bank_account', data: CreateTokenBankAccountData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to tokenize the recollected CVC for a saved card.\n   * First, include the `cvc_update_beta_1` flag when creating an instance of the Stripe object.\n   * Next, render an `CardCvcElement` to collect the data.\n   * Then pass the `CardCvcElement` to `stripe.createToken` to tokenize the collected data.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=bank_account\n   */\n  public createToken(tokenType: 'cvc_update', element?: StripeCardCvcElement): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to create a single-use token that wraps a users legal entity information.\n   * Use this when creating or updating a Connect account.\n   * See the [account tokens documentation](https://stripe.com/docs/connect/account-tokens) to learn more.\n   */\n  public createToken(tokenType: 'account', data: TokenCreateParams.Account): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to create a single-use token that represents the details for a person.\n   * Use this when creating or updating persons associated with a Connect account.\n   * See the [documentation](https://stripe.com/docs/connect/account-tokens) to learn more.\n   */\n  public createToken(tokenType: 'person', data: TokenCreateParams.Person): Promise<{token?: Token; error?: StripeError}>;\n\n  // createToken function implementation\n  public createToken() { return this.callStripe('createToken', arguments); }\n\n  /**\n   * Use `stripe.createSource` to convert payment information collected by elements into a `Source` object that you safely pass to your server to use in an API call.\n   * See the [Sources documentation](https://stripe.com/docs/sources) for more information about sources.\n   */\n  public createSource(element: StripeElement, sourceData: CreateSourceData): Promise<{source?: Source; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createSource` to convert raw payment information into a `Source` object that you safely pass to your server to use in an API call.\n   * See the [Sources documentation](https://stripe.com/docs/sources) for more information about sources.\n   */\n  public createSource(sourceData: CreateSourceData): Promise<{source?: Source; error?: StripeError}>;\n\n  // createSource function implementation\n  public createSource() { return this.callStripe('createSource', arguments); }\n\n  /**\n   * Retrieve a [Source](https://stripe.com/docs/api#sources) using its unique ID and client secret.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/retrieve_source\n   */\n  public retrieveSource(source: RetrieveSourceParam): Promise<{source?: Source; error?: StripeError}> {\n    return this.callStripe('retrieveSource', arguments);\n  }\n  \n  // Extends the StripeCaller base class enabling Stripe sdk proxy capabilities\n  constructor(@Inject(STRIPEJS) stripejs: Promise<StripeConstructor>, @Inject(STRIPE_PUBLIC_KEY) publicKey: string, @Optional() @Inject(STRIPE_OPTIONS) options: StripeConstructorOptions) { \n    super(stripejs, publicKey, options); \n  }\n}","export * from './emoji-image.directive';\nexport * from './emoji-image.module';\n","export * from './emoji-text.component';\nexport * from './emoji-text.module';","import { NgModule, Optional, Inject } from '@angular/core';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport { AuthGuard } from './auth-guard.service';\nimport { AuthService } from './auth.service';\nimport 'firebase/auth';\n\n@NgModule({\n  providers: [ AuthService, AuthGuard ]\n})\nexport class AuthModule {\n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n}","export * from './counter';","import { InjectionToken, inject, Type } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { SelectorResolver } from './selector-resolver.service';\nimport { ContentLoader } from '../loader/content-loader.service';\nimport { take, catchError } from 'rxjs/operators';\nimport { Observable, of } from 'rxjs';\n\n/** Base resolver loading the page content according to the requested language */\nexport class ContentResolver implements Resolve<any> {\n\n  /** Builds a content resolver instance for the specified source file on the fly */\n  static create<T = any>(source: string, file: string, providedIn: 'root'|Type<T> = 'root') {\n\n    return new InjectionToken(`wizdm.content.${file}`, {\n      providedIn,\n      factory: () => new ContentResolver(inject(ContentLoader as any), inject(SelectorResolver), source, file)\n    });\n  }\n\n  constructor(readonly loader: ContentLoader, readonly selector: SelectorResolver, readonly source: string, readonly file: string) { }\n\n  /** Resolves the content loading the requested source file */\n  public resolve(route: ActivatedRouteSnapshot): Observable<any> {\n    // Resolves the language code from the route\n    const lang = this.selector.resolve(route);\n    // Loads the specified module from the language forlder\n    return this.loader.loadFile(this.source, lang, this.file)\n      .pipe( \n        // Makes sure the loading always completes to avoid the routing got stuck\n        take(1),\n        // Whereve happens (the requested file does not exist) returns an empty object\n        catchError( () => of({}) ) \n      );\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n/** Uses the input string as a key to pluck a value from an object. \n * Dotted separated keys are supoprted to pluck values deeper.\n * @example 'errors.required' | pluck: errorMessages */\n@Pipe({ name: 'pluck' })\nexport class PluckPipe implements PipeTransform {\n\n  transform(key: string, value?: any, defaultValue?: any): any {\n\n    if(!(value instanceof Object) || !key) { return value; }\n\n    return key.split(/[.\\/]/).reduce( (value, key) => { \n\n      return (value[key] !== undefined) ? value[key] : defaultValue;\n\n    }, value);\n  }\n}\n\n/** Replace keys embedded into the input string withing double brackets \n * with their corresponding values pluck from the conteext object \n * @example 'Counting {{ count }}' | interpolate: this */\n@Pipe({ name: 'interpolate', pure: false })\nexport class InterpolatePipe extends PluckPipe {\n\n  transform(value: any, context?: any): string {\n\n    if(typeof value !== 'string') { return value; }\n    \n    return value.replace(/{{\\s*([.\\w]+)\\s*}}/g, (match, capture) => \n      super.transform(capture, context, capture) );\n  }\n}\n\n/** Evaluate the expressions embedded into the input string \n * withing double brackets similarly to eval() with a context limited\n * to the sole variables passed along in the context object \n * @example 'Double counting {{ count * 2 }}' | eval: this */\n@Pipe({ name: 'eval', pure: false })\nexport class EvalPipe {\n\n  transform(value: any, context?: any): string {\n    // Simply return the input as it is when other than string \n    if(typeof value !== 'string') { return value; }\n    // Declares intermediate variables \n    let keys: string[], vals: any[];\n    // Searches for the expressions within double brackets\n    return value.replace(/{{(.*)}}/g, (match, capture) => {\n      // Gets context's keys and values\n      keys = keys || Object.keys(context);\n      vals = vals || keys.map( key => context[key] );\n      // Dynamically creates a function with limited scope passing along the \n      // keys as the argument names to be referenced withing the function body,\n      // to simply return the evaluated expression value, and calls it. \n      return Function(...keys, `'use strict'; return ${capture};`)(...vals);\n    });\n  }\n}\n\n/** Converts the input string from camelCase to kebab-case*/\n@Pipe({ name: 'hyphenize' })\nexport class HyphenizePipe implements PipeTransform {\n\n  transform(value: any, hyphen: string = '-'): string {\n\n    if(typeof value !== 'string') { return ''; }\n    \n    return value ? value.replace(/([A-Z])/g, $1 => {\n      return hyphen + $1.toLowerCase();\n    }): '';\n  }\n}\n\n/** Converts the input string from kebab-case to camelCase*/\n@Pipe({ name: 'camelize' })\nexport class CamelizePipe implements PipeTransform {\n\n  transform(value: any): string {\n\n    if(typeof value !== 'string') { return ''; }\n\n    return value ? value.replace(/([_.\\- ][a-z])/g, $1 => {\n      return $1.toUpperCase().replace(/[_.\\- ]/g,'');\n    }) : '';\n  }\n}\n\n/** C-like printf() formatting */\n@Pipe({ name: 'printf' })\nexport class PrintfPipe implements PipeTransform {\n\n  transform(value: any, ...args: any): string {\n\n    if(typeof value !== 'string') { return ''; }\n\n    let i = 0;\n    // Uses a regular expression to match the syntax and capturing the following groups:\n    // group1 'flags': ([-+ 0#])? captures 0 or 1 flag among '-', '+', ' ', '0', '#'\n    // group2 'width': (\\d*)? captures 0 or 1 instance of a number of 1 up digits \n    // group3 'precision': (?:.(\\d*))? captures 0 or 1 instance of a number of 1 up digits matching only if prepended by '.'\n    // group4 'type': ([%dfs]) matches '%', 'd', 'f' or 's'\n    //\n    return value ? value.replace(/%([-+ 0#])?(\\d*)?(?:.(\\d*))?([%dfs])/g, \n      (match, flags, width, precision, type) => {\n\n      //console.log(\"sprintf: \" + match +\",\" + flags + \",\" + width + \",\" + precision + \",\" + type);\n\n      let value = args[i++];\n      let out = match;\n\n      switch(type) {\n        \n        case 'd': {\n\n        // Turns the value into an integer\n        out = new Number(value).toFixed(0);\n\n        // Prepend '0' or ' ' depending on flags & width values\n        if(typeof width !== \"undefined\" && width > out.length){\n            out = (flags === '0' ? \"0\" : \" \").repeat(width - out.length) + out;}\n        }\n        break;\n\n        case 'f': {\n\n        // Turns the value into a fixed number, in case precision is \"undefined\" toFixed returs all the digits\n        out = new Number(value).toFixed(precision);\n\n        // Evaluates the number of integer digits\n        let digits = out.split('.')[0].toString().length;\n\n        // Prepend '0' or ' ' depending on flags & width values\n        if(typeof width !== \"undefined\" && width > digits){\n            out = (flags === '0' ? \"0\" : \" \").repeat(width - digits) + out;}\n        }\n        break;\n        \n        case 's':\n        out = value.toString();\n        break;\n\n        case '%':// Step back, theres' no assosiated arg \n        out = \"%\";\n        i--; \n        break;\n      }\n\n      return out;\n    }) : '';\n  };\n}","import { Observable, BehaviorSubject, animationFrameScheduler } from 'rxjs';\nimport { scan, map, observeOn } from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\n\nexport interface BackgroundStyle {\n  \"background-image\"       : string;\n  \"backgroung-clip\"        : string;\n  \"background-size\"        : string;\n  \"background-color\"       : string;\n  \"background-repeat\"      : string;\n  \"background-origin\"      : string;\n  \"background-position\"    : string;\n  \"background-attachment\"  : string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BackgroundObservable extends Observable<BackgroundStyle>{\n\n  // Background style \n  private styler$ = new BehaviorSubject<BackgroundStyle|string>(undefined);\n  private inner$: Observable<BackgroundStyle>;\n\n  constructor() { \n    \n    super( observer => this.inner$.subscribe(observer) );\n\n    // Builds the innes observable to support nesting images\n    this.inner$ = this.styler$.pipe(\n\n      // Buffers the image requests\n      scan( (buffer, value) => {\n\n        // Resets the buffer\n        if(!value) { buffer = []; }\n\n        // Clears a previously applied image\n        else if(typeof value === 'string') {\n\n          // Seeks for the image within the buffer and removes it\n          const index = buffer.findIndex( item => item[\"background-image\"] === value );\n          if(index >= 0) { buffer.splice(index, 1); }\n\n        }\n        // Pushes the new image into the buffer otherwise\n        else { buffer.push(value); }\n        return buffer;\n        \n      }, [] as BackgroundStyle[]),\n\n      // Always emit the last buffer item\n      map( buffer => buffer[buffer.length - 1] ), \n      \n      // Ensures the style being applied according to the animationFrameScheduler (so to say in-sync with the rendering)\n      // preventing the notorious ExpressionChangedAfterItHasBeenChecked exception without introducing any delay the \n      // user may otherwise perceive when navigating    \n      observeOn(animationFrameScheduler) \n    );\n  }\n\n  /** Applies the given style to the navigator's content background */\n  public applyBackground(style: BackgroundStyle): string { \n\n    if(!style[\"background-image\"]) { return undefined; }\n    return this.styler$.next(style), style[\"background-image\"];\n  }\n\n  /** Clears the background  */\n  public clearBackground(image?: string) { \n    this.styler$.next(image); \n  }\n}\n","export * from './background.directive';\nexport * from './background.service';\nexport * from './background.module';","import { tap, share, take } from 'rxjs/operators';\nimport { MonoTypeOperatorFunction } from 'rxjs';\nimport { concat } from 'rxjs';\n\nexport function tapOnce<T>(next: (x: T) => void, error?: (e: any) => void, complete?: () => void): MonoTypeOperatorFunction<T> {\n\n  return source => {\n\n    const shared = source.pipe( share() );\n\n    return concat( shared.pipe( take(1), tap(next, error, complete) ), shared ); \n  };\n}","import { DatabaseApplication } from '../database-application';\nimport { DatabaseDocument, DocumentData } from '../document';\nimport { switchMap, expand, scan } from 'rxjs/operators';\nimport { CollectionRef, QueryFn } from './types';\nimport { Observable, of, EMPTY } from 'rxjs';\nimport { query, get } from './operators';\nimport { DatabaseQuery } from './query';\n\n/** Collection object in the database, created by the DatabaseService */\nexport class DatabaseCollection<T extends DocumentData> extends DatabaseQuery<T> {\n\n  public get ref(): CollectionRef<T>{ return this._ref as CollectionRef<T>; }\n\n  constructor(db: DatabaseApplication, pathOrRef?: string|CollectionRef<T>) {\n    // Builds the query observalbe first\n    super(db, db.col(pathOrRef)); \n  }\n\n  /** Returns the collection object id */\n  public get id(): string { return this.ref.id; }\n\n  /** Returns the collection object path relative to the database root */\n  public get path(): string { return this.ref.path; }\n\n  /** Generates a unique ID as if to be used with a a new document */\n  public uniqueId(): string { return this.ref.doc().id; }\n\n  /**\n   * Returns the requested child document\n   * @param path the document path within the collection. If no path is specified, \n   * an automatically-generated unique ID will be used for the refurned DatabaseDocument\n   */\n  public document(path?: string): DatabaseDocument<T> {\n   return this.db.document<T>( this.ref.doc(path) );\n  }\n\n  /**\n   * Adds a new document to the collection\n   * @returns a promise of a DatabaseDocument\n   */\n  public add(data: Partial<T>): Promise<DatabaseDocument<T>> {\n    const created = this.db.timestamp;\n    return this.ref.add({\n      ...data as any,\n      created\n    }).then( ref => this.db.document<T>(ref) );\n  }\n\n  /**\n   * Wipes the all the documents matching the query\n   * @param query a number to limit the batch size or alternatively a query function\n   * selecting the documents to wipe. Just make sure to include a limit() to avoid\n   * exceeding the maximum writes limit during batch deletion.\n   */\n  public wipe(query: number|QueryFn<T> = 50): Promise<number> {\n    // Builds the query function according to the input value\n    const qf: QueryFn<T> = (typeof query === 'number') ? qf => qf.limit(query) : query;\n    // Starts by pushing whatever value\n    return this.deleteBatch(qf).pipe(\n      // Recursively delete the next batches \n      expand(count => count > 0 ? this.deleteBatch(qf) : EMPTY ),\n      // Accumulates the total deletion count\n      scan((total, count) => total + count, 0)\n      // Returns as a promise\n    ).toPromise();\n  }\n\n  // Detetes documents in a batch\n  private deleteBatch(qf: QueryFn<T>): Observable<number> {\n    // Makes sure to limit the request up to bachSize documents\n    return this.pipe( query(qf), get(), switchMap( snap => {\n      // Skips when done\n      if(snap.empty) { return of(0); }\n      // Delete documents in a batch\n      const batch = this.db.batch();\n      snap.forEach( doc => batch.delete(doc.ref) );\n      // Commits the batch write and returns the snapshot size\n      return batch.commit().then( () => snap.size ) ;\n    }));\n  }\n}","import { NgModule, Optional, Inject } from '@angular/core';\nimport { StorageService } from './storage.service';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport 'firebase/storage';\n\n@NgModule({\n  providers: [ StorageService ]\n})\nexport class StorageModule { \n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n}","export * from './database-application';\nexport * from './database.service';\nexport * from './database.module';\n","export * from './emoji-utils.service';\nexport * from './emoji-utils';\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'; \nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\nimport { MomentDateAdapter, MAT_MOMENT_DATE_FORMATS } from '@angular/material-moment-adapter';\nimport { MAT_TOOLTIP_DEFAULT_OPTIONS } from '@angular/material/tooltip';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DatabaseModule } from '@wizdm/connect/database';\nimport { StorageModule } from '@wizdm/connect/storage';\nimport { FunctionsModule } from '@wizdm/connect/functions';\nimport { AuthModule } from '@wizdm/connect/auth';\nimport { ConnectModule } from '@wizdm/connect';\nimport { ContentModule } from '@wizdm/content';\nimport { ReadmeNavigator } from '@wizdm/readme';\nimport { RedirectService } from '@wizdm/redirect';\nimport { EmojiSupportModule } from '@wizdm/emoji';\nimport { IpInfoModule } from '@wizdm/ipinfo';\nimport { GtagModule } from '@wizdm/gtag';\nimport { StripeModule } from '@wizdm/stripe';\nimport { ScrollingModule } from 'app/utils/scrolling';\nimport { AppComponent } from './app.component';  \n\n// Environment\nimport { environment } from '../environments/environment';\nconst  { appname, content, emoji, scroll, ipinfo, tooltips, firebase, stripeTestKey, stripeLiveKey, gtag } = environment;\n\n// Define the singe lazy loading navigation routes\nconst routes: Routes = [ \n  { path: '', loadChildren: () => import('./navigator/navigator.module').then(m => m.NavigatorModule) }\n];\n\n@NgModule({\n  declarations: [ AppComponent ],\n  imports: [\n    // Basics\n    BrowserModule,\n    BrowserAnimationsModule,\n    // Firebase integration\n    ConnectModule.init(firebase, appname),\n    AuthModule, DatabaseModule, StorageModule, FunctionsModule,\n    // IP location info\n    IpInfoModule.init(ipinfo),   \n    // Dynamic content (i18n)\n    ContentModule.init(content),\n    // Google Analytics\n    GtagModule.init(gtag),\n    // Universal Emoji support\n    EmojiSupportModule.init(emoji),\n    // Stripe payments w/ elements\n    StripeModule.init(environment.production ? stripeLiveKey : stripeTestKey),\n    // Angular's Router\n    RouterModule.forRoot(routes),\n    // Enables 'per page' scrolling behaviors overriding the router's configuration\n    ScrollingModule.init(scroll)\n  ],\n  providers: [\n\n    // Provides the redirection service globally\n    RedirectService,\n\n    // Applies the  redirection service to ReadmeComponent from @wizdm/elements\n    { provide: ReadmeNavigator, useExisting: RedirectService },\n\n    // Provides the MatIconRegistry globally\n    MatIconRegistry,\n\n    // Provides the MomentDateAdaper globally for @angular/material DatePicker\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [ MAT_DATE_LOCALE ]},\n\n    // Configures Material Date Format accordingly\n    { provide: MAT_DATE_FORMATS, useValue: MAT_MOMENT_DATE_FORMATS },\n\n    // Configures tooltips behavior globally\n    { provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: tooltips }\n  ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n","export * from './lib/gtag-definitions';\nexport * from './lib/gtag-factory';\nexport * from './lib/gtag.directive';\nexport * from './lib/gtag.service';\nexport * from './lib/gtag.module';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EmojiImageModule } from '@wizdm/emoji/image';\nimport { EmojiText } from './emoji-text.component';\n\n@NgModule({\n  imports: [ CommonModule, EmojiImageModule ],\n  declarations: [ EmojiText ],\n  exports: [ EmojiText ]\n})\nexport class EmojiTextModule { }","export * from './lib/loader/content-loader.service';\nexport * from './lib/loader/content-configurator.service';\nexport * from './lib/streamer/content-streamer.service';\nexport * from './lib/streamer/content.directive';\nexport * from './lib/router/content-resolver';\nexport * from './lib/router/content-selector.service';\nexport * from './lib/router/selector-resolver.service';\nexport * from './lib/router/content-router.module';\nexport * from './lib/content.module';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EmojiTextModule } from '@wizdm/emoji/text';\nimport { ReadmeComponent } from './readme.component';\n\n@NgModule({\n  imports: [ \n    CommonModule, \n    EmojiTextModule \n  ],\n  declarations: [ ReadmeComponent ],\n  exports: [ ReadmeComponent ]\n})\nexport class ReadmeModule { }","export * from './has-touchscreen';","import { Injectable, Inject, NgZone } from '@angular/core';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport { auth, User } from 'firebase/app';\nimport { shareReplay } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n//--\nexport type FirebaseAuth = auth.Auth;\nexport type AuthProvider = auth.AuthProvider;\nexport type IdTokenResult = auth.IdTokenResult;\nexport { User } from 'firebase/app';\n\n/** Wraps the Firebase Auth as a service */\n@Injectable()\nexport class AuthService {\n\n  /** Authentication states observable */\n  readonly state$: Observable<User>;\n\n  /** User observable, includes id token refreshes */\n  readonly user$: Observable<User>;\n\n  /** inner Firebase Auth instance */\n  readonly auth: FirebaseAuth;\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone) {\n\n    // Gets the firebase Auth instance\n    this.auth = zone.runOutsideAngular( () => app.auth() );\n\n    // Builds the authentication state observable (sign-in/out)\n    this.state$ = new Observable<User>(subscriber => this.auth.onAuthStateChanged(\n      // Runs the observable within the Angular's zone\n      (value: User) => zone.run( () => subscriber.next(value) ),\n      // Runs the observable within the Angular's zone\n      (error: any) => zone.run( () => subscriber.error(error) ),\n      // Runs the observable within the Angular's zone\n      () => zone.run( () => subscriber.complete() )\n\n    )).pipe( shareReplay({ bufferSize: 1, refCount: false }) );\n\n    // Builds the user observable (this includes it token refreshes)\n    this.user$ = new Observable<User>(subscriber => this.auth.onIdTokenChanged(\n      // Runs the observable within the Angular's zone\n      (value: User) => zone.run( () => subscriber.next(value) ),\n      // Runs the observable within the Angular's zone\n      (error: any) => zone.run( () => subscriber.error(error) ),\n      // Runs the observable within the Angular's zone\n      () => zone.run( () => subscriber.complete() )\n\n    )).pipe( shareReplay({ bufferSize: 1, refCount: false }) );\n  }\n\n  /** Current user object snapshot */\n  public get user(): User { \n    return this.auth.currentUser; \n  }\n  \n  /** Returns true if user is logged in */\n  public get authenticated(): boolean {\n    return !!this.user;\n  }\n\n  /** Returns the current user id, when authenticated */\n  public get userId(): string {\n    return this.authenticated ? this.user.uid : '';\n  }\n\n  /** Returns the provider id the current user authenticated with */\n  public getProviderId(): Promise<string> {\n    // Resolves to '' when not authenticated\n    if(!this.authenticated) { return Promise.resolve(''); }\n    // Provides the id token result's related provider\n    return this.user.getIdTokenResult().then( result => result.signInProvider );\n  }\n\n  /** Sets/Gets the code for the language to be used during the authentication */\n  public get locale(): string { return this.auth.languageCode; }\n  public setLocale(code: string) { this.auth.languageCode = code; }\n\n  /**\n   * Registers a new user by email and confirmPasswordReset\n   * @param email the email to register with\n   * @param password the secret password\n   * @param name (optional) the user name\n   * @returns the authenticated User object\n   */\n  public registerNew(email: string, password: string, displayName: string = \"\"): Promise<User> {\n    \n    console.log(\"Registering a new user: \" + email);\n    // Create a new user with email and password\n    return this.auth.createUserWithEmailAndPassword(email, password)\n      // Update the user info with the given name\n      .then( credential => credential.user.updateProfile({ displayName })\n        // Returns the updated User object\n        .then( () => credential.user )\n      );\n  }\n\n  /**\n   * Signs in with the given user email and password\n   * @param email the email to register with\n   * @param password the secret password \n   * @returns the authenticated User object\n   */\n  public signIn(email: string, password: string): Promise<User>  {\n    \n    console.log(\"Signing in as: \", email);\n\n    return this.auth.signInWithEmailAndPassword(email, password)\n      .then( credential => credential.user );\n  }\n\n  /** Initializes the requested provider for further use */\n  public setupProvider(providerId: string): AuthProvider {\n\n    switch(providerId) {\n\n      case 'google': case 'google.com':\n      return new auth.GoogleAuthProvider();\n\n      case 'facebook': case 'facebook.com':\n      return new auth.FacebookAuthProvider();\n \n      case 'twitter': case 'twitter.com':\n      return new auth.TwitterAuthProvider();\n      \n      case 'github': case 'github.com':\n      return new auth.GithubAuthProvider();\n    }\n\n    return null;\n  }\n\n  /** \n   * Signs in using the given provider \n   * @param provider the name of the provider to sign in with\n   * @returns the authenticated User object\n   */\n  public signInWith(providerId: string): Promise<User> {\n\n    console.log(\"Signing-in using: \", providerId);\n\n    // Setup the provider \n    const authProvider = this.setupProvider(providerId);\n    if(authProvider === null) {\n      return Promise.reject({\n        code: 'auth/unsupported-provider',\n        message: 'Unsupported provider'\n      });\n    }\n\n    // Authenticate the user with the provider\n    return this.auth.signInWithPopup(authProvider)\n      .then( credential => credential.user );\n  }\n\n  /** \n   * Refreshes the current authentication repeating the secret password \n   * @param password the secret password \n   * @returns the authenticated User object\n   */\n  public reauthenticate(password?: string): Promise<User> {\n\n    // Dismiss the re-authentication attempt whenever the user isn't authenitcated\n    if(!this.authenticated) { \n      return Promise.reject({\n        code: 'auth/user-not-authenticated',\n        message: 'User not authenticated'\n      });\n    }\n\n    // Checks the provider the user lastly authenticated with\n    return this.user.getIdTokenResult().then( result => {\n\n      if(result.signInProvider !== 'password') {\n\n        // Setup the provider \n        const authProvider = this.setupProvider(result.signInProvider);\n        if(authProvider === null) {\n          return Promise.reject({\n            code: 'auth/unsupported-provider',\n            message: 'Unsupported provider'\n          });\n        }\n\n        // Re-authenticate the user with the same provider\n        return this.user.reauthenticateWithPopup(authProvider)\n          .then( credentials => credentials.user );  \n      }\n\n      console.log(\"Refreshing authentication: \", this.user.email);\n      // Gets fresh credentials for the current user\n      const credential = auth.EmailAuthProvider.credential(this.user.email, password);\n      // Re-authenticate the user with the fresh credentials\n      return this.user.reauthenticateWithCredential(credential)\n        .then( credential => credential.user ); \n    });\n  }\n\n  /** Signs out */\n  public signOut(): Promise<void> {\n    \n    console.log(\"Signing-out\");\n    return this.auth.signOut();\n  }\n  \n  /** Applies the received action code to complete the requested action */\n  public applyActionCode(code: string): Promise<void> {\n\n    console.log(\"Applying action with code: \", code);\n    return this.auth.applyActionCode(code);\n  }\n\n  /**\n   * Sends an email to the user to resets the account password\n   * @param url (optional) the link to be passed as the continueUrl query parameter\n   */\n  public sendPasswordResetEmail(email: string, url?: string): Promise<void> {\n    \n    console.log(\"Resetting the password for: \", email);\n    return this.auth.sendPasswordResetEmail(email, url ? { url } : undefined );\n  }\n\n  /** Confirms the new password completing a reset */\n  public confirmPasswordReset(code: string, newPassword: string): Promise<void> {\n\n    console.log(\"Confirming the password with code: \", code);\n    return this.auth.confirmPasswordReset(code, newPassword);\n  }\n}","import { NgModule, ModuleWithProviders, Optional, Inject } from '@angular/core';\nimport { GtagConfig, GtagConfigToken, gtagFactory } from './gtag-factory';\nimport { GtagService, GTAG } from './gtag.service';\nimport { GtagDirective } from './gtag.directive';\n\n@NgModule({\n  declarations: [ GtagDirective ],\n  exports: [ GtagDirective ]\n})\nexport class GtagModule {\n\n  static init(config: GtagConfig): ModuleWithProviders<GtagModule> {\n    return {\n      ngModule: GtagModule,\n      providers: [\n        GtagService,\n        { provide: GtagConfigToken, useValue: config },\n        { provide: GTAG,\n          useFactory: gtagFactory, \n          deps: [ [ new Optional(), new Inject(GtagConfigToken) ] ] }\n      ]\n    };\n  } \n}","export * from './lib/autocomplete';\nexport * from './lib/run-in-zone';\nexport * from './lib/zone-stable';\nexport * from './lib/on-stable';\nexport * from './lib/tap-once';\nexport * from './lib/append';","import { Router, UrlTree,CanActivate,ActivatedRouteSnapshot, RouterStateSnapshot, NavigationExtras } from '@angular/router';\nimport { Observable, UnaryFunction, pipe, from, of } from 'rxjs';\nimport { AuthService, User } from './auth.service';\nimport { Injectable } from '@angular/core';\nimport { take, map, switchMap } from 'rxjs/operators';\n\n/** AuthGuard pipe operator */\nexport type AuthPipe = UnaryFunction<Observable<User|null>, Observable<boolean>>;\n\n/** AuthGuard redirection object */\nexport interface AuthRedirect { commands: any[], extras?: NavigationExtras };\n\n/** AuthGuard pipe operator with redirection */\nexport type AuthPipeWithRedirect = UnaryFunction<Observable<User|null>, Observable<boolean|AuthRedirect>>;\n\n/** AuthGuard pipe redirection factory */\nexport type AuthPipeFactory = (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => AuthPipe|AuthPipeWithRedirect;\n\n/** Checks the user for being authenticated */\nexport const loggedIn: AuthPipe = map( user => !!user );\n\n/** Authentication Guard */\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  constructor(readonly router: Router, readonly auth: AuthService) { }\n\n  // Implements single route user authentication guarding\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean|UrlTree> {\n\n    // Gets the AuthPipeFactory from the route data\n    const authPipeFactory: AuthPipeFactory = route.data.authGuardPipe || (() => loggedIn);\n\n    // Returns an observable resolving the AuthState\n    return this.auth.state$.pipe(\n\n      // Builds the Auth pipe according to the route\n      authPipeFactory(route, state),\n\n      // Maps the Auth pipe results\n      map( proceedOrRedirect => {\n\n        // Returns the boolean fvalue to prevent or proceed with the navigation\n        if(typeof proceedOrRedirect === 'boolean') { return proceedOrRedirect; }\n\n        // Redirect according to the AuthRedirect\n        return this.router.createUrlTree(proceedOrRedirect.commands || ['/'], proceedOrRedirect.extras);\n      }),\n\n      take(1)\n    );\n  }\n}\n\n/** Checks the user for having the email verified */\nexport const emailVerified: AuthPipe = map( user => !!user && user.emailVerified );\n\n/** idTokenResult pipe operator */\nexport const idTokenResult = switchMap((user: User|null) => user ? from( user.getIdTokenResult() ) : of(null));\n\n/** Gets the users custom claims pipe operator */\nexport const customClaims = pipe( idTokenResult,  map( results => results && results.claims || {} ) );\n\n/** AuthGuard redirection helper */\nexport const authRedirect = (commands: any[], extras?:NavigationExtras ) => ({ commands, extras });\n\n/** canActivate helper function */\nexport const canActivate = (pipe: AuthPipeFactory) => ({\n  canActivate: [ AuthGuard ], data: { authGuardPipe: pipe }\n});\n\n","import { InjectionToken } from '@angular/core';\n\n/** HasTouchScreen injection token */\nexport const HasTouchScreen = new InjectionToken<boolean>('wizdm-has-touchscreen', {\n  providedIn: 'root',\n  factory: () => {\n\n    const nav = window && window.navigator;\n    if(!nav) { return false; } \n\n    if(\"maxTouchPoints\" in nav && nav.maxTouchPoints > 0) {\n      return true;\n    }\n\n    if(\"msMaxTouchPoints\" in nav &&  nav.msMaxTouchPoints > 0) {\n      return true;\n    } \n\n    const mQ = window.matchMedia && window.matchMedia(\"(pointer:coarse)\");\n    if(mQ && mQ.media === \"(pointer:coarse)\") {\n      return !!mQ.matches;\n    }\n\n    if(\"orientation\" in window) {\n      return true; // deprecated, but good fallback\n    }\n\n    // Only as a last resort, fall back to user agent sniffing\n    return /\\b(BlackBerry|webOS|iPhone|IEMobile|Android|Windows Phone|iPad|iPod)\\b/i.test(nav.userAgent);\n  }\n});","export * from './collection';\nexport * from './group';\nexport * from './query';\nexport * from './types';","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { zip, tap, catchError } from 'rxjs/operators';\nimport { ContentConfigurator } from './content-configurator.service';\nimport { Observable, ReplaySubject, of, forkJoin } from 'rxjs';\n\nexport interface LoaderCache {\n  [key:string]: string;\n  lang: string;\n}\n\n/** Loader to load the content dynamically from JSON files */\n@Injectable()\nexport class ContentLoader {\n\n  /** Content data observable */\n  readonly data$ = new ReplaySubject<LoaderCache>(1);\n  // Data snapshot keeps track of the currenlty selected language as well\n  protected data: LoaderCache;\n\n  constructor(readonly config: ContentConfigurator, readonly http: HttpClient) {}\n\n  /** Returns the cached data */\n  public get cache(): LoaderCache { return this.data || this.flush(); }\n  \n  /** Returns the current language as a two digit code */\n  public get language(): string { return this.cache.lang; }\n\n  /** Flushes the cache */\n  public flush(lang: string = this.config.defaultValue): LoaderCache { return this.data = { lang }; }\n\n  /** Checks if the requested language is allowed reverting to the default one otherwise  */\n  public languageAllowed(lang: string): string {\n    return this.config.supportedValues.find( allowed => allowed === lang ) || this.config.defaultValue;\n  }\n\n  /** Load the requested module in the specified language \n   * param lang the two digit language ContentLoader\n   * param moduleName the json file name to load\n   */\n  public loadFile(path: string, lang: string, name: string): Observable<any> {\n\n    // Flushes the cache when switching language\n    if(lang !== this.language) { this.flush(lang); }\n\n    // Returns the data from the cache whenever possible\n    if(!!this.cache[name]) { return of(this.cache[name]); }\n\n    // Let's load\n    console.log('loading:', path, lang, name);\n\n    // Always load the default module together with the requested one\n    return forkJoin(\n      // Default language file (full)\n      this.http.get(`${path}/${this.config.defaultValue}/${name}.json`),\n      // Loads the requested language file only when differs from he default language\n      this.language !== this.config.defaultValue ? \n        // Requested language file (partial)\n        this.http.get(`${path}/${this.language}/${name}.json`).pipe(\n        // Reverts to the default language in case of errors (basically it pass an empty object \n        // since default content will be merged in the next map() )\n          catchError( () => of({}) )\n          // Skips unnecessary loading\n        ) : of({})\n\n    ).pipe( \n      // Packs the result by merging the modules whenever necessary\n      zip( data => this.language === this.config.defaultValue ? data[0] : this.merge(data[1], data[0]) ),\n      // Caches the content for further requests\n      tap( data => {\n        this.cache[name] = data;\n        this.data$.next(this.cache);\n      })\n    );\n  }\n\n  /** Deep merges the localModule with the defaultModule */\n  private merge(localModule: any, defaultModule: any): any {\n\n    // Done recurring when default module is no longer available\n    if(!!defaultModule) {\n\n      // Treat arrays as a special case, so, to keep them as array\n      if( Array.isArray(defaultModule) ) {\n\n        // Overrides the locale array with tht default when they do not match\n        if(!Array.isArray(localModule) || localModule.length !== defaultModule.length) {\n          localModule = defaultModule; \n        }\n        else { \n          // Recurs down the tree merging the array content\n          defaultModule.forEach( (_, index) =>  localModule[index] = this.merge(localModule[index], defaultModule[index]) ); \n        }\n      }\n      else {\n\n        // Merges the object properties otherwise\n        Object.keys(defaultModule).forEach( key => {\n\n          // Copies each missing property\n          if(!localModule[key]) { localModule[key] = defaultModule[key]; }\n\n          // Recurs down the children properties otherwise\n          else if(typeof localModule[key] === 'object') {\n\n            localModule[key] = this.merge(localModule[key], defaultModule[key]);\n          }\n        });\n      }\n    }\n    // Returns the merged object\n    return localModule;\n  }\n}","import { DocumentRef, DocumentSnapshot, DocumentData, ListenOptions } from './types';\nimport { Observable, throwError } from 'rxjs';\nimport { NgZone } from '@angular/core';\n\nexport function refReject(): Promise<never> {\n  return Promise.reject( new Error('Document reference is null or undefined') );\n}\n\n/** Builds an Observable od DocumentSnapshots from a Document ref */\nexport function fromRef<T>(ref: DocumentRef<T>, zone: NgZone, options?: ListenOptions): Observable<DocumentSnapshot<T>> {\n  // Throw an error when the referencec is missing\n  if(!ref) { return throwError(new Error(\"Missing Reference\") ); }\n  // Returns an obsevable wrapping the onSnapshot observer and running within Angular's zone\n  return new Observable<DocumentSnapshot<T>>( subscriber => ref.onSnapshot( options || {},\n    // Runs the observable within the Angular's zone\n    (value: DocumentSnapshot<T>) => zone.run( () => subscriber.next(value) ),\n    // Runs the observable within the Angular's zone\n    (error: any) => zone.run( () => subscriber.error(error) ),\n    // Runs the observable within the Angular's zone\n    () => zone.run( () => subscriber.complete() )\n  ));\n}\n\n/** Helper function to map a DocumetnSnapshot into its data payload */\nexport function mapSnaphotData<T extends DocumentData>(snapshot: DocumentSnapshot<T>): T {\n// Skips undefined data or a missing document\n  if(!snapshot || !snapshot.exists) { return undefined; }\n  // Gets the data first\n  const data = snapshot.data();\n  // Ensures to add the id to the data payload\n  data.id = snapshot.id;\n  // Returns the mapped data\n  return data;\n}","import { Component, Input, Output, EventEmitter, Optional } from '@angular/core';\nimport { rmSegment, rmText, rmLink } from './readme-types';\nimport { EmojiMode } from '@wizdm/emoji/utils';\n\n/** Navigation service token */\nexport abstract class ReadmeNavigator {\n  public abstract navigate(url: string): boolean|Promise<boolean>;\n}\n\n@Component({\n  selector: '[wm-readme]',\n  templateUrl: './readme.component.html',\n  host: { 'class': 'wm-readme' }\n})\nexport class ReadmeComponent {\n\n  readonly segments: rmSegment[] = [];\n\n  constructor(@Optional() private navigator: ReadmeNavigator) {\n\n    if(!!navigator && typeof(navigator.navigate) !== 'function') {\n      throw new Error('Invalid ReadmeNavigator provided!');\n    }\n  }\n\n  /** Plain text souce input */\n  @Input('wm-readme') set parse(source: string) {\n    this.compile(source); \n  }\n\n  /** Emoji Rendering Mode */\n  @Input() emojiMode: EmojiMode;\n\n  /** Emits the url to navigate to */\n  @Output('navigate') nav = new EventEmitter<string>();\n\n  // Tracking function to render the segments by content preventing re-rendering segments where content is unchanged\n  public trackByFn(index: number, item: rmSegment) {\n    return item.type + (item as rmText).content || '' + (item as rmLink).url || '';\n  }\n\n  /** Compiles the input text into segments */\n  private compile(source: string): rmSegment[] {\n\n    // Resets the segments array\n    this.segments.splice(0);\n    // Skips null or emptiy sources\n    if(!source) { return this.segments; }\n\n    /** Parsing regex:\n     * 1st - Styling match - \"([*+_~])(.*?[^\\\\])\\1\" \n     * Matches sequences starting with '*', '+', '_' or '~' end ending with the very same character as soon as it isn't preceeded by a '\\' \n     * to render <b>, <i>, <u> or <s> elements respectively.\n     * 2nd - Anchor match - \"\\[(.*?)\\]\\((.+?)\\)\"\n     * matches text within square brakets followed by an url within round brakets '[text](url)' to render as anchors <a> elements.\n     * 3rd - Escape match - Matches backslashes followed by one of the special chars to renders the char as it is.\n     * 4th - Break match: '\\n' \n     * matches the newline charachers to render <br> elements \n     */\n    let start = 0; let match; const rx = /([*+_~])(.*?[^\\\\])\\1|\\[(.*?)\\]\\((.+?)\\)|\\\\([*+_~])|\\n/g;\n    while(match = rx.exec(source)) {\n\n      // Prevents the zero-length match infinite loop for all browsers\n      if(match.index == rx.lastIndex) { rx.lastIndex++ };\n\n      // Pushes the text preceeding a match \n      if(match.index > start){ \n        const content = source.substring(start, match.index);\n        this.segments.push({ type: \"text\", content });   \n      }\n \n      // Breaks\n      if(match[0] === '\\n') { this.segments.push({ type: \"break\" }); }\n      // Styled texts\n      else if(match[1]) { \n\n        const type = match[1] === '*' ? 'bold' : ( match[1] === '+' ? 'italic' : ( match[1] === '_' ? 'underline' : 'strikethrough' ));\n        this.segments.push( { type, content: match[2] });\n      }\n      // Links\n      else if(match[3]) { this.segments.push({ type: \"link\", content: match[3], url: match[4] }); }\n      // Escapes\n      else if(match[5]) { this.segments.push({ type: \"text\", content: match[5] }); };\n\n      // Moves to the next text segment\n      start = match.index + match[0].length;\n    }\n\n    // Appends the final text chunk \n    if(rx.lastIndex < source.length) {\n      const content = source.substring(start, source.length);\n      this.segments.push({ type: \"text\", content });\n    }\n\n    return this.segments;\n  }\n\n  /** True whenever the navigate output is used */\n  get eventNavigation(): boolean { return this.nav.observers.length > 0; }\n\n  /** True whenever a ReadmeNavigator has been provided */\n  get serviceNavigation(): boolean { return !!this.navigator; }\n\n  /** Navigates to the specified url */\n  public navigate(url: string): boolean {\n    // Emits on the navigate output\n    if(this.eventNavigation) { return this.nav.emit(url), false; }\n    // Calls upon the ReadmeNavigator\n    if(this.serviceNavigation) { return this.navigator.navigate(url), false; }\n    // No navigation handlers...\n    console.log(\"Navigation missed:\", url);\n    // Prevents default\n    return false;\n  }\n}\n","\n<!-- Projects the parent's content when no rendering occurs -->\n<ng-content *ngIf=\"segments.length === 0\"></ng-content>\n\n<!-- Loops on the segments -->\n<ng-container *ngFor=\"let segment of segments; trackBy: trackByFn\">\n\n  <ng-container [ngSwitch]=\"segment.type\">\n\n    <!-- Renders the text with emoji support from EmojiTextModule -->\n    <span *ngSwitchCase=\"'text'\" [wm-emoji-text]=\"segment.content\" [mode]=\"emojiMode\"></span>\n\n    <!-- Styles the text as Bold -->\n    <b *ngSwitchCase=\"'bold'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></b>\n\n    <!-- Styles the text as Italic -->\n    <i *ngSwitchCase=\"'italic'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></i>\n\n    <!-- Styles the text as Undelined -->\n    <u *ngSwitchCase=\"'underline'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></u>\n\n    <!-- Styles the text as Strikethrough -->\n    <s *ngSwitchCase=\"'strikethrough'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></s>\n\n    <!-- Stles the text as an Anchor -->\n    <a *ngSwitchCase=\"'link'\" [href]=\"segment.url\" [wm-readme]=\"segment.content\" (click)=\"navigate(segment.url)\"></a>\n\n    <!-- Adds a line break -->\n    <br *ngSwitchCase=\"'break'\" />\n\n  </ng-container>\n\n</ng-container>\n","import { Observable, OperatorFunction } from 'rxjs';\nimport type { NgZone } from '@angular/core';\n\n/** Returns an observable mirroring the source while running within the given zone */\nexport function runInZone<T>(zone: NgZone): OperatorFunction<T, T> {\n\n  return source => new Observable( observer => {\n    return source.subscribe(\n      (value: T) => zone.run(() => observer.next(value)),\n      (e: any) => zone.run(() => observer.error(e)),\n      () => zone.run(() => observer.complete())\n    );\n  });\n}","import { ScrollDispatcher, ViewportRuler } from '@angular/cdk/scrolling';\nimport { map, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport { DOCUMENT, ViewportScroller } from '@angular/common';\nimport { Injectable, Inject } from '@angular/core';\nimport { Observable, interval, merge } from 'rxjs';\n\nexport interface ScrollInfo {\n  top: number;\n  bottom: number;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class ScrollObservable extends Observable<ScrollInfo> {\n\n  public get height(): number { \n    return this.document.body.scrollHeight || 0; \n  }\n\n  constructor(private scroller: ViewportScroller, private ruler: ViewportRuler, @Inject(DOCUMENT) private document: Document, dispatcher: ScrollDispatcher) { \n\n    super( subscriber => dispatcher.scrolled(0).pipe( \n      // Always starts with a value\n      startWith(null), \n      // Maps into the scroll info value\n      map( () => this.scrollInfo() ),\n      // Merges the scrolling emission with a 1s polling\n      source => merge(source, interval(1000).pipe( map(() => this.scrollInfo() ) ) ), \n      // Filters out euqal values\n      distinctUntilChanged((x,y) => x.top === y.top && x.bottom === y.bottom)\n\n    ).subscribe( subscriber ) );\n  }\n\n  public scrollInfo(): ScrollInfo {\n\n    const rt = this.ruler.getViewportRect();\n\n      return {\n\n        top: rt.top,\n        bottom: this.height - rt.height - rt.top\n      };\n  }\n\n  public scrollTo(pos: Partial<ScrollInfo>) {\n\n    if(pos.top !== undefined) { \n      this.scroller.scrollToPosition([0, pos.top]); \n    }\n\n    if(pos.bottom !== undefined) { \n      this.scroller.scrollToPosition([0, this.height - pos.bottom]); \n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { EmojiImage } from './emoji-image.directive';\n\n@NgModule({\n  declarations: [ EmojiImage ],\n  exports: [ EmojiImage ]\n})\nexport class EmojiImageModule { }","import { Injectable, InjectionToken, Inject, NgZone } from '@angular/core';\nimport { Gtag, EventParams, CustomParams, Product, Promotion, Action, Content } from './gtag-definitions';\nimport { GtagConfigToken, GtagConfig } from './gtag-factory';\n\nexport const GTAG = new InjectionToken<Gtag>('wizdm.gtag.instance');\n\n@Injectable()\nexport class GtagService {\n\n  constructor(@Inject(GTAG) private gtag: Gtag, @Inject(GtagConfigToken) private config: GtagConfig, private zone: NgZone) { }\n\n  /** Disables the analytics for the given measurement id. Defaults to the targetId from the global confguration when unspecified.\n   * @see: https://developers.google.com/analytics/devguides/collection/gtagjs/user-opt-out */\n  public disable(value: boolean = true, id: string = this.config.targetId) {\n    window[`ga-disable-${id}`] = value;\n  }\n\n  /** Helper function to re-enable analytics after it was disabled */\n  public enable() { return this.disable(false); }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/setting-values */\n  public set(params: CustomParams): void {\n    return this.gtag('set', params);\n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/events */\n  public event(action: string, params?: EventParams): Promise<void> {\n    // Wraps the event call into a Promise\n    return this.zone.runOutsideAngular( () => new Promise( (resolve, reject) => {\n      try { \n        // Triggers a 1s time-out timer \n        const tmr = setTimeout( () => reject( new Error('gtag call timed-out')), this.config.timeout || 10000 );\n        // Performs the event call resolving with the event callback\n        this.gtag('event', action, { ...params, event_callback: () => { clearTimeout(tmr); resolve(); }}); } \n      // Rejects the promise on errors\n      catch(e) { reject(e); }\n    }));\n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/pages */\n  public pageView(page_title?: string, page_path?: string, page_location?: string) { \n    return this.event('page_view', { page_title, page_location, page_path }); \n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/exceptions */\n  public exception(description?: string, fatal?: boolean) { \n    return this.event('exception', { description, fatal }); \n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/user-timings */\n  public timingComplete(name: string, value: number, event_category?: string, event_label?: string) { \n    return this.event('timing_complete', { name, value, event_category, event_label }); \n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/screens */\n  public screenView(app_name: string, screen_name: string, app_id?: string, app_version?: string, app_installer_id?: string) { \n    return this.event('screen_view', { app_name, screen_name, app_id, app_version, app_installer_id }); \n  }\n\n  public login(method?: string) {\n    return this.event('login', { method });\n  }\n\n  public signUp(method?: string) {\n    return this.event('sign_up', { method });\n  }\n\n  public search(search_term?: string) {\n    return this.event('search', { search_term });\n  }\n\n  public selectContent(content?: Content) {\n    return this.event('select_content', content);\n  }\n\n  public share(method?: string, content?: Content) {\n    return this.event('share', { method, ...content });\n  }\n\n   public generateLead(action?: Action) {\n    return this.event('generate_lead', action);\n  }\n\n  public viewItem(items?: Product[]) {\n    return this.event('view_item', { items });\n  }\n\n  public viewItemList(items?: Product[]) {\n    return this.event('view_item_list', { items });\n  }\n\n  public viewPromotion(promotions?: Promotion[]) {\n    return this.event('view_promotion', { promotions });\n  }\n\n  public viewSearchResults(search_term?: string) {\n    return this.event('view_search_results', { search_term });\n  }\n\n  public addPaymentInfo() {\n    return this.event('add_payment_info');\n  }\n\n  public addToCart(action?: Action) {\n    return this.event('add_to_cart', action);\n  }\n\n  public addToWishlist(action?: Action) {\n    return this.event('add_to_wishlist', action);\n  }\n\n  public beginCheckout(action?: Action) {\n    return this.event('begin_checkout', action);\n  }\n\n  public checkoutProgress(action?: Action) {\n    return this.event('checkout_progress', action);\n  }\n\n  public purchase(action?: Action) {\n    return this.event('purchase', action);\n  }\n\n  public refund(action?: Action) {\n    return this.event('refund', action);\n  }\n\n  public removeFromCart(action?: Action) {\n    return this.event('remove_from_cart', action);\n  }\n\n  public setCheckoutOption(checkout_step?: number, checkout_option?: string) {\n    return this.event('set_checkout_option', { checkout_step, checkout_option });\n  }\n}","import { filter, pluck, skip, auditTime, timeInterval } from 'rxjs/operators';\nimport { MonoTypeOperatorFunction, merge } from 'rxjs';\n\nexport function autocomplete<T>(time: number): MonoTypeOperatorFunction<T> {\n  \n  return source => merge( \n    // Pick the first value immediately whenever 'time' elapsed since last emission\n    source.pipe( \n      \n      timeInterval(),\n\n      filter( payload => payload.interval === 0 || payload.interval >= time ), \n\n      pluck('value')\n    ),\n    // Audits every 'time' than\n    source.pipe( auditTime(time), skip(1) ) \n  );\n}","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif(environment.production) {\n\n  // Disables logs to console\n  window['console']['log'] = () => {};\n  \n  // Enables Angular's production mode\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import { DatabaseCollection, CollectionRef } from '../collection';\nimport { map, tap, distinctUntilChanged } from 'rxjs/operators';\nimport { DatabaseApplication, FieldValue } from '../database-application';\nimport { Observable, BehaviorSubject, merge } from 'rxjs';\nimport { DocumentData } from '../document';\n\n/** The single shard composing the counter */\nexport interface CounterShard extends DocumentData {\n  count: number;\n}\n\n/** Implements a DistributedCounter extending a DatabaseCollection */\nexport class DistributedCounter extends DatabaseCollection<CounterShard> {\n  \n  /** Observable streaming the counter value */\n  readonly counter$: Observable<number>;\n  private _counter$: BehaviorSubject<number>; \n\n  constructor(db: DatabaseApplication, ref: string|CollectionRef<CounterShard>, readonly shards) {\n    super(db, ref);\n\n    // Makes sure shards are fine\n    if(shards <= 0) { throw new Error(\"Coounter shards must be a positive integer greater than 0\"); }\n\n    // Creates a local copy of the counter \n    this._counter$ = new BehaviorSubject<number>(0);\n    // Builds the counter observable merging the local counter with the remote one to improve reactivity\n    this.counter$ = merge( \n      // Merges the local counter copy...\n      this._counter$,\n      // With the distributed counter value, keeping the local copy up to do date \n      this.accumulate().pipe( tap( counter => this._counter$.next(counter) ) )\n      // Distinca only effective counter changes\n    ).pipe( distinctUntilChanged() );\n  }\n\n  // Streams the current counter value accumulating the shards\n  private accumulate() {\n\n    return this.stream().pipe( \n      map( counters => {\n        return !!counters ? counters.reduce( (sum, shard) => {\n          return sum + (shard.count || 0);\n        }, 0) : 0;\n      })\n    );\n  }\n\n  /** Updates the counter by the given increment (or decrement) */\n  public update(increment: number): Promise<any> {\n    // Updates the local copy first to improve reactivity\n    this._counter$.next(this._counter$.value + increment);\n    // Pick a shard randomly\n    const rnd = Math.floor(Math.random() * this.shards);\n    const shard = this.ref.doc(rnd.toString());\n    // Runs the shard update within a transaction\n    return this.db.transaction( trx => {\n      // Tests if the single shard exists (1 read)\n      return trx.snap(shard).then( snap => {\n        // Updates the shard value (1 write)\n        if(snap.exists) { \n          // Uses the special FieldValue as increment\n          const count: any = this.db.increment(increment);\n          // Updates the shard (1 write)\n          return trx.update(shard, { count });\n        }\n        // Creates the shard with the given initial value (1 write)\n        return trx.set(shard, { count: increment });\n      });\n    });\n  }\n\n  // Creates the shards in a batch initializing the counter value\n  public create(start = 0): Promise<void> {\n    // Uses firestore references directly\n    const batch = this.db.batch();\n    // Inits the first shard with the starting value\n    batch.set(this.ref.doc('0'), { count: start });\n    // Loops to create the additional shards\n    for(let i = 1; i < this.shards; i++) {\n      batch.set(this.ref.doc(i.toString()), { count: 0 });\n    }\n    // Commit the changes\n    return batch.commit();\n  }\n}\n","import { filter, scan, tap, map, shareReplay, withLatestFrom } from 'rxjs/operators';\nimport { Injectable, OnDestroy, NgZone } from '@angular/core';\nimport { Router, NavigationStart, Scroll } from '@angular/router';\nimport { Observable, Subscription, combineLatest } from 'rxjs';\nimport { onStable } from '@wizdm/rxjs'\n\n/** Replays the router scrolling event globally */\n@Injectable({ providedIn: 'root' })\nexport class RouterScroll extends Observable<Scroll> implements OnDestroy {\n\n  private inner$: Observable<Scroll>;\n  private sub: Subscription;\n\n  constructor(private router: Router, zone: NgZone) { \n\n    // Subscribes to the inner observable\n    super( subscriber => this.inner$.subscribe(subscriber) );\n\n    // Builds the inner observable\n    this.inner$ = router.events.pipe( \n      \n      // Filters for the Scroll events\n      filter<Scroll>( e => e instanceof Scroll ),\n\n      // Tracks the source url on NavigationStart\n      withLatestFrom( router.events.pipe( filter( e => e instanceof NavigationStart ), map( () => this.router.url ) ) ),\n\n      // Filters out emission towards the same url independently from the language (first segment)\n      filter( ([ scroll, start ]) => {\n\n        // Picks the destination url...\n        const end = scroll.routerEvent.urlAfterRedirects || scroll.routerEvent.url;\n\n        // Compares the source and dest urls\n        return start.replace(/^\\/[^/]+/, '') !== end.replace(/^\\/[^/]+/, '');\n      }), \n\n      // Extracts the Scroll event only\n      map( ([scroll]) => scroll ),\n\n      // Waits to emit until the NgZone is stable (aka rendering completed)\n      onStable(zone),\n\n      // Replays the same last valu to every subscriber\n      shareReplay(1)\n    );\n\n    // Subscribes to keep the latest scroll event up to date\n    this.sub = this.inner$.subscribe( /* scroll => console.log('Last Scroll Value:', scroll) */ );\n  }\n\n  // Disposes of the subscription\n  ngOnDestroy() { this.sub.unsubscribe(); }\n}\n","import { Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { EmojiRegex, EmojiNative } from './emoji-utils';\n\n/** Emoji Rendering Mode */\nexport type EmojiMode = 'auto'|'native'|'web';\n\nexport interface EmojiConfig {\n\n  emojiPath?: string; //assets/...\n  emojiExt?: string; //.png, .svg, ...\n  emojiMode?: EmojiMode; //'auto'\n};\n\nexport const EmojiConfigToken = new InjectionToken<EmojiConfig>('wizdm-emoji-config');\n\n@Injectable()\nexport class EmojiUtils {\n\n  private readonly filePath: string;\n  private readonly fileExt: string;\n\n  constructor(@Inject(EmojiNative) readonly native: boolean,\n              @Inject(EmojiRegex) readonly regex: RegExp,\n              @Optional() @Inject(EmojiConfigToken) private config: EmojiConfig) { \n\n    // Grabs the source path and the image extension from the configuration object\n    this.filePath = this.assessPath(config && config.emojiPath) || 'assets/emoji/';\n    this.fileExt  = this.assessExt(config && config.emojiExt)  || '.png';\n  }\n\n  private assessPath(path: string): string {\n    return path ? (path.endsWith('/') ? path : (path + '/')) : '';\n  }\n\n  private assessExt(ext: string): string {\n    return ext ? (ext.startsWith('.') ? ext : ('.' + ext)) : '';\n  }\n\n  /** Returns the most suitable emoji mode based on the request */\n  public emojiMode(mode?: EmojiMode): Exclude<EmojiMode, 'auto'> {\n\n    switch(mode || (this.config?.emojiMode) || 'auto') {\n\n      case 'native': \n      return 'native';\n      \n      case 'web': \n      return 'web';\n    }\n\n    return this.native ? 'native' : 'web';\n  }\n\n  /** Computes the full path to load the image corersponding to the given emoji */\n  public imageFilePath(emoji: string): string {\n\n    if(!emoji) { return ''; }\n\n    const pts: string[] = [];\n\n    for (let cp of emoji) {\n      pts.push(cp.codePointAt(0).toString(16));\n    } \n\n    return this.filePath + pts.join('-') + this.fileExt;\n  }\n\n  public isEmoji(source: string): boolean {\n    return this.regex.test(source);\n  }\n\n  public matchEmojiCodes(source: string): RegExpExecArray {\n    this.regex.lastIndex = 0;\n    return this.regex.exec(source);\n  }\n\n  /** Parses the source text searching for emoji unicode sequences */\n  public parseEmojiCodes(source: string, callbackfn: (match: string, index: number) => void) {\n\n    if(typeof callbackfn !== 'function') {\n      throw new Error('Callback must be a funciton');\n    }\n\n    // Resets the starting position\n    this.regex.lastIndex = 0;\n\n    // Loop on RegExp matches\n    let match;\n    while(match = this.regex.exec(source)) {\n      callbackfn(match[0], match.index);\n    }\n  }\n}","import { WriteBatch, DocumentRef, DocumentData } from './types';\nimport { DatabaseApplication } from '../database-application';\n\nexport class DatabaseBatch {\n\n  constructor(readonly db: DatabaseApplication, readonly btc: WriteBatch) { }\n\n  /**\n   * Creates / destructively re-writes the document content.\n   * Adds the 'created' timestamp\n   */\n  public set<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const created = this.db.timestamp;\n    return this.btc.set(ref, {\n      ...data as any,\n      created\n    }), this;\n  }\n\n  /**\n   * Updates the document content by merging the new data with the existing one including sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public merge<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n    \n    const updated = this.db.timestamp;\n    return this.btc.set(ref, {\n      ...data as any,\n      updated\n    }, { merge: true } ), this;\n  }\n\n  /**\n   * Updates the document content with the new data. Unlike merge, it overwrites sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public update<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const updated = this.db.timestamp;\n    return this.btc.update(ref, {\n      ...data as any,\n      updated\n    }), this;\n  }\n\n  /** Deletes the document */\n  public delete<T extends DocumentData>(ref: DocumentRef<T>): this {\n    return this.btc.delete(ref), this;\n  }\n\n  /** Commits the batch for multiple writes */\n  public commit(): Promise<void> {\n    return this.btc.commit();\n  }\n}\n","export * from './storage-application'; \nexport * from './storage-reference';\nexport * from './upload-observable';\nexport * from './storage.service';\nexport * from './storage.module';\n","export * from './stripe.service';\nexport * from './stripe.module';\n","import { OperatorFunction, ObservableInput, ObservedValueOf } from 'rxjs';\nimport { defer, concat } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nexport function append<T, O extends ObservableInput<any>>(observableFactory: (lastValue: T) => O, startValue?: T): OperatorFunction<T, T|ObservedValueOf<O>> {\n  \n  return source => defer(() => {\n\n    let lastValue = startValue; \n\n    return concat( \n      \n      source.pipe( tap( value => lastValue = value ) ),\n\n      defer( () => observableFactory(lastValue) )\n    );\n  }); \n}","import { of, MonoTypeOperatorFunction } from 'rxjs';\nimport type { NgZone } from '@angular/core';\nimport { switchMap, map, take } from 'rxjs/operators';\n\n/** Mirrors the source observable making sure every emission takes place while the given zone is stable */\nexport function onStable<T>(zone: NgZone): MonoTypeOperatorFunction<T> {\n\n  return switchMap( (value: T) => zone.isStable ? of(value) : zone.onStable.pipe( take(1), map(() => value) ) );\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { InterpolationPipesModule } from '@wizdm/pipes/interpolation';\nimport { ContentConfig, ContentConfigToken } from './loader/content-configurator.service';\nimport { ContentConfigurator } from './loader/content-configurator.service';\nimport { ContentLoader } from './loader/content-loader.service';\nimport { SelectorResolver } from './router/selector-resolver.service';\nimport { ContentStreamer } from './streamer/content-streamer.service';\nimport { ContentDirective } from './streamer/content.directive';\n\n@NgModule({\n  declarations: [ ContentDirective ],\n  imports: [ HttpClientModule, InterpolationPipesModule ],\n  exports: [ ContentDirective, InterpolationPipesModule ],\n  providers: [ ContentLoader, ContentStreamer ]\n})\nexport class ContentModule { \n  /** Initializes the content module with loaders. Call this once in the app root module */\n  static init(config: ContentConfig): ModuleWithProviders<ContentModule> {\n    return {\n      ngModule: ContentModule,\n      providers: [\n        // Configuration token used internally\n        { provide: ContentConfigToken, useValue: config }, \n        // Content configurator providing default values when missing \n        ContentConfigurator,\n        // Standard selector resolver provided only at root level\n        SelectorResolver\n      ]\n    }\n  }\n}","import { MonoTypeOperatorFunction } from 'rxjs';\nimport type { NgZone } from '@angular/core';\nimport { tap, take } from 'rxjs/operators';\n\n/** Calls fn every emission right after the zone has become stable */\nexport function zoneStable<T>(zone: NgZone, fn: () => void): MonoTypeOperatorFunction<T> {\n\n  return tap<T>( () => zone.isStable ? fn() : zone.onStable.pipe( take(1) ).subscribe(fn) );\n}\n","import { QueryFn, QueryRef, QuerySnapshot, QueryDocumentSnapshot, DocumentChange, DocumentChangeType, WhereFilterOp, OrderByDirection } from './types';\nimport { tap, map, scan, filter, expand, take, pluck, switchMap, mergeScan, takeWhile } from 'rxjs/operators';\nimport { DocumentData, DocumentSnapshot, GetOptions, ListenOptions } from '../document/types';\nimport { Observable, pipe, defer, OperatorFunction, MonoTypeOperatorFunction } from 'rxjs';\nimport { fromRef, combineDocumentChanges } from './utils';\nimport { mapSnaphotData } from '../document/utils';\nimport { FieldPath } from '../database-application';\nimport { NgZone } from '@angular/core';\n\nexport function query<T>(qf: QueryFn<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => qf ? qf(ref) : ref );\n}\n\nexport function where<T extends DocumentData>(field: string|FieldPath, op: WhereFilterOp, value: any): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => field ? ref.where(field, op, value) : ref );\n}\n\nexport function orderBy<T extends DocumentData>(field: string|FieldPath, dir?: OrderByDirection): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => field ? ref.orderBy(field, dir) : ref );\n}\n\nexport function limit<T extends DocumentData>(limit: number): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => limit ? ref.limit(limit) : ref );\n}\n\nexport function limitToLast<T extends DocumentData>(limit: number): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => limit ? ref.limitToLast(limit) : ref );\n}\n\nexport function startAt<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAt<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAt<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.startAt(args) : ref );\n}\n\nexport function startAfter<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAfter<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAfter<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.startAfter(args) : ref );\n}\n\nexport function endBefore<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endBefore<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endBefore<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.endBefore(args) : ref );\n}\n\nexport function endAt<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endAt<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endAt<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.endAt(args) : ref );\n}\n\nexport function get<T extends DocumentData>(options?: GetOptions): OperatorFunction<QueryRef<T>, QuerySnapshot<T>> {\n  return switchMap( ref => defer( () => ref.get(options) ) );\n}\n\nexport function docs<T extends DocumentData>(): OperatorFunction<QuerySnapshot<T>, QueryDocumentSnapshot<T>[]> {\n  return map( snap => snap.docs );\n}\n\nexport function snap<T extends DocumentData>(options?: GetOptions): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  return pipe( get(options), docs() );\n}\n\nexport function onSnapshot<T>(zone: NgZone, options?: ListenOptions): OperatorFunction<QueryRef<T>, QuerySnapshot<T>> {\n  return switchMap( ref => fromRef<T>(ref, zone, options) );\n}\n\nexport function docChanges<T extends DocumentData>(options?: ListenOptions, ...changeTypes: DocumentChangeType[]): OperatorFunction<QuerySnapshot<T>, DocumentChange<T>[]> {\n  \n  return map( snap => {\n    \n    const changes = snap.docChanges(options);\n\n    console.log('Changes', changes);\n\n    return (!changeTypes || changeTypes.length <= 0) ? changes : changes.filter( change => changeTypes.indexOf(change.type) >= 0 );\n  });\n}\n\nexport function combineChanges<T extends DocumentData>(seed: QueryDocumentSnapshot<T>[] = []): OperatorFunction<DocumentChange<T>[], QueryDocumentSnapshot<T>[]> {\n\n  return scan( (combined, changes) => combineDocumentChanges(combined, changes), seed );\n}\n\nexport function stream<T extends DocumentData>(zone: NgZone, ...changeTypes: DocumentChangeType[]): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n\n  // When no changeTypes are defined...\n  if(!changeTypes || changeTypes.length <= 0) {\n    //...listens to snapshot changes and returns the resulting query document array\n    return pipe( onSnapshot<T>(zone), docs() );\n  }\n\n  // ...scans for the requested document changes otherwise\n  return pipe( \n    // Listens for document changes\n    onSnapshot<T>(zone), docChanges<T>(undefined, ...changeTypes), \n    // Filters out unwanted changed but the first emission to keep consistent with untyped stream call\n    filter( (changes, index) => index === 0 || changes.length > 0 ),\n    // Combines the latest changes with the previous snapshots\n    combineChanges()\n  );\n}\n\nexport function data<T extends DocumentData>(): OperatorFunction<QueryDocumentSnapshot<T>[], T[]> {\n  return source => source.pipe( map( docs => docs.map( doc => mapSnaphotData(doc) ) ) );\n}\n\nexport function page<T extends DocumentData>(pager: Observable<number>, after?: DocumentSnapshot<T>): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  // Trggers loading with the pager observable\n  return source => pager.pipe(\n    // Accumulates the pages\n    mergeScan( (internal, size) => source.pipe( \n      // Loads the next page\n      limit(size), startAfter(internal.cursor), snap(),\n      // Tracks the result\n      map( (results: QueryDocumentSnapshot<T>[]) => {\n\n        return {\n          // Concatenates the last page \n          results: internal.results.concat(results),\n          // Keeps the last snapshot as a cursor for the next page\n          cursor: results[results.length - 1],\n          // Checks when done\n          done: results.length < size\n        };\n      // Starts empty\n      })), { results: [], cursor: after, done: false }\n    ),\n    // Completes when done\n    takeWhile(internal => !internal.done, true),\n    // Plucks the document snapshots\n    pluck('results')\n  );\n}\n\nexport function pageReverse<T extends DocumentData>(pager: Observable<number>, before?: DocumentSnapshot<T>): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  // Trggers loading with the pager observable\n  return source => pager.pipe(\n    // Accumulates the pages\n    mergeScan( (internal, size) => source.pipe( \n      // Loads the previous page\n      limitToLast(size), endBefore(internal.cursor), snap(),\n      // Tracks the result\n      map( (results: QueryDocumentSnapshot<T>[]) => {\n\n        return {\n          // Concatenates the last page \n          results: results.concat(internal.results),\n          // Keeps the first snapshot as a cursor for the next page\n          cursor: results[0],\n          // Checks when done\n          done: results.length < size\n        };\n      // Starts empty\n      })), { results: [], cursor: before, done: false }\n    ),\n    // Completes when done\n    takeWhile(internal => !internal.done, true),\n    // Plucks the document snapshots\n    pluck('results')\n  );\n}\n\nexport function fifo<T extends DocumentData>(zone: NgZone, waitForPendingWrites?: boolean): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n\n  return source => source.pipe( \n\n    snap(), map( snaps => ({ cursor: snaps[snaps.length - 1], snaps })),\n\n    expand( ({ cursor, snaps }) => source.pipe(\n      \n      startAfter( cursor ),\n      \n      onSnapshot(zone, { includeMetadataChanges: waitForPendingWrites }), \n\n      filter( snap => snap.size > 0 && !(waitForPendingWrites && snap.metadata.hasPendingWrites) ),\n      \n      docs(), take(1),\n\n      map( latest => ({ cursor: latest[snaps.length - 1], snaps: snaps.concat(latest) }) )\n    )),\n\n    pluck('snaps'),\n  );\n}\n\nexport function stack<T extends DocumentData>(zone: NgZone, waitForPendingWrites?: boolean): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  \n  return source => source.pipe( \n\n    snap(), map( snaps => ({ cursor: snaps[0], snaps })),\n\n    expand( ({ cursor, snaps }) => source.pipe(\n      \n      endBefore( cursor ),\n\n      onSnapshot(zone, { includeMetadataChanges: waitForPendingWrites }), \n\n      filter( snap => snap.size > 0 && !(waitForPendingWrites && snap.metadata.hasPendingWrites) ),\n      \n      docs(), take(1),\n\n      map( latest => ({ cursor: latest[0], snaps: latest.concat(snaps) }) )\n    )),\n\n    pluck('snaps'),\n  );\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, NavigationExtras } from '@angular/router';\nimport { DOCUMENT } from '@angular/common'; \n\nexport interface RedirectionExtras extends NavigationExtras {\n  target?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RedirectService implements CanActivate {\n\n  constructor(@Inject(DOCUMENT) readonly document: Document, readonly router: Router) { }\n\n  /** The Window object from Document defaultView */\n  get window(): Window { return this.document.defaultView || window; }\n\n  /** Redirects instantly to the external link without the mediation of the router */\n  public redirect(url: string, target: string = '_blank'): Promise<boolean> {\n\n    return new Promise<boolean>( (resolve, reject) => {\n\n        try { resolve(!!this.window.open(url, target)); }\n        catch(e) { reject(e); }\n    });\n  }\n\n  /** Returns true if the given url looks external */\n  public external(url: string): boolean {\n    return /^http(?:s)?:\\/{2}\\S+$/.test(url);\n  }\n\n  /** Parses the given url for extenral redirection */\n  private externalUrl(url: string, target?: string): string {\n    // Builds the redirection url for canActivate() to handle it\n    return \"redirect?url=\" + url + (!!target ? \"&=\" + target : '');\n  }\n\n  /** Parses the given url for internal routing */\n  private internalUrl(url: string): string {\n    // Handles '#' anchors and '.' relative urls by prepending the current url from the router\n    return url && url.startsWith('#') ? (this.router.url.replace(/#.*$/, '') + url) : (url && url.replace(/^\\./, this.router.url));\n  }\n\n  /** Navigates to the given url, redirecting when necessary \n   * @param url An absolute URL. The function does not apply any delta to the current URL. \n   * When starting with 'http(s)://' triggers the external redirection. \n   * @param extras (optional). An object containing properties that modify the navigation strategy. \n   * The function ignores any properties that would change the provided URL. \n   */\n  public navigate(url: string, extras?: RedirectionExtras): Promise<boolean> {\n\n    // Compose the url link for redirection\n    const link = this.external(url) ? this.externalUrl(url, extras?.target) : this.internalUrl(url);\n\n    // Navigates with the router activating the redirection guard\n    return this.router.navigateByUrl(link, extras);\n  }\n\n  canActivate(route: ActivatedRouteSnapshot) {\n\n    // Gets the url query parameter, if any\n    const url = route.queryParamMap.get('url');\n\n    // If the url matches an external link, redirects stopping the route activation\n    if( this.external(url) ) { \n\n      // Verifies whenever the external url may be redirected internally (since the origin matches)\n      const rx = new RegExp(`^${this.window.location.origin}`);\n      if( url.match(rx) ) { return this.router.parseUrl( url.replace(rx, '') ); }\n\n      // Gets the optional target, when specified\n      const target = route.queryParamMap.get('target');\n      // Jumps to the external resource\n      return this.redirect(url, target).then(() => false); \n    }\n    // Goes on activating the requested route, most likely to NotFound\n    return true;\n  }\n}","import { Component, OnChanges, SimpleChanges, Input, ViewEncapsulation } from '@angular/core';\nimport { EmojiUtils } from '@wizdm/emoji/utils';\nimport { EmojiMode } from '@wizdm/emoji/utils';\n\nexport interface emSegment {\n  type: 'text'|'emoji';\n  content: string;\n}\n\n@Component({\n  selector: '[wm-emoji-text]',\n  templateUrl: './emoji-text.component.html',\n  styleUrls: ['./emoji-text.component.scss'],\n  host: { \"class\": \"wm-emoji-text\" },\n  encapsulation: ViewEncapsulation.None\n})\nexport class EmojiText implements OnChanges {\n\n  // Internal value\n  protected _value: string;\n\n  readonly segments: emSegment[] = [];\n  \n  constructor(readonly utils: EmojiUtils) { \n    // Setup the default mode\n    this.mode = undefined;\n  }\n\n  /** Plain text source input */\n  @Input('wm-emoji-text') set value(value: string) { this._value = value; }\n  get value(): string { return this._value || ''; }\n    \n  /** Mode flag:\n   * 'web' renders emoji as images\n   * 'native' renders the text as it is relying on the OS native support\n   * 'auto' detects the availability of native support and chooses accordingly\n   */\n  @Input() mode: EmojiMode;\n\n  /** Behavior flag either returning 'web' or 'native' depending on the current behavior */\n  get behavior(): Exclude<EmojiMode, 'auto'> { \n    // Returns the best suitable emoji mode according to the global config\n    return this.utils.emojiMode(this.mode); \n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    \n    // Compiles the source text into segments\n    (changes.value || changes.mode) && this.compile(this.value); \n  }\n\n  // Tracking function to render the segments by content preventing re-rendering segments where content is unchanged\n  public trackByFn(index: number, item: emSegment) {\n    return item.type + item.content;\n  }\n\n  /** Compiles the source text into an array of eather text or emoji segments */\n  protected compile(source: string): number {\n    // Resets the segments array\n    this.segments.splice(0);\n    // Skips null or emptiy sources\n    if(!source) { return 0; }\n    // Short-circuit to the source text when native behavior is requested\n    if(this.behavior === 'native') {\n      return this.segments.push({ type: 'text', content: source });\n    }\n    // Resets the start index\n    let start = 0;\n    // Parses the source text for emoji unicode sequences\n    this.utils.parseEmojiCodes(source, (match, index) => {\n       // Pushes the text preceeding the match \n      if(index > start){ \n        const content = source.substring(start, index);\n        this.segments.push({ type: \"text\", content });   \n      }\n      // Pushes the emoji sequence\n      this.segments.push({ type: 'emoji', content: match });\n      // Keeps track of the next beginning for the eventual plain text between this match and the next\n      start = index + match.length;\n    });\n    // Appends the final text chunk \n    if(start < source.length) {\n      const content = source.substring(start, source.length);\n      this.segments.push({ type: \"text\", content });\n    }\n\n    return this.segments.length;\n  }\n}","<!-- Renders the compiled segments -->\n<ng-container *ngFor=\"let segment of segments; trackBy: trackByFn\">\n\n  <ng-container [ngSwitch]=\"segment.type\">\n    <!-- Renders the emoji as an image -->\n    <img *ngSwitchCase=\"'emoji'\" draggable=\"false\" [wm-emoji]=\"segment.content\" />\n    <!-- Renders the text node -->\n    <ng-container *ngSwitchDefault>{{ segment.content || '\\n' }}</ng-container>\n\n  </ng-container>\n\n</ng-container>","\r\n// @see {https://www.geojs.io/}\r\nexport const GEO_JS_IO = 'https://get.geojs.io/v1/ip/geo/{{ip}}.json';\r\n\r\nexport interface GeoJsIO {\r\n  accuracy: number;\r\n  area_code: string;\r\n  asn: number;\r\n  continent_code: string;\r\n  country: string;\r\n  country_code: string;\r\n  country_code3: string;\r\n  ip: string;\r\n  latitude: string;\r\n  longitude: string;\r\n  organization: string;\r\n  organization_name: string;\r\n};","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { NgModule, ModuleWithProviders, Optional, Inject } from '@angular/core';\nimport { DatabaseService, PERSISTENCE_SETTINGS } from './database.service';\nimport { PersistenceSettings } from './database-application';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport 'firebase/firestore';\n\n@NgModule({\n  providers: [ DatabaseService ]\n})\nexport class DatabaseModule {\n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n\n  static enablePersistance(settings: PersistenceSettings): ModuleWithProviders<DatabaseModule> {\n    return {\n      ngModule: DatabaseModule,\n      providers: [ { provide: PERSISTENCE_SETTINGS, useValue: settings } ]\n    }\n  }\n}"],"sourceRoot":"webpack:///"}