(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["people-people-module"],{

/***/ "4vlq":
/*!********************************************************!*\
  !*** ./elements/src/lib/highlight/highlight.module.ts ***!
  \********************************************************/
/*! exports provided: HighlightModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HighlightModule", function() { return HighlightModule; });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _highlight_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./highlight.component */ "Xkdy");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "8Y7J");



class HighlightModule {
}
HighlightModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({ type: HighlightModule });
HighlightModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({ factory: function HighlightModule_Factory(t) { return new (t || HighlightModule)(); }, imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"]]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsetNgModuleScope"](HighlightModule, { declarations: [_highlight_component__WEBPACK_IMPORTED_MODULE_1__["HighlightComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"]], exports: [_highlight_component__WEBPACK_IMPORTED_MODULE_1__["HighlightComponent"]] }); })();


/***/ }),

/***/ "E755":
/*!*************************************************************!*\
  !*** ./wizdm/src/app/pages/explore/people/people.module.ts ***!
  \*************************************************************/
/*! exports provided: PeopleModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PeopleModule", function() { return PeopleModule; });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "s7LF");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout */ "u9T3");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/a11y */ "YEUz");
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/divider */ "BSbQ");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/icon */ "Tj54");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ "Dxy4");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/form-field */ "Q2Ze");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/input */ "e6WT");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/list */ "SqCe");
/* harmony import */ var _wizdm_gtag__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wizdm/gtag */ "fi6C");
/* harmony import */ var _wizdm_readme__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @wizdm/readme */ "C1VQ");
/* harmony import */ var _wizdm_elements_icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @wizdm/elements/icon */ "txmD");
/* harmony import */ var _wizdm_elements_avatar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @wizdm/elements/avatar */ "Entk");
/* harmony import */ var _wizdm_elements_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @wizdm/elements/button */ "uaks");
/* harmony import */ var _wizdm_elements_highlight__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @wizdm/elements/highlight */ "YDx5");
/* harmony import */ var _wizdm_content__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @wizdm/content */ "g7MM");
/* harmony import */ var _people_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./people.component */ "VYYI");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _content_src_lib_router_content_router_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../content/src/lib/router/content-router.module */ "J3Me");




















const routes = [{
        path: '',
        content: 'explore-people',
        component: _people_component__WEBPACK_IMPORTED_MODULE_17__["PeopleComponent"]
    }];
class PeopleModule {
}
PeopleModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineNgModule"]({ type: PeopleModule });
PeopleModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineInjector"]({ factory: function PeopleModule_Factory(t) { return new (t || PeopleModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormsModule"],
            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__["FlexLayoutModule"],
            _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__["A11yModule"],
            _angular_material_divider__WEBPACK_IMPORTED_MODULE_4__["MatDividerModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIconModule"],
            _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
            _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__["MatFormFieldModule"],
            _angular_material_input__WEBPACK_IMPORTED_MODULE_8__["MatInputModule"],
            _angular_material_list__WEBPACK_IMPORTED_MODULE_9__["MatListModule"],
            _wizdm_gtag__WEBPACK_IMPORTED_MODULE_10__["GtagModule"],
            _wizdm_readme__WEBPACK_IMPORTED_MODULE_11__["ReadmeModule"],
            _wizdm_elements_icon__WEBPACK_IMPORTED_MODULE_12__["IconModule"],
            _wizdm_elements_avatar__WEBPACK_IMPORTED_MODULE_13__["AvatarModule"],
            _wizdm_elements_button__WEBPACK_IMPORTED_MODULE_14__["ButtonChangerModule"],
            _wizdm_elements_highlight__WEBPACK_IMPORTED_MODULE_15__["HighlightModule"],
            //ActionbarModule,
            _wizdm_content__WEBPACK_IMPORTED_MODULE_16__["ContentRouterModule"].forChild(routes)
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵsetNgModuleScope"](PeopleModule, { declarations: [_people_component__WEBPACK_IMPORTED_MODULE_17__["PeopleComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormsModule"],
        _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__["FlexLayoutModule"],
        _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__["A11yModule"],
        _angular_material_divider__WEBPACK_IMPORTED_MODULE_4__["MatDividerModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_5__["MatIconModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
        _angular_material_form_field__WEBPACK_IMPORTED_MODULE_7__["MatFormFieldModule"],
        _angular_material_input__WEBPACK_IMPORTED_MODULE_8__["MatInputModule"],
        _angular_material_list__WEBPACK_IMPORTED_MODULE_9__["MatListModule"],
        _wizdm_gtag__WEBPACK_IMPORTED_MODULE_10__["GtagModule"],
        _wizdm_readme__WEBPACK_IMPORTED_MODULE_11__["ReadmeModule"],
        _wizdm_elements_icon__WEBPACK_IMPORTED_MODULE_12__["IconModule"],
        _wizdm_elements_avatar__WEBPACK_IMPORTED_MODULE_13__["AvatarModule"],
        _wizdm_elements_button__WEBPACK_IMPORTED_MODULE_14__["ButtonChangerModule"],
        _wizdm_elements_highlight__WEBPACK_IMPORTED_MODULE_15__["HighlightModule"], _content_src_lib_router_content_router_module__WEBPACK_IMPORTED_MODULE_19__["ContentRouterModule"]] }); })();


/***/ }),

/***/ "VYYI":
/*!****************************************************************!*\
  !*** ./wizdm/src/app/pages/explore/people/people.component.ts ***!
  \****************************************************************/
/*! exports provided: PeopleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PeopleComponent", function() { return PeopleComponent; });
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wizdm/connect/database/collection/operators */ "wSf6");
/* harmony import */ var _wizdm_connect_database_collection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wizdm/connect/database/collection */ "lPMd");
/* harmony import */ var _wizdm_connect_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wizdm/connect/database */ "eYWy");
/* harmony import */ var app_utils_scrolling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/utils/scrolling */ "DwbE");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _wizdm_rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wizdm/rxjs */ "j8uH");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _content_src_lib_streamer_content_directive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../content/src/lib/streamer/content.directive */ "Qfjl");
/* harmony import */ var _gtag_src_lib_gtag_directive__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../gtag/src/lib/gtag.directive */ "FkMH");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "s7LF");
/* harmony import */ var _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/flex-layout/flex */ "VDRc");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/cdk/a11y */ "YEUz");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/form-field */ "Q2Ze");
/* harmony import */ var _elements_src_lib_icon_icon_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../elements/src/lib/icon/icon.component */ "h0Qx");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/input */ "e6WT");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/list */ "SqCe");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/router */ "iInd");
/* harmony import */ var _elements_src_lib_avatar_avatar_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../elements/src/lib/avatar/avatar.component */ "a/j4");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/core */ "UhP/");
/* harmony import */ var _elements_src_lib_highlight_highlight_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../elements/src/lib/highlight/highlight.component */ "Xkdy");
























const _c0 = function (a1) { return ["/", a1]; };
function PeopleComponent_ng_container_0_mat_list_item_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "mat-list-item", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "wm-avatar", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](2, "h3", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "p", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r5 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](5, _c0, "@" + item_r5.userName));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("src", item_r5.photo);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("wm-highlight", item_r5.fullName || item_r5.name)("pattern", ctx_r3.highlight);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](item_r5.bio || item_r5.motto);
} }
function PeopleComponent_ng_container_0_mat_list_item_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "mat-list-item");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "wm-avatar", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](2, "h3", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "p", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](5, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function PeopleComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0, 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "form", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](2, "mat-form-field");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "mat-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](5, "wm-icon", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "input", 4, 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("ngModelChange", function PeopleComponent_ng_container_0_Template_input_ngModelChange_6_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return ctx_r7.search$.next(ctx_r7.name = $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](8, "mat-hint");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](10, "mat-action-list");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](11, PeopleComponent_ng_container_0_mat_list_item_11_Template, 5, 7, "mat-list-item", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](12, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](13, PeopleComponent_ng_container_0_mat_list_item_13_Template, 6, 0, "mat-list-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](14, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const msgs_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"]((msgs_r1.search == null ? null : msgs_r1.search.label) || "Search");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("icon", (msgs_r1.search == null ? null : msgs_r1.search.icon) || "search");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngModel", ctx_r0.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"]((msgs_r1.search == null ? null : msgs_r1.search.hint) || "Type the name to search for");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](12, 7, ctx_r0.items$))("ngForTrackBy", ctx_r0.trackById);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](14, 9, ctx_r0.loading$));
} }
class PeopleComponent extends _wizdm_connect_database_collection__WEBPACK_IMPORTED_MODULE_2__["DatabaseCollection"] {
    constructor(db, scroll) {
        super(db, 'users');
        /** Name to search for */
        this.name = '';
        /** Searching observables */
        this.search$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]('');
        this._loading$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](0);
        // Loading observable returning the array of skeleton items to display during loading
        this.loading$ = this._loading$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(length => Array(length).fill(0)));
        // Paging observalbe to load the next page while scrolling
        const more$ = scroll.pipe(
        // Triggers the next page when approaching the bottom
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(scroll => scroll.bottom < 250), 
        // Filters for truthfull changes
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["startWith"])(true), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["distinctUntilChanged"])(), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["filter"])(value => value), 
        // Shows the loading items
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["tap"])(() => this._loading$.next(20)), 
        // Asks for the next 20 contacts
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(() => 20));
        // All items paged result observable. 
        const paged$ = this.pipe(
        // Pages 20 items at a time
        Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["orderBy"])('fullName'), Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["page"])(more$), Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["data"])(), 
        // Hides the loading items when done
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["tap"])(() => this._loading$.next(0)), 
        // Buffers the results to avoid reloading after a search
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["shareReplay"])(1));
        // Searching term observable
        const term$ = this.search$.pipe(
        // Computes the search term
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(name => name && name.toLowerCase().replace(/^\s+|\s+$/g, '')), 
        // Debounces the term for 500ms
        Object(_wizdm_rxjs__WEBPACK_IMPORTED_MODULE_6__["autocomplete"])(500), 
        // Filters for real changes
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["distinctUntilChanged"])(), 
        // Updates the RegExp to highlight the results
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["tap"])(term => this.highlight = new RegExp(`\\b${term || '\\B'}`, 'ig')), 
        // Shows some loading item
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["tap"])(term => this._loading$.next(term.length === 1 ? 10 : 0)));
        // Searched items result obserable
        const search$ = (term) => this.pipe(
        // Queries for up to 20 items containing the term 
        Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["orderBy"])('fullName'), Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["where"])('searchIndex', 'array-contains', term), Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["limit"])(10), Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["snap"])(), Object(_wizdm_connect_database_collection_operators__WEBPACK_IMPORTED_MODULE_1__["data"])(), 
        // Hides the loading items when done
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["tap"])(() => this._loading$.next(0)));
        // Overall items combined
        this.items$ = term$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(term => term ? search$(term) : paged$));
    }
    // Tracks the result list by user id
    trackById(index, item) { return item.id; }
}
PeopleComponent.ɵfac = function PeopleComponent_Factory(t) { return new (t || PeopleComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_wizdm_connect_database__WEBPACK_IMPORTED_MODULE_3__["DatabaseService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_utils_scrolling__WEBPACK_IMPORTED_MODULE_4__["ScrollObservable"])); };
PeopleComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: PeopleComponent, selectors: [["wm-people"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 1, vars: 1, consts: [["gtag", "people", 4, "wmContent", "wmContentSelect"], ["gtag", "people"], ["fxLayout", "column", "fxLayoutAlign", "center center", "fxLayoutGap", "16px", "autocomplete", "off", "cdkTrapFocus", "", "cdkTrapFocusAutoCapture", ""], ["matPrefix", "", 3, "icon"], ["matInput", "", "name", "name", "cdkFocusInitial", "", 3, "ngModel", "ngModelChange"], ["formName", "ngModel"], [3, "routerLink", 4, "ngFor", "ngForOf", "ngForTrackBy"], [4, "ngFor", "ngForOf"], [3, "routerLink"], ["matListAvatar", "", "color", "primary", 3, "src"], ["matLine", "", "color", "accent", 3, "wm-highlight", "pattern"], ["matLine", ""], ["matListAvatar", "", 1, "skeleton-loading"], ["matLine", "", 1, "skeleton-loading", "text"]], template: function PeopleComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, PeopleComponent_ng_container_0_Template, 15, 11, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("wmContentSelect", "explore-people");
    } }, directives: [_content_src_lib_streamer_content_directive__WEBPACK_IMPORTED_MODULE_8__["ContentDirective"], _gtag_src_lib_gtag_directive__WEBPACK_IMPORTED_MODULE_9__["GtagDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgForm"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultLayoutDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultLayoutAlignDirective"], _angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_11__["DefaultLayoutGapDirective"], _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_12__["CdkTrapFocus"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatFormField"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatLabel"], _elements_src_lib_icon_icon_component__WEBPACK_IMPORTED_MODULE_14__["IconComponent"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatPrefix"], _angular_material_input__WEBPACK_IMPORTED_MODULE_15__["MatInput"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgModel"], _angular_material_form_field__WEBPACK_IMPORTED_MODULE_13__["MatHint"], _angular_material_list__WEBPACK_IMPORTED_MODULE_16__["MatList"], _angular_common__WEBPACK_IMPORTED_MODULE_17__["NgForOf"], _angular_material_list__WEBPACK_IMPORTED_MODULE_16__["MatListItem"], _angular_router__WEBPACK_IMPORTED_MODULE_18__["RouterLink"], _elements_src_lib_avatar_avatar_component__WEBPACK_IMPORTED_MODULE_19__["AvatarComponent"], _angular_material_list__WEBPACK_IMPORTED_MODULE_16__["MatListAvatarCssMatStyler"], _angular_material_core__WEBPACK_IMPORTED_MODULE_20__["MatLine"], _elements_src_lib_highlight_highlight_component__WEBPACK_IMPORTED_MODULE_21__["HighlightComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_17__["AsyncPipe"]], styles: ["[_nghost-%COMP%] {\n  position: relative;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-flat-button[type=submit][_ngcontent-%COMP%] {\n  min-width: 300px;\n}\n[_nghost-%COMP%]   .skeleton-loading.text[_ngcontent-%COMP%] {\n  max-width: 70%;\n}\n[_nghost-%COMP%]   h3.skeleton-loading.text[_ngcontent-%COMP%] {\n  width: 120px;\n}\n[_nghost-%COMP%]   p.skeleton-loading.text[_ngcontent-%COMP%] {\n  width: 50%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Blb3BsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFFQSxhQUFBO0VBQ0Esc0JBQUE7QUFERjtBQUdFO0VBQ0UsZ0JBQUE7QUFESjtBQUlFO0VBQXlCLGNBQUE7QUFEM0I7QUFFRTtFQUEyQixZQUFBO0FBQzdCO0FBQUU7RUFBMEIsVUFBQTtBQUc1QiIsImZpbGUiOiJwZW9wbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG5cbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtaW4taGVpZ2h0OiAxMDAlO1xuXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgLm1hdC1mb3JtLWZpZWxkLCAubWF0LWZsYXQtYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0ge1xuICAgIG1pbi13aWR0aDogMzAwcHg7XG4gIH1cblxuICAuc2tlbGV0b24tbG9hZGluZy50ZXh0IHsgbWF4LXdpZHRoOiA3MCU7IH1cbiAgaDMuc2tlbGV0b24tbG9hZGluZy50ZXh0IHsgd2lkdGg6IDEyMHB4OyB9XG4gIHAuc2tlbGV0b24tbG9hZGluZy50ZXh0IHsgd2lkdGg6IDUwJTsgfVxufSJdfQ== */"] });


/***/ }),

/***/ "Xkdy":
/*!***********************************************************!*\
  !*** ./elements/src/lib/highlight/highlight.component.ts ***!
  \***********************************************************/
/*! exports provided: HighlightComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HighlightComponent", function() { return HighlightComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "SVse");



const _c0 = ["wm-highlight", ""];
function HighlightComponent_ng_content_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0, 0, ["*ngIf", "tokens.length === 0"]);
} }
function HighlightComponent_ng_container_1_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const token_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("color", ctx_r3.color);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](token_r2.content);
} }
function HighlightComponent_ng_container_1_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](0);
} if (rf & 2) {
    const token_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](token_r2);
} }
function HighlightComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, HighlightComponent_ng_container_1_span_1_Template, 2, 2, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, HighlightComponent_ng_container_1_ng_template_2_Template, 1, 1, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const token_r2 = ctx.$implicit;
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", token_r2.highlight)("ngIfElse", _r4);
} }
const _c1 = ["*"];
class HighlightComponent {
    constructor() {
        this.tokens = [];
    }
    ngOnChanges(changes) {
        if (!!changes.pattern) {
            this.rx = null;
            if (this.pattern instanceof RegExp) {
                this.rx = this.pattern;
            }
            if (!!this.pattern && typeof (this.pattern) === 'string') {
                // Builds a default regex to match the input string pattern
                // at every word boundary case insensitive
                this.rx = new RegExp(`\\b${this.pattern || '\\B'}`, 'ig');
            }
        }
        if (!!changes.source || !!changes.pattern) {
            this.compile(this.source, this.rx);
        }
    }
    compile(source, rx) {
        // Resets the segments array
        this.tokens.splice(0);
        // Skips null or emptiìy sources
        if (!source) {
            return;
        }
        if (!rx) {
            this.tokens.push(source);
            return;
        }
        rx.lastIndex = 0;
        let start = 0;
        let match;
        while (match = rx.exec(source)) {
            // Prevents the zero-length match infinite loop for all browsers
            if (match.index == rx.lastIndex) {
                rx.lastIndex++;
            }
            ;
            // Pushes the text preceeding a match 
            if (match.index > start) {
                const text = source.substring(start, match.index);
                this.tokens.push(text);
            }
            const content = match[0];
            this.tokens.push({ highlight: true, content });
            // Moves to the next text segment
            start = match.index + match[0].length;
        }
        // Appends the final text chunk 
        if (rx.lastIndex < source.length) {
            const text = source.substring(start, source.length);
            this.tokens.push(text);
        }
    }
}
HighlightComponent.ɵfac = function HighlightComponent_Factory(t) { return new (t || HighlightComponent)(); };
HighlightComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HighlightComponent, selectors: [["", "wm-highlight", ""]], hostAttrs: [1, "wm-highlight"], inputs: { pattern: "pattern", source: ["wm-highlight", "source"], color: "color" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], attrs: _c0, ngContentSelectors: _c1, decls: 2, vars: 2, consts: [[4, "ngIf"], [4, "ngFor", "ngForOf"], [4, "ngIf", "ngIfElse"], ["plainText", ""]], template: function HighlightComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, HighlightComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, HighlightComponent_ng_container_1_Template, 4, 2, "ng-container", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tokens.length === 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.tokens);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"]], encapsulation: 2 });


/***/ }),

/***/ "YDx5":
/*!*********************************************!*\
  !*** ./elements/src/lib/highlight/index.ts ***!
  \*********************************************/
/*! exports provided: HighlightModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _highlight_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./highlight.module */ "4vlq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HighlightModule", function() { return _highlight_module__WEBPACK_IMPORTED_MODULE_0__["HighlightModule"]; });




/***/ })

}]);
//# sourceMappingURL=people-people-module-es2015.js.map