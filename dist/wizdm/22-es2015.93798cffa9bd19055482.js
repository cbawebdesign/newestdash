(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Wpvj:function(t,e,o){"use strict";o.r(e),o.d(e,"PostModule",function(){return H});var n=o("SVse"),i=o("s7LF"),a=o("iELJ"),c=o("eYWy"),s=o("eyIN"),r=o("lWmb"),l=o("7KAL"),d=o("o4Yh"),u=o("0zyZ"),b=o("8LU1"),m=o("lPMd"),p=o("8Y7J"),g=o("/q54"),f=o("Qfjl"),h=o("VDRc"),y=o("h0Qx"),v=o("BSbQ"),x=o("a/j4"),w=o("iInd"),P=o("0qK6"),_=o("Dxy4"),C=o("Q2Ze"),M=o("e6WT"),O=o("nGdH"),W=o("8sFK"),j=o("H7fF"),V=o("owKJ"),k=o("XtK9");function L(t,e){if(1&t){const t=p.Xb();p.Wb(0,"mat-form-field",19),p.Rb(1,"textarea",20),p.Wb(2,"wm-icon",21),p.ec("mousedown",function(){p.yc(t);const e=p.ic(2);return!e.disabled&&e.toggleEmojiKeys()}),p.Vb(),p.Vb()}if(2&t){const t=p.ic().$implicit;p.Db(2),p.pc("icon",null==t.composer.emoji?null:t.composer.emoji.icon)}}function D(t,e){if(1&t){const t=p.Xb();p.Wb(0,"mat-form-field",22),p.Rb(1,"wm-emoji-input",23),p.Wb(2,"wm-icon",21),p.ec("mousedown",function(){p.yc(t);const e=p.ic(2);return!e.disabled&&e.toggleEmojiKeys()}),p.Vb(),p.Vb()}if(2&t){const t=p.ic().$implicit;p.Db(2),p.pc("icon",null==t.composer.emoji?null:t.composer.emoji.icon)}}function I(t,e){if(1&t){const t=p.Xb();p.Ub(0),p.Wb(1,"div",1),p.Wb(2,"div",2),p.Wb(3,"h4",3),p.Ic(4),p.Vb(),p.Vb(),p.Wb(5,"div",4),p.Wb(6,"wm-icon",5),p.ec("click",function(){return p.yc(t),p.ic().closePostDialog()}),p.Vb(),p.Vb(),p.Vb(),p.Rb(7,"mat-divider"),p.Wb(8,"div",6),p.Wb(9,"div",7),p.Rb(10,"wm-avatar",8),p.Vb(),p.Wb(11,"div",9),p.Wb(12,"a",10),p.Ic(13),p.Vb(),p.Wb(14,"a",10),p.Ic(15,"Public"),p.Vb(),p.Vb(),p.Vb(),p.Wb(16,"form",11),p.Wb(17,"div",12),p.Gc(18,L,3,1,"mat-form-field",13),p.Gc(19,D,3,1,"ng-template",null,14,p.Hc),p.Vb(),p.Wb(21,"mat-expansion-panel",15),p.Wb(22,"wm-emoji-keyboard",16),p.ec("keyPressed",function(e){return p.yc(t),p.ic().typein(e)}),p.Vb(),p.Vb(),p.Wb(23,"mat-dialog-actions",17),p.Wb(24,"button",18),p.ec("click",function(){return p.yc(t),p.ic().savePost()}),p.Ic(25),p.Vb(),p.Vb(),p.Vb(),p.Tb()}if(2&t){const t=e.$implicit,o=p.vc(20),n=p.ic();p.Db(4),p.Jc((null==t.addpost.header?null:t.addpost.header.title)||"Create Post"),p.Db(2),p.pc("icon",null==t.addpost.header?null:t.addpost.header.icon),p.Db(4),p.pc("src",n.userImage),p.Db(3),p.Kc("",n.userFirstName," "),p.Db(3),p.pc("formGroup",n.postForm),p.Db(2),p.pc("ngIf","native"===n.mode)("ngIfElse",o),p.Db(4),p.pc("favorites",n.keys)("mode",n.mode),p.Db(2),p.pc("mat-dialog-close",!0)("color","primary"),p.Db(1),p.Kc("",(null==t.addpost?null:t.addpost.createpost)||"Post"," ")}}let K=(()=>{class t extends m.b{constructor(t,e,o,n,i,a){super(t,"feed"),this.matDialogRef=o,this.utils=n,this.media=i,this.user=a,this._disabled=!1}get mobile(){return this.media.isActive("xs")}get desktop(){return!this.mobile}get disabled(){return this._disabled}set disabled(t){var e;(this._disabled=Object(b.c)(t))&&(null===(e=this.emojiKeysPanel)||void 0===e||e.close())}get mode(){return this.utils.emojiMode()}toggleEmojiKeys(){return this.emojiKeysPanel.toggle(),!1}typein(t){var e;return null===(e=this.typeinAdapter)||void 0===e||e.typein(t),!1}get userImage(){return this.user.data.photo||""}get userFirstName(){var t,e,o;return(null===(o=null===(e=null===(t=this.user)||void 0===t?void 0:t.data)||void 0===e?void 0:e.userName)||void 0===o?void 0:o.split("-").slice().pop())||""}savePost(){let t={text:this.postForm.value.text,tags:["public"]};this.db.collection("users").document(this.user.uid).collection("feed").add(Object.assign({},t))}closePostDialog(){return this.matDialogRef.close(null)}ngOnInit(){this.postForm=new i.g({text:new i.e("")})}}return t.\u0275fac=function(e){return new(e||t)(p.Qb(c.b),p.Qb(a.a),p.Qb(a.g),p.Qb(s.c),p.Qb(g.g),p.Qb(r.b))},t.\u0275cmp=p.Kb({type:t,selectors:[["wm-post-dlg"]],viewQuery:function(t,e){if(1&t&&(p.Lc(l.e,1),p.Lc(d.c,1),p.Lc(u.b,1)),2&t){let t;p.uc(t=p.fc())&&(e.scroller=t.first),p.uc(t=p.fc())&&(e.emojiKeysPanel=t.first),p.uc(t=p.fc())&&(e.typeinAdapter=t.first)}},features:[p.Ab],decls:1,vars:1,consts:[[4,"wmContent","wmContentSelect"],["fxLayout","row","fxLayoutAlign","space-between center",1,"dlg-header"],[1,"dlg-header__title"],["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","end start",1,"dlg-header__close"],[3,"icon","click"],["fxLayout","row","fxLayoutGap","10px",1,"dlg-subheader"],[1,"dlg-avatar"],[3,"src"],["fxLayout","column"],[1,"mat-small",3,"routerLink"],["fxLayout","column",3,"formGroup"],["fxLayout","row","fxLayoutAlign","center end"],["fxFlex","1 1 auto","appearance","legacy",4,"ngIf","ngIfElse"],["webMode",""],["hideToggle","",1,"mat-elevation-z0"],[3,"favorites","mode","keyPressed"],["align","center"],["cdkFocusInitial","","mat-button","",1,"post__btn",3,"mat-dialog-close","color","click"],["fxFlex","1 1 auto","appearance","legacy"],["matInput","","typein","","formControlName","text","cdkTextareaAutosize","","cdkAutosizeMinRows","1"],["inline","","matSuffix","",1,"tools",3,"icon","mousedown"],["appearance","legacy","fxFlex","1 1 auto"],["typein","","formControlName","text","matEmoji",""]],template:function(t,e){1&t&&p.Gc(0,I,26,12,"ng-container",0),2&t&&p.pc("wmContentSelect","explorer-feed-post")},directives:[f.a,h.e,h.d,a.h,y.a,v.a,h.f,x.a,w.j,i.u,i.n,i.h,n.m,d.c,P.a,a.c,_.b,a.d,C.c,h.b,M.b,O.a,i.c,W.b,i.m,i.f,C.i,j.a,V.a,k.a],styles:["[_nghost-%COMP%]{position:relative;display:block}[_nghost-%COMP%]   .dlg-subheader[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:10px}[_nghost-%COMP%]   .dlg-header__close[_ngcontent-%COMP%]   wm-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .tools[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .tools[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .dlg-avatar[_ngcontent-%COMP%]{position:relative;height:48px}[_nghost-%COMP%]   .wm-emoji-keyboard[_ngcontent-%COMP%]{flex-direction:column!important}[_nghost-%COMP%]   .wm-emoji-keyboard[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{min-width:40px}[_nghost-%COMP%]   wm-avatar[_ngcontent-%COMP%]{width:48px;height:48px;line-height:48px;cursor:pointer}[_nghost-%COMP%]   .post__btn.mat-button[_ngcontent-%COMP%]{width:100%!important}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{line-height:1.5em}"]}),t})();var F=o("g7MM"),Q=o("u9T3"),A=o("txmD"),N=o("uaks"),R=o("fi6C"),E=o("kNiW"),G=(o("omvX"),o("UhP/"));let J=(()=>{class t{}return t.\u0275mod=p.Ob({type:t}),t.\u0275inj=p.Nb({factory:function(e){return new(e||t)},imports:[[G.j],G.j]}),t})();var S=o("Entk"),T=o("UYqx"),X=o("KRLS"),q=o("glvt"),z=o("W6g8"),U=o("SqCe");o("J3Me");const Y=[{path:"",content:"explorer-feed-post",component:K,data:{dialogConfig:{maxWidth:"100%"}}}];let H=(()=>{class t{}return t.\u0275mod=p.Ob({type:t}),t.\u0275inj=p.Nb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,i.r,Q.a,a.f,J,C.e,M.c,d.b,U.e,_.c,T.b,X.a,q.a,z.a,u.a,S.a,A.a,N.a,R.a,E.a,F.e.forChild(Y)]]}),t})()}}]);