{"version":3,"sources":["webpack:///connect/src/lib/database/database.service.ts","webpack:///wizdm/src/app/utils/scrolling/scrolling.module.ts","webpack:///connect/src/lib/functions/index.ts","webpack:///connect/src/lib/storage/storage-reference.ts","webpack:///emoji/src/lib/emoji-support.module.ts","webpack:///wizdm/src/app/utils/background/background.directive.ts","webpack:///emoji/src/lib/index.ts","webpack:///wizdm/src/app/app.component.ts","webpack:///wizdm/src/app/app.component.html","webpack:///connect/src/lib/database/document/index.ts","webpack:///ipinfo/src/lib/providers/iplist-cc.ts","webpack:///gtag/src/lib/gtag-factory.ts","webpack:///content/src/lib/streamer/content-streamer.service.ts","webpack:///wizdm/src/environments/common.ts","webpack:///ipinfo/src/lib/ipinfo.service.ts","webpack:///stripe/src/lib/stripe-loader.ts","webpack:///emoji/src/lib/utils/emoji-utils.ts","webpack:///connect/src/lib/storage/storage.service.ts","webpack:///connect/src/lib/database/document/document.ts","webpack:///wizdm/src/app/utils/background/background.module.ts","webpack:///connect/src/lib/storage/upload-observable.ts","webpack:///connect/src/lib/database/collection/utils.ts","webpack:///ipinfo/src/index.ts","webpack:///readme/src/index.ts","webpack:///redirect/src/index.ts","webpack:///wizdm/src/app/utils/scrolling/index.ts","webpack:///ipinfo/src/lib/ipinfo.module.ts","webpack:///ipinfo/src/lib/providers/ipinfo-io.ts","webpack:///gtag/src/lib/gtag.directive.ts","webpack:///connect/src/lib/database/collection/group.ts","webpack:///content/src/lib/router/selector-resolver.service.ts","webpack:///content/src/lib/loader/content-configurator.service.ts","webpack:///ipinfo/src/lib/providers/freegeoip-app.ts","webpack:///wizdm/src/environments/environment.ts","webpack:///wizdm/src/app/utils/platform/dark-mode/index.ts","webpack:///content/src/lib/router/content-selector.service.ts","webpack:///connect/src/lib/storage/extras/index.ts","webpack:///ipinfo/src/lib/providers/index.ts","webpack:///connect/src/lib/functions/functions.service.ts","webpack:///connect/src/lib/connect.module.ts","webpack:///content/src/lib/router/content-router.module.ts","webpack:///stripe/src/lib/stripe.module.ts","webpack:///wizdm/src/app/utils/platform/dark-mode/dark-mode.service.ts","webpack:///stripe/src/lib/stripe-caller.ts","webpack:///pipes/src/lib/interpolation/interpolation.module.ts","webpack:///connect/src/lib/database/collection/query.ts","webpack:///redirect/src/lib/redirect.module.ts","webpack:///connect/src/lib/database/document/transaction.ts","webpack:///connect/src/lib/storage/extras/storage-file.ts","webpack:///wizdm/src/app/utils/platform/index.ts","webpack:///wizdm/src/app/utils/scrolling/scroll-behavior.directive.ts","webpack:///connect/src/lib/index.ts","webpack:///connect/src/lib/storage/extras/storage-folder.ts","webpack:///content/src/lib/streamer/content.directive.ts","webpack:///connect/src/lib/auth/index.ts","webpack:///connect/src/lib/storage/storage-application.ts","webpack:///wizdm/src/environments/secrets.private.ts","webpack:///connect/src/lib/database/database-application.ts","webpack:///emoji/src/lib/image/emoji-image.directive.ts","webpack:///connect/src/lib/functions/functions.module.ts","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///pipes/src/lib/interpolation/index.ts","webpack:///redirect/src/lib/redirect.directive.ts","webpack:///stripe/src/lib/stripe.service.ts","webpack:///emoji/src/lib/image/index.ts","webpack:///emoji/src/lib/text/index.ts","webpack:///connect/src/lib/auth/auth.module.ts","webpack:///connect/src/lib/database/counter/index.ts","webpack:///content/src/lib/router/content-resolver.ts","webpack:///pipes/src/lib/interpolation/interpolations.pipe.ts","webpack:///wizdm/src/app/utils/background/background.service.ts","webpack:///wizdm/src/app/utils/background/index.ts","webpack:///rxjs/src/lib/tap-once.ts","webpack:///connect/src/lib/database/collection/collection.ts","webpack:///connect/src/lib/storage/storage.module.ts","webpack:///connect/src/lib/database/index.ts","webpack:///emoji/src/lib/utils/index.ts","webpack:///wizdm/src/app/app.module.ts","webpack:///gtag/src/index.ts","webpack:///emoji/src/lib/text/emoji-text.module.ts","webpack:///content/src/index.ts","webpack:///readme/src/lib/readme.module.ts","webpack:///wizdm/src/app/utils/platform/has-touchscreen/index.ts","webpack:///connect/src/lib/auth/auth.service.ts","webpack:///gtag/src/lib/gtag.module.ts","webpack:///rxjs/src/index.ts","webpack:///connect/src/lib/auth/auth-guard.service.ts","webpack:///wizdm/src/app/utils/platform/has-touchscreen/has-touchscreen.ts","webpack:///connect/src/lib/database/collection/index.ts","webpack:///content/src/lib/loader/content-loader.service.ts","webpack:///connect/src/lib/database/document/utils.ts","webpack:///readme/src/lib/readme.component.ts","webpack:///readme/src/lib/readme.component.html","webpack:///rxjs/src/lib/run-in-zone.ts","webpack:///wizdm/src/app/utils/scrolling/scroll-observable.service.ts","webpack:///emoji/src/lib/image/emoji-image.module.ts","webpack:///gtag/src/lib/gtag.service.ts","webpack:///rxjs/src/lib/autocomplete.ts","webpack:///wizdm/src/main.ts","webpack:///connect/src/lib/database/counter/counter.ts","webpack:///wizdm/src/app/utils/scrolling/router-scroll.service.ts","webpack:///emoji/src/lib/utils/emoji-utils.service.ts","webpack:///connect/src/lib/database/document/batch.ts","webpack:///connect/src/lib/storage/index.ts","webpack:///stripe/src/lib/index.ts","webpack:///rxjs/src/lib/append.ts","webpack:///rxjs/src/lib/on-stable.ts","webpack:///content/src/lib/content.module.ts","webpack:///rxjs/src/lib/zone-stable.ts","webpack:///connect/src/lib/database/collection/operators.ts","webpack:///redirect/src/lib/redirect.service.ts","webpack:///emoji/src/lib/text/emoji-text.component.ts","webpack:///emoji/src/lib/text/emoji-text.component.html","webpack:///ipinfo/src/lib/providers/geojs-io.ts","webpack:///$_lazy_route_resource lazy namespace object","webpack:///connect/src/lib/database/database.module.ts"],"names":["PERSISTENCE_SETTINGS","DatabaseService","app","zone","persistence","path","groupId","shards","firestore","batch","updateFn","runTransaction","trx","ScrollingModule","scroller","setHistoryScrollRestoration","config","ngModule","providers","provide","useFactory","scrollPositionRestoration","anchorScrolling","StorageReference","st","from","ref","bucket","name","fullPath","reference","root","parent","child","getDownloadURL","getMetadata","meta","updateMetadata","options","list","listAll","data","metadata","put","format","putString","EmojiSupportModule","useValue","BackgroundDirective","background","image","url","_image","clearBackground","applyBackground","clip","size","color","repeat","origin","position","attachment","AppComponent","background$","darkMode$","el","diffs","renderer","router","sub","subscribe","styles","ngStyle","add","dark","darkMode","loading$","events","pipe","e","value","unsubscribe","opacity","IP_LIST_CC","GtagConfigToken","gtagFactory","window","script","document","createElement","src","targetId","type","async","head","appendChild","dataLayer","gtag","args","push","arguments","Date","send_page_view","configInfo","setParams","moreIds","forEach","id","ContentStreamer","loader","cache","data$","selector","stream","select","split","reduce","token","undefined","common","production","appname","content","source","supportedValues","defaultValue","emoji","emojiPath","emojiExt","emojiMode","ipinfo","provider","scroll","scrollOffset","tooltips","showDelay","hideDelay","touchendHideDelay","markdown","commonmark","footnotes","prism","load","stripeElements","fonts","cssSrc","IPINFO_CONFIG","IpInfo","http","subscriber","inner$","ip$","Error","ip","endPoint","ep","console","log","get","warn","next","lastIP","replace","apiKey","getStripeJS","Stripe","loadStripeJS","STRIPE_V3_URL","StripeJS","Promise","resolve","reject","findScript","querySelector","injectScript","body","addEventListener","EmojiRegex","providedIn","factory","EmojiNative","checkNativeEmojiSupport","canvas","getContext","fillText","ctx","textBaseline","font","getImageData","StorageService","storage","refFromURL","DatabaseDocument","db","pathOrRef","doc","snapshot","collection","counter","created","timestamp","set","updated","merge","fields","mergeFields","update","then","snap","exists","transaction","asObservable","BackgroundModule","UploadObservable","_inner$","task","on","TaskEvent","STATE_CHANGED","run","error","complete","_task","pause","resume","cancel","fulfilled","rejected","refError","fromRef","onSnapshot","combineDocumentChanges","combined","changes","change","newIndex","isEqual","splice","oldIndex","IpInfoModule","IP_INFO_IO","GtagDirective","title","pageView","location","DatabaseGroup","group","_ref","SelectorResolver","route","currentValue","paramMap","ContentConfigToken","ContentConfigurator","_currentValue","FREE_GEO_IP_APP","environment","ContentSelector","state","requested","requestedValue","selected","valueAllowed","browserLanguage","createUrlTree","find","allowed","detected","detectLanguage","navigator","languages","language","userLanguage","FUNCTIONS_REGION","EMULATOR_ORIGIN","FunctionsService","region","functions","runOutsideAngular","useFunctionsEmulator","_url","projectId","callable","httpsCallable","result","APP","APP_OPTIONS","APP_NAME","appFactory","apps","initializeApp","ConnectModule","deps","resolveRoutesWithContent","routes","map","file","create","ContentRouterModule","children","flatten","arr","Array","prototype","concat","apply","resolvedRoutes","StripeModule","publicKey","_stripejs","DarkModeObserver","force$","darkObserver","force","isDarkMode","mq","matchMedia","defaultView","matches","EventTarget","addListener","bind","removeListener","StripeCaller","stripejs","account$","stripe$","stripeContructor","stripeAccount","signature","stripe","fn","toPromise","PIPES","InterpolationPipesModule","DatabaseQuery","observer","qf","RedirectModule","DatabaseTransaction","StorageFile","source$","name$","fromSource","upl","s","meta$","totalBytes","url$","progress$","Math","floor","bytesTransferred","summary$","none","ScrollBehaviorDirective","routerScroll$","scrollToPosition","anchor","scrollToAnchor","StorageFolder","upload$","result$","folders$","prefixes","files$","items","files","upload","uploads","up","ContentDirective","tpl","vcr","$implicit","wmContentOr","createEmbeddedView","StorageApplication","secrets","rootEmail","stripeTestKey","stripeLiveKey","firebase","authDomain","databaseURL","storageBucket","messagingSenderId","appId","measurementId","doorbell","appKey","DatabaseApplication","persistance","persisted","enablePersistence","fieldNames","FieldPath","documentId","FieldValue","serverTimestamp","n","increment","arrayUnion","arrayRemove","lat","lng","GeoPoint","collectionGroup","fakeImage","EmojiImage","utils","hit","imageFilePath","target","clientX","rt","getBoundingClientRect","emit","left","right","FunctionsModule","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","webpackContextKeys","Object","module","exports","RedirectDirective","redirect","disabled","navigate","RedirectWithHrefDirective","STRIPE_PUBLIC_KEY","STRIPE_OPTIONS","STRIPEJS","StripeService","callStripe","clientSecret","paymentMethodData","AuthModule","ContentResolver","lang","loadFile","PluckPipe","key","InterpolatePipe","context","match","capture","EvalPipe","vals","Function","HyphenizePipe","hyphen","$1","toLowerCase","CamelizePipe","toUpperCase","PrintfPipe","i","flags","width","precision","out","Number","toFixed","length","digits","toString","BackgroundObservable","styler$","buffer","index","findIndex","item","style","tapOnce","shared","DatabaseCollection","col","query","limit","deleteBatch","count","total","empty","commit","StorageModule","loadChildren","m","NavigatorModule","AppModule","useExisting","useClass","init","forRoot","EmojiTextModule","ReadmeModule","AuthService","auth","state$","onAuthStateChanged","bufferSize","refCount","user$","onIdTokenChanged","currentUser","user","authenticated","uid","getIdTokenResult","signInProvider","languageCode","email","password","displayName","createUserWithEmailAndPassword","credential","updateProfile","signInWithEmailAndPassword","providerId","GoogleAuthProvider","FacebookAuthProvider","TwitterAuthProvider","GithubAuthProvider","authProvider","setupProvider","message","signInWithPopup","reauthenticateWithPopup","credentials","EmailAuthProvider","reauthenticateWithCredential","signOut","applyActionCode","sendPasswordResetEmail","newPassword","confirmPasswordReset","GtagModule","loggedIn","AuthGuard","authPipeFactory","authGuardPipe","proceedOrRedirect","commands","extras","emailVerified","idTokenResult","customClaims","results","claims","authRedirect","canActivate","HasTouchScreen","nav","maxTouchPoints","msMaxTouchPoints","mQ","media","test","userAgent","ContentLoader","flush","localModule","defaultModule","isArray","_","refReject","mapSnaphotData","ReadmeNavigator","ReadmeComponent","segments","compile","start","rx","exec","lastIndex","substring","observers","eventNavigation","serviceNavigation","runInZone","ScrollObservable","ruler","dispatcher","scrolled","scrollInfo","x","y","top","bottom","scrollHeight","getViewportRect","height","pos","EmojiImageModule","GTAG","GtagService","disable","params","action","tmr","setTimeout","timeout","event_callback","clearTimeout","page_title","page_path","page_location","event","description","fatal","event_category","event_label","app_name","screen_name","app_id","app_version","app_installer_id","method","search_term","promotions","checkout_step","checkout_option","autocomplete","time","payload","interval","bootstrapModule","err","DistributedCounter","_counter$","counter$","accumulate","counters","sum","shard","rnd","random","RouterScroll","end","routerEvent","urlAfterRedirects","EmojiConfigToken","EmojiUtils","native","regex","filePath","assessPath","fileExt","assessExt","endsWith","ext","startsWith","mode","pts","cp","codePointAt","join","callbackfn","DatabaseBatch","btc","append","observableFactory","startValue","lastValue","onStable","isStable","ContentModule","zoneStable","where","field","op","orderBy","dir","limitToLast","startAt","startAfter","endBefore","endAt","docs","docChanges","changeTypes","filter","indexOf","combineChanges","seed","page","pager","after","internal","cursor","done","pageReverse","before","fifo","waitForPendingWrites","snaps","includeMetadataChanges","hasPendingWrites","latest","stack","RedirectService","open","link","external","externalUrl","internalUrl","navigateByUrl","queryParamMap","RegExp","parseUrl","EmojiText","_value","behavior","parseEmojiCodes","GEO_JS_IO","webpackEmptyAsyncContext","DatabaseModule","settings"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { DatabaseDocument, DatabaseTransaction, DatabaseBatch, DocumentRef } from './document'\nimport { DatabaseCollection, DatabaseGroup, CollectionRef, Query } from './collection';\nimport { Injectable, InjectionToken, Inject, Optional, NgZone } from '@angular/core';\nimport { DatabaseApplication, PersistenceSettings } from './database-application';\nimport { DistributedCounter, CounterShard } from './counter';\nimport { APP, FirebaseApp } from '@wizdm/connect';\n\nexport const PERSISTENCE_SETTINGS = new InjectionToken<PersistenceSettings>('wizdm.connect.database.persistence');\n\n@Injectable()\nexport class DatabaseService extends DatabaseApplication {\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone, @Optional() @Inject(PERSISTENCE_SETTINGS) persistence: PersistenceSettings) { \n    super(app, zone, persistence); \n  }\n\n  /**\n   * Creates and returns a DatabaseDocument object\n   * @param path the path to the collection containing the document\n   * @param id the id of the document to be retrived\n   */\n  public document<T>(path: string|DocumentRef<T>): DatabaseDocument<T> {\n    return new DatabaseDocument<T>(this, path);\n  }\n\n  /**\n   * Creates and returns a DatamaseCOllection object\n   * @param path the path to the collection\n   */\n  public collection<T>(path: string|CollectionRef<T>): DatabaseCollection<T> {\n    return new DatabaseCollection<T>(this, path);\n  }\n\n  /**\n   * Creates and returns a DatabaseGroup object\n   * @param groupId the groupId to gather the group\n   */\n  public collectionGroup<T>(groupId: string|Query<T>): DatabaseGroup<T> {\n    return new DatabaseGroup<T>(this, groupId);\n  }\n\n  /**\n   * Creates a new, or retrives and existing, distributed counter\n   * @param path the path to the distributed counter location in the database\n   * @param shards number of shards to share the counting with\n   */\n  public counter(path: string|CollectionRef<CounterShard>, shards: number = 3): DistributedCounter {\n    return new DistributedCounter(this, path, shards);\n  }\n\n  /** Returns a DatabaseBatch (wrapping firestore.WriteBatch) batch operations */\n  public batch(): DatabaseBatch {\n    return new DatabaseBatch(this, this.firestore.batch());\n  }\n\n  /** Runs a firestore.Transaction to support atomic operations */\n  public transaction<T>( updateFn: (t: DatabaseTransaction) => Promise<T> ): Promise<T> {\n    return this.firestore.runTransaction<T>( trx => updateFn( new DatabaseTransaction(this, trx) ));\n  }\n}","import { NgModule, ModuleWithProviders, Optional, Inject } from '@angular/core';\nimport { ScrollBehaviorDirective } from './scroll-behavior.directive';\nimport { ExtraOptions, ROUTER_CONFIGURATION } from '@angular/router';\nimport { ViewportScroller } from '@angular/common';\n\n@NgModule({\n  declarations: [ ScrollBehaviorDirective ],\n  exports: [ ScrollBehaviorDirective ],\n})\nexport class ScrollingModule {\n\n  constructor(scroller: ViewportScroller) {\n    // we want to disable the automatic scrolling because having two places\n    // responsible for scrolling results race conditions, especially given\n    // that browser don't implement this behavior consistently\n    scroller.setHistoryScrollRestoration('manual');\n  }\n\n  static init(config: ExtraOptions): ModuleWithProviders<ScrollingModule> {\n\n    return {\n      ngModule: ScrollingModule,\n      providers: [ { provide: ROUTER_CONFIGURATION, useFactory: () => {\n\n        // Disables default router scolling to avoid racing conditions\n        const scrollPositionRestoration = 'disabled';\n        const anchorScrolling = 'disabled';\n\n        return { ...config, scrollPositionRestoration, anchorScrolling };\n      }}]\n    }\n  }\n }\n","export * from './functions.service';\nexport * from './functions.module';","import { StorageApplication, StorageRef, SettableMetadata, UploadMetadata, ListResult, ListOptions, StringFormat } from './storage-application';\nimport { UploadObservable } from './upload-observable';\nimport { Observable, defer } from 'rxjs';\n\n/** Wraps the irebase Storage Reference to include Observable functionalities */\nexport class StorageReference {\n\n  /** Firebase Storage Reference */\n  public ref: StorageRef; \n\n  constructor(readonly st: StorageApplication, path?: string|StorageRef) {\n    this.from(path);\n  }\n\n  /** Applies the given reference to this object */\n  public from(path: string|StorageRef): StorageRef {\n    return this.ref = this.st.ref(path);\n  }\n\n  /** Returns the bucket name */\n  public get bucket(): string { return this.ref.bucket; }\n\n  /** Returns the file name */\n  public get name(): string { return this.ref.name; }\n\n  /** Returns the file's full path */\n  public get fullPath(): string { return this.ref.fullPath; }\n\n   /** Returns a child StorageReference object */\n  public root(path: string): StorageReference { \n    return this.st.reference(this.ref.root); \n  }\n\n   /** Returns a child StorageReference object */\n  public parent(path: string): StorageReference { \n    return this.st.reference(this.ref.parent); \n  }\n\n  /** Returns a child StorageReference object */\n  public child(path: string): StorageReference { \n    return this.st.reference(this.ref.child(path)); \n  }\n\n  //-- Reverts back to the original Primise-based storage API\n\n  /** Returns the URL to download the file from */\n  public getDownloadURL(): Promise<string> { \n    return this.ref.getDownloadURL();\n  }\n\n  /** Returns the file Metadata */\n  public getMetadata(): Promise<UploadMetadata>{ \n    return this.ref.getMetadata();\n  }\n  \n  /** Updates the file Metadata */\n  public updateMetadata(meta: SettableMetadata): Promise<any> { \n    return this.ref.updateMetadata(meta); \n  }\n\n  /** Deletes the file from the storage */\n  public delete(): Promise<void> { \n    return this.ref.delete();\n  }\n  \n  /** Lists the items (files) and prefixes (folders) up to the maximum number optionally expressed in options */\n  public list(options?: ListOptions): Observable<ListResult> {\n    return defer( () => this.ref.list(options) );\n  }\n\n  /** List all the files and folders */\n  public listAll(): Observable<ListResult> {\n    return defer( () => this.ref.listAll() );\n  }\n\n  //-- Wraps uploading functionalities with UploadObservable cold observable\n\n  /** Returns an UploadTask cold observable for binary data. Upload process will start upon subscription. */\n  public put(data: Blob|Uint8Array|ArrayBuffer, metadata?: UploadMetadata): UploadObservable {\n    return new UploadObservable( () => this.ref.put(data, metadata), this.st.zone );\n  }\n\n  /** Returns an UploadObservable cold observable text encoded data. Upload process will start upon subscription. */\n  public putString(data: string, format?: StringFormat, metadata?: UploadMetadata): UploadObservable {\n    return new UploadObservable( () => this.ref.putString(data, format, metadata), this.st.zone );\n  }\n} ","import { EmojiUtils, EmojiConfig, EmojiConfigToken } from '@wizdm/emoji/utils';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\n\n@NgModule({\n  imports: [ ],\n  providers: [ EmojiUtils ]\n})\nexport class EmojiSupportModule { \n\n   static init(config: EmojiConfig): ModuleWithProviders<EmojiSupportModule> {\n    return {\n      ngModule: EmojiSupportModule,\n      providers: [\n        { provide: EmojiConfigToken, useValue: config }\n      ]\n    };\n  } \n}","import { Directive, Input, OnChanges, OnDestroy } from '@angular/core';\nimport { BackgroundObservable } from './background.service';\n\n/** Background styling directive. Use this directive withing the page to apply the given style to the parent navigator's background */\n@Directive({\n  selector: 'wm-background'\n})\nexport class BackgroundDirective implements OnChanges, OnDestroy {\n\n  private _image;\n\n  constructor(private background: BackgroundObservable) {}\n  \n  /** Sets whether a background image's position is fixed within the viewport, or scrolls with its containing block.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-attachment} */\n  @Input() attachment: string;\n\n  /** Sets whether an element's background extends underneath its border box, padding box, or content box.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-clip} */\n  @Input() clip: string;\n\n  /** Sets the background color. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-color} */\n  @Input() color: string;\n\n  /** Sets the background's origin: from the border start, inside the border, or inside the padding.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-origin} */\n  @Input() origin: string;\n\n  /** Sets the initial position for each background image. The position is relative to the position layer set by origin. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-position} */\n  @Input() position: string;\n\n  /** Sets how background images are repeated. A background image can be repeated along the horizontal and vertical axes, or not repeated at all. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-repeat} */\n  @Input() repeat: string;\n\n  /** Sets the size of the background image. The image can be left to its natural size, stretched, or constrained to fit the available space. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-size} */\n  @Input() size: string;\n\n  /** Sets one or more background images. \n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/background-image} */\n  @Input() image: string;\n\n  /** Sets the backgrpund image from an url. */\n  @Input() url: string;\n\n  // Applies back the collected properties to the Navigator's background via the service.\n  ngOnChanges() {\n\n    // Computes the image as requeste\n    const image = this.image || this.url && 'url(' + this.url + ')';\n\n    if(!image) { this._image && this.background.clearBackground(this._image); }\n    else {\n\n      this.background.applyBackground({\n        \"background-image\": image,\n        \"backgroung-clip\": this.clip,\n        \"background-size\": this.size,\n        \"background-color\": this.color,\n        \"background-repeat\": this.repeat,\n        \"background-origin\": this.origin,\n        \"background-position\": this.position,\n        \"background-attachment\": this.attachment\n      });\n    }\n\n    // Keeps track of the active image\n    this._image = image;\n  }\n\n  // Clears the background when disposed\n  ngOnDestroy() { this.background.clearBackground(this._image); }\n}\n","export * from './emoji-support.module';\n\n","import { Component, OnDestroy, ViewEncapsulation, ElementRef, KeyValueDiffers, Renderer2 } from '@angular/core';\nimport { filter, map, startWith, distinctUntilChanged, takeWhile } from 'rxjs/operators';\nimport { trigger, animate, style, transition } from '@angular/animations';\nimport { Router, ResolveStart, NavigationEnd } from '@angular/router';\nimport { BackgroundObservable } from 'app/utils/background';\nimport { DarkModeObserver } from 'app/utils/platform';\nimport { Observable, Subscription } from 'rxjs';\nimport { NgStyle } from '@angular/common';\n\n@Component({\n  selector: 'body',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('fade', [\n      transition(':leave', [\n        animate('200ms ease-out', \n          style({ opacity: 0 })\n        )] \n      )\n    ])\n  ],\n  host: {\n    'class': 'mat-typography mat-app-background', \n    '[class.dark-mode]': 'darkMode'\n  }\n})\nexport class AppComponent extends NgStyle implements OnDestroy { \n  \n  readonly loading$: Observable<boolean>;\n  private sub: Subscription;\n  \n  public darkMode: boolean;\n\n  constructor(background$: BackgroundObservable, private darkMode$: DarkModeObserver, el: ElementRef, diffs: KeyValueDiffers, renderer: Renderer2, router: Router) {\n\n    // Builds the NgStyle directive\n    super(el, diffs, renderer);\n\n    // Applies the styles coming from BackgroundObservable\n    this.sub = background$.subscribe( styles => {\n      this.ngStyle = styles;\n    });\n\n    // Detects the dark mode, when enabled\n    this.sub.add( darkMode$.subscribe( dark => this.darkMode = dark ) );\n\n    // Uses router events to display the loading spinner\n    this.loading$ = router.events.pipe( \n      // Filters the meaningful events only\n      filter( e => e instanceof ResolveStart || e instanceof NavigationEnd ),\n      // Maps the event to the boolean value\n      map( e => e instanceof ResolveStart ),\n      // Makes sure to start properly\n      startWith(true),\n      // Filters unchanged values\n      distinctUntilChanged(),\n      // Completes when done loading\n      takeWhile( value => value, true)\n    );\n  }\n\n  // Disposes of the subscription\n  ngOnDestroy() { this.sub.unsubscribe(); }\n}\n","\n<!-- Navigator routing outlet -->\n<router-outlet></router-outlet>\n\n<!-- Loading spinner placeholder -->\n<div *ngIf=\"loading$ | async\" class=\"preloader\" @fade>\n  <div></div><div></div><div></div>\n</div>","export * from './transaction';\nexport * from './document';\nexport * from './batch';\nexport * from './types';","\r\n// @see {https://iplist.cc}\r\nexport const IP_LIST_CC = 'https://iplist.cc/api/{{ip}}';\r\n\r\nexport interface IpListCC {\r\n  ip: string;\r\n  registry: string,\r\n  countrycode: string,\r\n  countryname: string,\r\n  asn?: IpListAsn;\r\n  detail: string;\r\n  spam: boolean;\r\n  tor: boolean;\r\n}\r\n\r\nexport interface IpListAsn {\r\n  code: number;\r\n  name: string;\r\n  route: string;\r\n  start: string;\r\n  end: string;\r\n  count: number;\r\n}","import { InjectionToken } from '@angular/core';\nimport { Gtag, ConfigParams, CustomParams } from './gtag-definitions';\n\nexport interface GtagConfig {\n\n  targetId: string; // gtag('config', 'targetId', configInfo )\n  configInfo?: ConfigParams;\n  setParams?: CustomParams; // gtag('set', setParams)\n  moreIds?: string[];\n  timeout?: number;\n}\n\nexport const GtagConfigToken = new InjectionToken<GtagConfig>('wizdm.gtag.config');\n\n/** Reproduces the standard code snippet we would paste in index.html\n * @see: https://developers.google.com/analytics/devguides/collection/gtagjs */\nexport function gtagFactory(config: GtagConfig): Gtag {\n\n  if('gtag' in window) { return window['gtag']; }\n\n  const script = document.createElement('script');\n\n  script.src = 'https://www.googletagmanager.com/gtag/js?id=' + config.targetId;\n  script.type = 'text/javascript';\n  script.async = true;\n \n  document.head.appendChild(script);\n\n  (window as any).dataLayer = (window as any).dataLayer || [];\n  function gtag(...args){ (window as any).dataLayer.push(arguments);}\n\n  gtag('js', new Date());\n\n  gtag('config', config.targetId, { send_page_view: false, ...config.configInfo });\n\n  ('setParams' in config) && gtag('set', config.setParams );\n\n  ('moreIds' in config) && config.moreIds.forEach( id => gtag('config', id) );\n\n  return (window as any).gtag = gtag;\n}","import { Injectable } from '@angular/core';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\nimport { ContentLoader } from '../loader/content-loader.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n/** Streams the data content from the local ContentLoader cache */\n@Injectable()\nexport class ContentStreamer {\n\n  constructor(readonly loader: ContentLoader, readonly config: ContentConfigurator) {}\n    \n  /** The content data snapshot */\n  get data(): any { return this.loader.cache; }\n\n  /** The content data observable */\n  get data$(): Observable<any> { return this.loader.data$; }\n\n  /** The current resolved language code */\n  get language(): string { return this.data[this.config.selector]; }\n\n  /** The current language code observable */\n  get language$(): Observable<string> { return this.stream( this.config.selector ); }\n\n  /** Streams the resolved content from the route data observable */\n  public stream(selector: string = ''): Observable<any> {\n    return this.data$.pipe( map( data => this.select(selector, data) ) );\n  }\n\n  /** Parses the data content returning the selected property */\n  public select(selector: string, data: any = this.data): any {\n\n    if(selector === '') { return data; }\n\n    return selector.split('.').reduce((value, token) => {\n\n      return (value === undefined || value === null) ? value : value[token];\n    \n    }, data);\n  }\n}","import { ExtraOptions } from '@angular/router';\nimport { MatTooltipDefaultOptions } from '@angular/material/tooltip';\nimport { IpInfoConfig, IP_LIST_CC } from '@wizdm/ipinfo';\nimport { ContentConfig } from '@wizdm/content';\nimport { MarkdownConfig } from '@wizdm/markdown';\nimport { PrismLanguages } from '@wizdm/prism';\nimport { EmojiConfig } from '@wizdm/emoji/utils';\nimport { StripeElementsOptions } from '@stripe/stripe-js'\n\n// Defines global common environment variables\nexport const common = {\n  \n  // Add configuration specifics\n  production: false,\n\n  // Appliaction name\n  appname: 'wizdm',\n\n  // Content loading configuration\n  content: <ContentConfig>{\n    selector: 'lang', \n    source: 'assets/i18n',\n    supportedValues: ['en', 'it', 'ru'],\n    defaultValue: 'en'\n  },\n\n  // Universal Emoji support configuration\n  emoji: <EmojiConfig>{\n    emojiPath: 'assets/emoji',\n    emojiExt: '.png',\n    emojiMode: 'auto'\n  },\n\n  // IpInfo geo location service configuration\n  ipinfo: <IpInfoConfig>{\n    // Use iplist.cc as the provider\n    provider: IP_LIST_CC\n  },\n\n  // Main scroller configuration\n  scroll: <ExtraOptions>{ \n    // Anchor scrolling and scroll position restoration are implemented 'per page'\n    // making sure the rendering is completed prior to perform the scrolling attempt\n    scrollOffset: [0, 80]\n  },\n\n  // Global tooltip configuration\n  tooltips: <MatTooltipDefaultOptions>{\n    showDelay: 1000,\n    hideDelay: 0,\n    touchendHideDelay: 0\n  },\n\n  // Markdown rendering configuration\n  markdown: <MarkdownConfig> { \n    commonmark: true, \n    footnotes: true \n  },\n\n  // Prism syntax-highlighting extra languages\n  prism: <PrismLanguages> [ \n    \n    // Uncomment the following line to enable the universal prism-language loader\n    //{ name: '*', load: (language) => import(`prismjs/components/prism-${language}`) },\n    \n    // Enable loading only few extra languages instead\n    { name: 'scss', load: () => import('prismjs/components/prism-scss') },\n    { name: ['typescript', 'ts'], load: () => import('prismjs/components/prism-typescript') },\n    { name: ['markdown', 'md'], load: () => import('prismjs/components/prism-markdown') }\n  ],\n\n  // StripeElements styling to fit with the global theme\n  stripeElements: <StripeElementsOptions>{\n\n    fonts: [\n      { cssSrc: 'https://fonts.googleapis.com/css?family=Ubuntu:400,700' }\n    ]\n  }\n};\n","import { Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { map, tap, switchMap, catchError, shareReplay } from 'rxjs/operators';\nimport { Observable, BehaviorSubject, of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\n\nexport interface IpInfoConfig {\n\n  provider: string;\n  apiKey?: string;\n}\n\nexport const IPINFO_CONFIG = new InjectionToken<IpInfoConfig>('wizdm.ipinfo.config');\n\n/** Gets IP information form ipinfo.io */\n@Injectable()\nexport class IpInfo<T> extends Observable<T> {\n\n  // The internal ip$ subject to specify dirfferent ip to inspect\n  private ip$ = new BehaviorSubject<string>('');\n  // The inner observable making sure all subscriptions replays\n  private inner$: Observable<T>;\n\n  constructor(http: HttpClient, @Optional() @Inject(IPINFO_CONFIG) private config: IpInfoConfig) { \n    // Simply subscribes to the inner observable\n    super( subscriber => this.inner$.subscribe(subscriber) ); \n\n    // Check for a valid provider\n    if(!config || typeof(config.provider) !== 'string') {\n      throw new Error('IpConfig requires a valid provider');\n    } \n\n    // Builds the inner observable to get the ip info\n    this.inner$ = this.ip$.pipe( \n      // Maps the requested ip into the full end-point api call\n      map( ip => this.endPoint(ip, config) ),\n      // Debug\n      tap( ep => console.log(\"Requesting ip info from:\", ep) ),\n      // Queries the ipinfo.io API with the given ip preventing errors from completing the inner observable\n      switchMap( url => http.get<T>(url).pipe( catchError( e => {\n        // Reports a warning\n        console.warn(`Something went wrong while attemtping to retrive ip geolocation info from ${config?.provider}`, e);        \n        return of({} as T); \n      }))),\n      // Replays the last value to all the subscribers\n      shareReplay(1)\n    );\n  }\n\n  /** Returns the last requested IP, if any */\n  public get lastIP(): string { return this.ip$.value || ''; }\n\n  /** Checks the given IP. When null the caller IP will be inspected. */\n  public checkIP(ip?: string) {\n    this.ip$.next(ip || '');\n  }\n\n  /** Computes the endPoint api call based on the given parameters */\n  public endPoint(ip: string = this.lastIP, config: IpInfoConfig = this.config): string {\n\n    return config.provider\n      // Applies the optional ip\n      .replace(/{{\\s*ip\\s*}}/, ip || '')\n      // Applies the optional apiKey\n      .replace(/{{\\s*apiKey\\s*}}/, config.apiKey || '')\n      // Removes unwanted double slashes resulting from a missing optional segments\n      .replace(/([^:]\\/)\\//g, '$1')\n      // Removes unwanted forward slashes preceding the extension like format selection \n      .replace(/\\/\\./, '.')\n      // Removes empty query parameters resulting from missing optional parameters\n      .replace(/\\w+=(?:;|$)/g, '').replace(/\\?$/,'');\n  }\n}\n","import type { StripeConstructor } from '@stripe/stripe-js';\n\n/** Retrives the global StripeJS object  */\nexport function getStripeJS(): StripeConstructor {\n  return (!!window ? (window as any).Stripe : undefined);\n}\n\n/** Stripe.js v3 script loader. We do not use the official loader provided\n * by @stripe/stripe-js since we may need creating multiple Stripe instances\n * while connecting to multiple accounts */\nexport function loadStripeJS(): Promise<StripeConstructor> {\n\n  /** The official stripe-js link. The script must be loaded from the stripe server for PCI compliance */\n  const STRIPE_V3_URL = 'https://js.stripe.com/v3';\n\n  // Try to get the StripeJS instance first\n  const StripeJS = getStripeJS();\n\n  // Proceed in loading the script asyncronously\n  return StripeJS ? Promise.resolve( StripeJS ) : new Promise( (resolve, reject) => {\n\n    try {\n\n      // We'll be trying to get the existing script or injecting a new one\n      const findScript = () => document.querySelector<HTMLScriptElement>(`script[src^=\"${STRIPE_V3_URL}\"]`);\n      const injectScript = () => {\n\n        const script = document.createElement('script');\n        script.src = STRIPE_V3_URL;\n        script.type = 'text/javascript';\n        script.async = true;\n\n        (document.head || document.body).appendChild(script);\n\n        return script;\n      }\n\n      // Seeks for the script elementn or inject a new one\n      const script = findScript() || injectScript();\n\n      // Listens for error or completion\n      script.addEventListener('error', () => reject( new Error(\"Unable to load StripeJS\") ));\n      script.addEventListener('load', () => resolve( getStripeJS() ));\n    }\n    catch(e) { reject(e); }\n  });\n}","import { InjectionToken, inject } from '@angular/core';\nimport emojiRegexFactory from 'emoji-regex';\nimport { DOCUMENT } from '@angular/common';\n\nexport const EmojiRegex = new InjectionToken<RegExp>('wizdm-emoji-regex', {\n  providedIn: 'root',\n  factory: emojiRegexFactory\n});\n\nexport const EmojiNative = new InjectionToken<boolean>('wizdm-native-emoji-support', {\n  providedIn: 'root',\n  factory: () => checkNativeEmojiSupport( inject(DOCUMENT) )\n});\n\nfunction checkNativeEmojiSupport(document: Document): boolean {\n\n  const canvas = document.createElement('canvas');\n  if(!canvas.getContext || !canvas.getContext('2d') || typeof canvas.getContext('2d').fillText !== 'function') {\n    return false;\n  }\n\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = '32px Arial';\n  ctx.fillText('\\ud83d\\ude03', 0, 0);\n  return ctx.getImageData(16, 16, 1, 1).data[0] !== 0;\n}","import { StorageApplication, StorageRef, UploadMetadata } from './storage-application';\nimport { Injectable, Inject, NgZone } from '@angular/core';\nimport { StorageReference } from './storage-reference';\nimport { UploadObservable } from './upload-observable';\nimport { StorageFile, StorageFolder } from './extras';\nimport { APP, FirebaseApp } from '@wizdm/connect';\n\n/** Wraps the Firebase Storage as a service */\n@Injectable()\nexport class StorageService extends StorageApplication {\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone) {\n    super(app, zone);\n  }\n\n  /** Returns a reference to the storage object identified by its path */\n  public reference(path: string|StorageRef): StorageReference {\n    return new StorageReference(this, path);\n  }\n\n  /** Returns a reference to the storage object identified by its download URL */\n  public fromURL(url: string): StorageReference {\n    return new StorageReference(this, this.storage.refFromURL(url));\n  }\n\n  /** Verifies the validity of a given storage url */\n  public testURL(url: string): boolean {\n\n    // Short circuits empty and non string arguments\n    if(!url || typeof url !== 'string') { return false; }\n\n    // Tests the url\n    try { this.storage.refFromURL(url); }\n    catch(e) { return false; }\n\n    return true;\n  }\n\n  /** Shortcut to start an upload task of binary data */\n  public upload(path: string, data: Blob|Uint8Array|ArrayBuffer, metadata?: UploadMetadata): UploadObservable { \n    return this.reference(path).put(data, metadata);\n  }\n\n  /** Returns a folder object from a reference */\n  public folder(ref: string|StorageRef): StorageFolder {\n    return new StorageFolder(this, ref);\n  }\n\n  /** Returns a file object from a varaiety of references */\n  public file(ref: string|StorageRef|StorageReference|UploadObservable): StorageFile {\n    return new StorageFile( ref instanceof UploadObservable || ref instanceof StorageReference ? ref : this.reference(ref) );\n  }\n}","import { DocumentRef, DocumentSnapshot, GetOptions, ListenOptions, DocumentData } from './types';\nimport { DatabaseApplication, FieldPath } from '../database-application';\nimport { DatabaseCollection, CollectionRef } from '../collection';\nimport { DistributedCounter, CounterShard } from '../counter';\nimport { fromRef, mapSnaphotData, refReject } from './utils';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n/** Document object in the database, created by the DatabaseService */\nexport class DatabaseDocument<T extends DocumentData> {\n\n   /** The internal document reference */\n  public ref: DocumentRef<T>;\n\n  constructor(readonly db: DatabaseApplication, pathOrRef?: string|DocumentRef<T>) {\n    this.ref = db.doc(pathOrRef);\n  }\n\n  /** Unwraps a document snapshot assuming its reference and returning the data content */\n  public unwrap(snapshot: DocumentSnapshot<T>): T {\n    return this.ref = snapshot?.ref, mapSnaphotData(snapshot);\n  }\n\n  /** Returns the document object id */\n  public get id(): string { return this.ref && this.ref.id; }\n\n  /** Returns the document object path relative to the database root */\n  public get path(): string { return this.ref && this.ref.path; }\n\n  /** Returns the parent collection */\n  public get parent(): DatabaseCollection<T> {\n    return this.ref && this.db.collection<T>( this.ref.parent );\n  }\n\n  /** Returns a child collection */\n  public collection<C extends DocumentData>(path: string): DatabaseCollection<C> {\n    return this.ref && this.db.collection<C>( this.ref.collection(path) as CollectionRef<C> );\n  }\n\n  /** Returns a child distributed counter */\n  public counter(path: string, shards?: number): DistributedCounter {\n    return this.ref && this.db.counter( this.ref.collection(path) as CollectionRef<CounterShard>, shards);\n  }\n  \n  /**\n   * Creates / destructively re-writes the document content.\n   * Adds the 'created' timestamp\n   */\n  public set(data: Partial<T>): Promise<void> {\n\n    const created = this.db.timestamp;\n    return this.ref ? this.ref.set({\n      ...data,\n      created\n    } as T) : refReject();\n  }\n\n  /**\n   * Updates the document content by merging the new data with the existing one including sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public merge(data: Partial<T>): Promise<void> {\n    \n    const updated = this.db.timestamp;\n    return this.ref ? this.ref.set({\n      ...data,\n      updated\n    } as T, { merge: true } ) : refReject();\n  }\n\n  public mergeFields(data: Partial<T>, ...fields: (string|FieldPath)[]): Promise<void> {\n    \n    const updated = this.db.timestamp;\n    return this.ref ? this.ref.set({\n      ...data,\n      updated\n    } as T, { mergeFields: [...fields, 'updated'] } ) : refReject();\n  }\n\n  /**\n   * Updates the document content with the new data. Unlike merge, it overwrites sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public update(data: Partial<T>): Promise<void> {\n\n    const updated = this.db.timestamp;\n    return this.ref ? this.ref.update({\n      ...data,\n      updated\n    } as T) : refReject();\n  }\n\n  /** Check for document existance */\n  public exists(): Promise<boolean> {\n    // Short-circuits the undefined ref\n    return this.ref ? this.ref.get().then(snap => snap.exists) : Promise.resolve(false);\n  }\n\n  /**\n   * Conditionally updates an existing document or creates a new one if not existing.\n   * Uses a transaction to support concurrency\n   */\n  public upsert(data: Partial<T>): Promise<void> {\n\n    if(!this.ref) { return refReject(); }\n\n    return this.db.transaction( trx => {\n\n      return trx.snap(this.ref).then( ({ exists }) => {\n\n        exists ? trx.update(this.ref, data) : trx.set(this.ref, data);\n      });\n    });\n  }\n\n  /** Returns the document snapshot immediately */\n  public snap(options?: GetOptions): Promise<DocumentSnapshot<T>> {\n    // Short-circuits the undefined ref\n    return this.ref ? this.ref.get(options) : refReject();\n  }\n\n  /** Returns the document content immediately */\n  public get(options?: GetOptions): Promise<T> {\n    return this.snap(options).then( snapshot => mapSnaphotData(snapshot) );  \n  }\n\n  /** Returns an observable streaming this document snapshot */\n  public asObservable(options?: ListenOptions): Observable<DocumentSnapshot<T>> {\n    return fromRef<T>(this.ref, this.db.zone, options);\n  }\n\n  /** Streams the document content with an observable */\n  public stream(options?: ListenOptions): Observable<T> {\n    // Maps the snapshot to the data content\n    return this.asObservable(options).pipe( map( snapshot => mapSnaphotData(snapshot) ));\n  }\n\n  /** Deletes the document */\n  public delete(): Promise<void> {\n    return this.ref ? this.ref.delete() : refReject();\n  }\n}","import { NgModule } from '@angular/core';\nimport { BackgroundDirective } from './background.directive';\n\n@NgModule({\n  declarations: [ BackgroundDirective ],\n  exports: [ BackgroundDirective ]\n})\nexport class BackgroundModule { }\n","import { UploadTask, UploadTaskSnapshot, StorageRef } from './storage-application';\nimport { shareReplay } from 'rxjs/operators';\nimport { NgZone } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { storage } from 'firebase/app';\n\nexport type TaskState = storage.TaskState;\n\n/** UploadeObservable streaming UploadTaskSnapshots */\nexport class UploadObservable extends Observable<UploadTaskSnapshot> {\n\n  private _inner$: Observable<UploadTaskSnapshot>;\n  private _task: UploadTask;\n\n  /** Returns the task reference creating it when necessary */\n  public get task(): UploadTask {\n    return !this._task ? ( this._task = this.factory() ) : this._task; \n  }\n\n  /** Returns the current state's snapshot */\n  public get snapshot(): UploadTaskSnapshot {\n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Requesting a snaphot before subscribing results in a hot observable!\"); }\n    // Returns the latest snapshot\n    return this.task.snapshot;\n  }\n\n  /** Firebase Storage Reference that spawned the upload */\n  public get ref(): StorageRef {\n    return this.snapshot.ref;\n  }\n\n  /** Constructs an UploadTask cold observable */\n  constructor(private factory: () => UploadTask, readonly zone: NgZone) {\n    // Builds the uploading observable subscribing to the inner observer\n    super( subscriber => this._inner$.subscribe(subscriber) );\n    // Builds the inner observable hooking on the 'state_changed' observer. \n    // Since task creation is delegated to the factory function this result being \n    // a cold observable (upload starts upon subscription)\n    this._inner$ = new Observable<UploadTaskSnapshot>(subscriber => this.task.on(storage.TaskEvent.STATE_CHANGED,\n      // Runs the observable within the Angular's zone\n      snap => zone.run( () => subscriber.next(snap) ),\n      // Runs the observable within the Angular's zone\n      error => zone.run( () => subscriber.error(error) ), \n      // Runs the observable within the Angular's zone\n      () => zone.run( () => subscriber.complete() )\n      // Shares the same observable to all subscribers replaying the latest value\n      // for everyone to likely get a meaingful value no matter how late they subscribe\n    )).pipe( shareReplay(1) );\n\n    if(typeof factory !== \"function\") { \n      throw new Error('The UploadObservable task factory must be a function'); \n    };\n  }\n\n  /** Pauses the task */\n  public pause(): boolean { \n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Pausing before subscribing results in a hot observable!\"); }\n    return this.task.pause(); \n  }\n\n  /** Resumes the task */\n  public resume(): boolean {\n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Resuming before subscribing results in a hot observable!\"); } \n    return this.task.resume(); \n  }\n\n  /** Cancels the task */\n  public cancel(): boolean { \n    // Let's warn the user they are triggering the uploading task this way\n    if(!this._task) { console.warn(\"Cancelling before subscribing results in a hot observable!\"); }  \n    return this.task.cancel(); \n  }\n\n  /** Promise-like then */\n  public then(fulfilled?: ((s: UploadTaskSnapshot) => any) | null, rejected?: ((e: Error) => any) | null): Promise<any> {\n    return this.task.then(fulfilled, rejected);\n  }\n  /** Promise-like catch */\n  public catch(rejected: (e: Error) => any): Promise<any> {\n    return this.task.catch(rejected);\n  }\n}","import { CollectionRef, Query, QuerySnapshot, QueryDocumentSnapshot, DocumentChange } from './types';\nimport { ListenOptions } from '../document/types';\nimport { Observable, throwError } from 'rxjs';\nimport { NgZone } from '@angular/core';\n\nexport function refError(): Observable<never> {\n  return throwError(new Error(\"Collection or query reference null or undefined\") );\n}\n\n/** Builds an Observable of QuerySnaphots from a collection (or query) ref*/\nexport function fromRef<T>(ref: CollectionRef<T>|Query<T>, zone: NgZone, options?: ListenOptions): Observable<QuerySnapshot<T>> {\n  // Throw an error when the referencec is missing\n  if(!ref) { return throwError(new Error(\"Missing Reference\") ); }\n  // Returns an obsevable wrapping the onSnapshot observer\n  return new Observable<QuerySnapshot<T>>( subscriber => ref.onSnapshot(options || {},\n    // Runs the observable within the Angular's zone\n    (value: QuerySnapshot<T>) => zone.run( () => subscriber.next(value) ),\n    // Runs the observable within the Angular's zone\n    (error: any) => zone.run( () => subscriber.error(error) ),\n    // Runs the observable within the Angular's zone\n    () => zone.run( () => subscriber.complete() )\n  ));\n}\n\n/** Helper function to combine DocumentChange(s) requlting from a Query mapping them into QUeryDocumentSnapshots */\nexport function combineDocumentChanges<T>(combined: QueryDocumentSnapshot<T>[], changes: DocumentChange<T>[]): QueryDocumentSnapshot<T>[] {\n  \n  // Loops on changes\n  changes && changes.forEach(change => {\n    \n    // Combine the single document change\n    switch(change.type) {\n\n      case 'added':\n      // Skips the addition that actually results in being the same document\n      if(combined[change.newIndex] && combined[change.newIndex].ref.isEqual(change.doc.ref)) {\n        return combined;  \n      } \n      // Adds the snapshot otherwise\n      combined.splice(change.newIndex, 0, change.doc);\n      break;\n\n      case 'modified':\n      // Applies the modification only when the document is actually the same \n      if(combined[change.oldIndex] == null || combined[change.oldIndex].ref.isEqual(change.doc.ref)) {\n        // When an item changes position we first remove it and then add it's new position\n        if(change.oldIndex !== change.newIndex) {\n          combined.splice(change.oldIndex, 1);\n          combined.splice(change.newIndex, 0, change.doc);\n        } else {\n          // Adds the missing item otherwise\n          combined.splice(change.newIndex, 1, change.doc);\n        }\n      }\n      break;\n\n      case 'removed':\n      // Removes the item only when the document is actually the same\n      if(combined[change.oldIndex] && combined[change.oldIndex].ref.isEqual(change.doc.ref)) {\n        combined.splice(change.oldIndex, 1);\n      }\n      break;\n    }\n\n  });\n  // Returns the combined array o\n  return combined;\n}\n","export * from './lib/ipinfo.service';\nexport * from './lib/ipinfo.module';\nexport * from './lib/providers';","export * from './lib/readme-types';\nexport * from './lib/readme.component';\nexport * from './lib/readme.module';\n","export * from './lib/redirect.service';\nexport * from './lib/redirect.directive';\nexport * from './lib/redirect.module';\n\n","export * from './scroll-observable.service';\nexport * from './scroll-behavior.directive';\nexport * from './router-scroll.service';\nexport * from './scrolling.module';","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { IpInfo, IpInfoConfig, IPINFO_CONFIG } from './ipinfo.service';\n\n@NgModule({\n  imports: [ HttpClientModule ],\n  providers: [ IpInfo ]\n})\nexport class IpInfoModule { \n\n  static init(config: IpInfoConfig): ModuleWithProviders<IpInfoModule> {\n    return {\n      ngModule: IpInfoModule,\n      providers: [ { provide: IPINFO_CONFIG, useValue: config } ]\n    }\n  }\n}\n","\r\n// @see {https://ipinfo.io}\r\nexport const IP_INFO_IO = 'https://ipinfo.io/{{ip}}/json?token={{apiKey}}';\r\n\r\nexport interface IpInfoIO {\r\n\r\n  ip: string;\r\n  hostname?: string;\r\n  city: string;\r\n  region: string;\r\n  country: string;\r\n  loc: string;\r\n  org?: string;\r\n  postal: number;\r\n  timezone: string;\r\n  asn?: IpInfoAsn;\r\n  company?: IpInfoCompany;\r\n  privacy?: IpInfoPrivacy;\r\n  readme?: string;\r\n}\r\n\r\nexport interface IpInfoAsn {\r\n  asn: string;\r\n  name: string;\r\n  domain: string;\r\n  route: string;\r\n  type: string;\r\n}\r\n\r\nexport interface IpInfoCompany {\r\n  name: string;\r\n  domain: string;\r\n  type: string;\r\n}\r\n\r\nexport interface IpInfoPrivacy {\r\n  vpn: boolean;\r\n  proxy: boolean;\r\n  tor: boolean;\r\n  hosting: boolean;\r\n}","import { Directive, Input, OnChanges, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { GtagService } from './gtag.service';\n\n@Directive({\n  selector: '[gtag]'\n})\nexport class GtagDirective implements OnChanges {\n\n  constructor(private gtag: GtagService, @Optional() private router: Router) {}\n\n  /** Page title */\n  @Input('gtag') title: string;\n\n  /** Optional path */\n  @Input() path: string;\n\n  /** Optional location otherwise automatically derived from the activated route */\n  @Input() location: string;\n\n  ngOnChanges() {\n\n    // Skips whenever the title is empty or null\n    if(!this.title) { return; }\n\n    // Notifies the pageView\n    this.gtag.pageView(this.title, this.path, this.location || this.router && this.router.url);\n  }\n}","import { DatabaseApplication } from '../database-application';\nimport { DocumentData } from '../document';\nimport { DatabaseQuery } from './query';\nimport { Query } from './types';\n\n/** Collection object in the database, created by the DatabaseService */\nexport class DatabaseGroup<T extends DocumentData> extends DatabaseQuery<T> {\n\n  public get ref(): Query<T> { return this._ref as Query<T>; }\n\n  constructor(db: DatabaseApplication, pathOrRef?: string|Query<T>) {\n    \n    super(db, db.group(pathOrRef) );\n  }\n}","import { Injectable, Inject } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\n\n/** Default language code resolver. The language code is expected to be a ':lang' param of the root route first child.\n * e.g. https://whatever.io/:lang/home where :lang is a two digit country code: 'en', 'it', 'ru', ... */\n @Injectable()\n export class SelectorResolver implements Resolve<string> {\n\n  constructor(readonly config: ContentConfigurator) {}\n\n  public resolve(route: ActivatedRouteSnapshot): string {\n     // Stops recurring up returning the default language \n    if(!route) { return this.config.currentValue; }\n    // Returns the language code from the param map recurring up till the root when needed\n    return route.paramMap.get( this.config.selector ) || this.resolve( route.parent );\n  }\n}","import { Injectable, Inject, InjectionToken, Optional } from '@angular/core';\n\nexport const ContentConfigToken = new InjectionToken<ContentConfig>('wizdm.content.config');\n\nexport interface ContentConfig {\n  selector?: string;          // 'lang'\n  source?: string;            // 'assets/i18n'\n  defaultValue?: string;      // 'en'\n  supportedValues?: string[]; // ['en']\n}\n\n@Injectable()\nexport class ContentConfigurator implements ContentConfig {\n\n  private _currentValue: string;\n\n  constructor(@Optional() @Inject(ContentConfigToken) readonly config: ContentConfig) {}\n\n  /** Returns the route selector (aka param name) as per the config */\n  public get selector(): string { return !!this.config && this.config.selector || 'lang'; }\n\n  /** Returns the root path of the content json files as per the config */\n  public get source(): string { return !!this.config && this.config.source || 'assets/i18n'; }\n  \n  /** Returns the default language code as per the config */\n  public get defaultValue(): string { return !!this.config && this.config.defaultValue || 'en'; }\n  \n  /** Returns the optional array of supported languages */\n  public get supportedValues(): string[] { return !!this.config && this.config.supportedValues || [this.defaultValue]; }\n\n  /** Returns the currently selected value or the default one when undefined */\n  public get currentValue(): string { return this._currentValue || this.defaultValue; }\n\n  /** Sets the current value for other services sharing the ContentConfigurator to take advantage from */\n  public set currentValue(value: string) { this._currentValue = value; }\n}\n","\r\n// @see {https://freegeoip.app}\r\nexport const FREE_GEO_IP_APP = 'https://freegeoip.app/json/{{ip}}';\r\n\r\nexport interface FreeGeoIpAPP {\r\n  ip: string;\r\n  country_code: string;\r\n  country_name: string;\r\n  region_code: string;\r\n  region_name: string;\r\n  city: string;\r\n  zip_code: string;\r\n  time_zone: string,\r\n  latitude: string;\r\n  longitude:string;\r\n  metro_code: string;\r\n}","import { common } from './common';\nimport { secrets } from './secrets';\n\n// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --prod` then `environment.prod.ts` will be used instead.\n// Both versions includes common.ts sharing the same common definitions.\nexport const environment = {\n\n  // Shares the same configurations...\n  ...common, ...secrets,\n  \n  // Disables production mode (aka debug mode)\n  production: false\n};\n","export * from './dark-mode.service';","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\nimport { Observable } from 'rxjs';\n\nexport type AllowedContent = Observable<true|UrlTree>|Promise<true|UrlTree>|true|UrlTree;\n\n@Injectable()\n/** Default ContentSelector reverting to the browser language if 'auto' has been specified  */\nexport class ContentSelector implements CanActivate {\n\n  constructor(readonly router: Router, readonly config: ContentConfigurator){}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): AllowedContent {\n\n    // Gets the language code requested from the route \n    const requested = this.requestedValue(route);\n    console.log('Requested language:', requested);\n\n    // Selects the best language among the allowed ones \n    const selected = this.valueAllowed( requested === 'auto' ? this.browserLanguage : requested );\n    console.log('Selected language:', selected);\n\n    // Keeps track of the currently selected language within the ContentConfigurator for other services to take advantage from\n    this.config.currentValue = selected;\n\n    // Redirects to the selected whenever differs from the requested\n    return (requested === selected || this.router.createUrlTree([selected])) as AllowedContent;\n  }\n\n  /** Gets the requested language value from the route */\n  public requestedValue(route: ActivatedRouteSnapshot): string {\n    return route.paramMap.get( this.config.selector );\n  }\n\n  /** Checks if the language code is among the allowed ones */\n  public isValueAllowed(value: string): boolean {\n    return !!this.config.supportedValues.find( allowed => allowed === value );\n  }\n\n  /** Filters the language code ensuring is among the allowed ones returning the default value otherwise*/\n  public valueAllowed(value: string): string {\n    return this.config.supportedValues.find( allowed => allowed === value ) || this.config.defaultValue;\n  }\n\n  /** Two digits browser language code */\n  public get browserLanguage(): string { \n    \n    const detected = this.detectLanguage().split('-')[0];\n    console.log(\"Browser language:\", detected);\n\n    return detected;\n  }\n\n  /** Detects the preferred language according to the browser, whenever possible */\n  private detectLanguage(): string {\n\n    const navigator: any = !!window && window.navigator || {};\n\n    return (navigator.languages ? navigator.languages[0] : null) || \n            navigator.language ||                                                                                                   \n            navigator.browserLanguage || \n            navigator.userLanguage || '';\n  }\n}","export * from './storage-folder';\nexport * from './storage-file';","export * from './ipinfo-io';\r\nexport * from './iplist-cc';\r\nexport * from './geojs-io';\r\nexport * from './freegeoip-app';","import { Injectable, Optional, Inject, InjectionToken, NgZone } from '@angular/core';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport { functions } from 'firebase/app';\n\nexport type Functions = functions.Functions;\nexport type Callable<T, R> = (data?:  T) => Promise<R>;\nexport type CallOptions = functions.HttpsCallableOptions;\nexport type CallResult = functions.HttpsCallableResult;\n\nexport const FUNCTIONS_REGION = new InjectionToken<string>('wizdm.connectc.functions.region');\nexport const EMULATOR_ORIGIN = new InjectionToken<string>('wizdm.connect.functions.emulator.origin');\n\n\n@Injectable()\nexport class FunctionsService {\n\n  readonly functions: Functions;\n  readonly url: string;\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone,\n              @Optional() @Inject(FUNCTIONS_REGION) region: string, \n              @Optional() @Inject(EMULATOR_ORIGIN) origin: string) {\n\n    // Runs outside of Angular to avoid triggering unwated change detections\n    this.functions = zone.runOutsideAngular( () => {\n\n      // Gets the firebase Functions instance\n      const functions = app.functions(region || undefined);\n\n      // Enables the emulator on request \n      origin && functions.useFunctionsEmulator(origin);\n\n      // Returns the requested instance\n      return functions;\n    });\n\n    // Gets the cloud function base url for further use with http api calls \n    this.url = (typeof (this.functions as any)._url === 'function') ? (this.functions as any)._url('') : \n      // Falls back computing the url as per the firebase sdk \n      ( (origin ? (origin + '/') : `https://${region || 'us-central1'}-`) + `${(app.options as any).projectId}.cloudfunctions.net/` );\n  }\n\n  /** Returns the requested callable cloud function */\n  public callable<T=any, R=any>(name: string, options?: CallOptions): Callable<T, R> {\n\n    const callable = this.functions.httpsCallable(name, options);\n    return (data: T) => callable(data).then( result => result.data as R );\n  }\n}","import { NgModule, ModuleWithProviders, InjectionToken, Inject, Optional } from '@angular/core';\nimport { default as firebase, app } from 'firebase/app'; \n\n/** FirebaseApp type */\nexport type FirebaseApp = app.App;\n\n/** Firebase APP token */\nexport const APP = new InjectionToken<FirebaseApp>('wizdm.connect.app');\n\n/** Firebase Config */\nexport type ConnectConfig = { [key:string]: any };\n\n/** Firebase Config token */\nexport const APP_OPTIONS = new InjectionToken<ConnectConfig>('wizdm.connect.app.options');\n\n/** Firebase app name token */\nexport const APP_NAME = new InjectionToken<string>('wizdm.connect.app.name');\n\n/** Firebase APP factory */\nexport function appFactory(options?: ConnectConfig, name?: string): FirebaseApp {\n\n  // Seeks for the app if it were already initialized (happens when hot-reloading)\n  const app = firebase.apps.find( app => app.name === name || '[DEFAULT]');\n  // Return the app or initialize a new one\n  return (app || firebase.initializeApp(options, name)) as FirebaseApp;\n}\n\n@NgModule({})\nexport class ConnectModule { \n\n  static init(options: ConnectConfig, name?: string): ModuleWithProviders<ConnectModule> {\n    return {\n      ngModule: ConnectModule,\n      providers: [\n\n        // Provides the Firebase Options\n        { provide: APP_OPTIONS, useValue: options },\n\n        // Provides the Firebase app name\n        { provide: APP_NAME, useValue: name },\n        \n        // Provides Firebase app instance used by all the services\n        { provide: APP, useFactory: appFactory, deps: [\n          [ new Optional(), new Inject(APP_OPTIONS) ],\n          [ new Optional(), new Inject(APP_NAME)    ]\n        ]}\n      ]\n    }\n  }\n}","import { NgModule, ModuleWithProviders, Inject } from '@angular/core';\nimport { RouterModule, Route, Routes, ROUTES, provideRoutes } from '@angular/router';\nimport { ContentConfigurator } from '../loader/content-configurator.service';\nimport { ContentResolver } from './content-resolver';\nimport { ContentModule } from '../content.module';\n\n/** Extends routes with content */\nexport interface RouteWithContent extends Route {\n\n  source?: string;\n  content?: string|string[];\n  children?: RoutesWithContent;\n}\n\nexport type RoutesWithContent = RouteWithContent[];\n\n// Walks doen the routes' tree applying content resolvers for the requested contents\nexport function resolveRoutesWithContent(routes: RoutesWithContent, source: string, selector: string = 'lang'): Routes {\n  // Skips empty routes\n  if(!routes) { return []; }\n  // Maps the incoming routes\n  return routes.map( route => {\n\n    // Grabs the source path from the route, when defined. Defaults to the global path otherwise.\n    const path = route.source || source;\n\n    // Whenever content is defined...\n    if(!!route.content) {\n      // Gets the content array\n      const content: string[] = typeof(route.content) === 'string' ? [route.content] : route.content;\n      // Gets the resolve data map\n      const resolve = route.resolve || {};\n      // Builds the content resolvers map\n      route.resolve = content.reduce( (resolve, file) => {\n         // Adds a resolver for the given name \n        resolve[ file ] = ContentResolver.create(path, file, ContentRouterModule);\n        // Next\n        return resolve; \n\n      }, resolve );\n\n      // Removes the source property from the route configuration\n      if(!!route.source) { delete route.source; }\n      // Removes the content property from the route\n      delete route.content;\n    }\n    // Walk down to children\n    if(!!route.children) { route.children = resolveRoutesWithContent(route.children, source, selector); }\n    // Done\n    return route;\n  });\n}\n// Helper to flateten the multi ROUTES\nexport function flatten<T>(arr: T[][]): T[] {\n  return Array.prototype.concat.apply([], arr);\n}\n\n@NgModule({ \n  imports: [ ContentModule, RouterModule ],\n  exports: [ ContentModule, RouterModule ]\n})\n/** Router module with dynamic content loading  */\nexport class ContentRouterModule { \n\n  constructor(@Inject(ROUTES) routes: RoutesWithContent[], config: ContentConfigurator) {\n    // Parses the routes adding content resolvers on loading beforing the actual routing accurs\n    // This approach works both with JIT and AOT\n    const resolvedRoutes = resolveRoutesWithContent( flatten(routes), config.source, config.selector );\n  }\n\n  /** Initializes child routes with content */\n  static forChild(routes: RoutesWithContent): ModuleWithProviders<ContentRouterModule> {\n    return {\n      ngModule: ContentRouterModule,\n      providers: [ provideRoutes(routes) ]\n    };  \n  }\n}\n","import { STRIPE_PUBLIC_KEY, STRIPE_OPTIONS, STRIPEJS, StripeService } from './stripe.service';\nimport { NgModule, ModuleWithProviders, Inject, Optional, NgZone } from '@angular/core';\nimport { loadStripeJS } from './stripe-loader';\n\nimport type { StripeConstructor, StripeConstructorOptions } from '@stripe/stripe-js';\n\n/** @dynamic - tells ngc to ignore the error on potentially unknown types generated by strictEmitMetadata: true */\n@NgModule({\n  providers: [ StripeService ]\n})\nexport class StripeModule {\n\n  private static _stripejs: Promise<StripeConstructor>;\n\n  constructor(@Optional() @Inject(STRIPE_PUBLIC_KEY) publicKey, zone: NgZone) {\n\n    if(!publicKey) { throw new Error(`\n      Stripe module has not been initialized.\n      Make sure to call StripeModule.init('pk_xxxxxxxxx') in your root or feature module.\n    `);}\n\n    // Triggers the stripe.js API loading asyncronously.\n    if(!StripeModule._stripejs) {\n      // Loads the Stripe.js avoiding to trigger change detection     \n      StripeModule._stripejs = zone.runOutsideAngular( () => loadStripeJS() ); \n    }\n  }\n\n  static init(publicKey: string, options?: StripeConstructorOptions): ModuleWithProviders<StripeModule> {\n    return {\n      ngModule: StripeModule,\n      providers: [\n        \n        /** Provides the global Stripe public key */\n        { provide: STRIPE_PUBLIC_KEY, useValue: publicKey },\n\n        /** Provides the global stripe options */\n        { provide: STRIPE_OPTIONS, useValue: options },\n\n        /** Provides StripeJS as an injectable promise */ \n        { provide: STRIPEJS, useFactory: () => StripeModule._stripejs }\n      ]\n    };\n  } \n}","import { Observable, BehaviorSubject, fromEvent, fromEventPattern, combineLatest } from 'rxjs';\nimport { map, tap, distinctUntilChanged, startWith } from 'rxjs/operators';\nimport { Injectable, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n/** DarkMode observer. Emits true whenever the dark mode is detected */\n@Injectable({ providedIn: 'root'})\nexport class DarkModeObserver extends Observable<boolean> {\n\n  private force$ = new BehaviorSubject<boolean|undefined>(undefined);\n\n  // The window instance\n  private get window(): Window { return this.document.defaultView || window; }\n\n  // The prefers-color-scheme media query\n  readonly mq = this.window.matchMedia('(prefers-color-scheme: dark)');\n\n  private isDarkMode(force?: boolean): boolean {\n    return typeof force === 'boolean' ? force : this.mq.matches;\n  }\n\n  /** True whenever the dark mode is detected or requested */\n  public get isDark(): boolean {\n    return this.isDarkMode(this.force$.value);\n  }\n\n  /** Forces the dark mode to be true (or false). When 'undefined' enables dark mode OS detection */\n  public darkMode(dark: boolean|undefined) { \n    this.force$.next(dark);\n  }\n\n  /** Builds the media observer for the dark theme */\n  private darkObserver(): Observable<Event> {\n\n    // On modern browsers MediaQuelyList inherit from EventTarget...\n    return (this.mq as any instanceof EventTarget) ? fromEvent(this.mq, 'change') : \n      //... while older browsers may still rely on deprecated addListener/RemoveListener functions\n      fromEventPattern<MediaQueryListEvent>(this.mq.addListener.bind(this.mq), this.mq.removeListener.bind(this.mq));\n  }\n\n  constructor(@Inject(DOCUMENT) private document: Document) { \n    \n    // Creates an observble combining the forcing flag with the media query\n    super( subscriber => combineLatest( this.force$, this.darkObserver().pipe(startWith(null)) ).pipe( \n        // Checks for the media match\n        map(([force]) => this.isDarkMode(force) ),\n        // Filters for value changes only\n        distinctUntilChanged(),\n        // Subscribes to the inner observable\n      ).subscribe( subscriber )\n    )\n  }\n}","import type { Stripe, StripeConstructor, StripeConstructorOptions } from '@stripe/stripe-js';\nimport { Observable, BehaviorSubject, from, throwError } from 'rxjs';\nimport { map, take, switchMap, shareReplay } from 'rxjs/operators';\n\n/** StripeCaller class implements an observable-based proxy to call the Stripe.js SDK */\nexport class StripeCaller {\n\n  /** The optional stripe account to connect to @see [Connect](https://stripe.com/docs/connect) */\n  private account$ = new BehaviorSubject<string>(undefined);\n\n  /**\n   * For usage with [Connect](https://stripe.com/docs/connect) only.\n   * Specifying a connected account ID (e.g., `acct_24BFMpJ1svR5A89k`) allows you to perform actions on behalf of that account.\n   */\n  public connect(stripeAccount: string) {\n    this.account$.next(stripeAccount);\n  }\n\n  /** The active Stripe instance observable */\n  readonly stripe$: Observable<Stripe>;\n\n  constructor(stripejs: Promise<StripeConstructor>, publicKey: string, options: StripeConstructorOptions) { \n\n    // Resolves the stripe instance from the StripeContructor promise\n    this.stripe$ = from(stripejs).pipe( switchMap(stripeContructor => {\n\n      // Checks upon the stripe account to optionally connect to\n      return this.account$.pipe( map( stripeAccount => stripeContructor(publicKey, { \n\n        // Initializes the instance with the global options\n        ...options,\n\n        // Connects to the given account, if any\n        stripeAccount\n\n      })));\n\n    }), shareReplay(1) );\n  }\n\n  /** Invokes the requested Stripe funciton */\n  protected callStripe(signature: string, args): Promise<any> {\n\n    // Resolves the active Stripe instance\n    return this.stripe$.pipe( switchMap( stripe => {\n\n      // Gets the requested funciton to call upon\n      const fn = stripe[signature];\n\n      // Verifies the request really belongs to a function \n      if(typeof fn !== 'function') { return throwError( new Error(`\n        The requested signature '${signature}' is not a Stripe.js function. \n      `));}\n\n      // Calls the Stripe function wrapping the result in a promise\n      return Promise.resolve( fn(...args) );\n\n    // Always convert the returning value into a promise\n    }), take(1) ).toPromise(); \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { PluckPipe, \n         InterpolatePipe,\n         HyphenizePipe,\n         CamelizePipe,\n         PrintfPipe } from './interpolations.pipe';\n\nconst PIPES = [ PluckPipe, InterpolatePipe, HyphenizePipe, CamelizePipe, PrintfPipe ];\n\n@NgModule({\n  declarations: PIPES,\n  exports: PIPES\n})\nexport class InterpolationPipesModule { }\n","import { QueryDocumentSnapshot, QueryFn, QueryRef } from './types';\nimport { DatabaseApplication } from '../database-application';\nimport { query, snap, stream, data } from'./operators';\nimport { DocumentData } from '../document';\nimport { Observable, of } from 'rxjs';\nimport { refError } from './utils';\n\n/** Query of Collection(s) object in the database */\nexport class DatabaseQuery<T extends DocumentData> extends Observable<QueryRef<T>> {\n\n  public get ref(): QueryRef<T> { return this._ref; }\n\n  constructor(readonly db: DatabaseApplication, protected _ref: QueryRef<T>) {\n    super( observer => ( _ref ? of(_ref) : refError() ).subscribe(observer) );\n  }\n\n  public snap(qf?: QueryFn<T>): Promise<QueryDocumentSnapshot<T>[]> {\n    return this.pipe( query(qf), snap() ).toPromise();\n  }\n\n  /**\n   * Returns the collection content once.\n   * @param qf the optional query funciton\n   */\n  public get(qf?: QueryFn<T>): Promise<T[]> {\n    return this.pipe( query(qf), snap(), data() ).toPromise();\n  }\n\n  /**\n   * Queries the collection content as an array into an observable of snapshots\n   * @param qf the optional filtering funciton\n   */\n  public query(qf?: QueryFn<T>): Observable<QueryDocumentSnapshot<T>[]> {\n    return this.pipe( query(qf), stream(this.db.zone) );\n  }\n\n  /**\n   * Streams the collection content as an array into an observable.\n   * @param qf the optional filtering funciton\n   */\n  public stream(qf?: QueryFn<T>): Observable<T[]> {\n    return this.pipe( query(qf), stream(this.db.zone), data() );\n  }\n}","import { NgModule } from '@angular/core';\nimport { RedirectDirective, RedirectWithHrefDirective } from './redirect.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [ RedirectDirective, RedirectWithHrefDirective ],\n  exports: [ RedirectDirective, RedirectWithHrefDirective ]\n})\nexport class RedirectModule { }","import { Transaction, DocumentRef, DocumentSnapshot, DocumentData } from './types';\nimport { DatabaseApplication } from '../database-application';\nimport { mapSnaphotData } from './utils';\n\nexport class DatabaseTransaction {\n\n  constructor(readonly db: DatabaseApplication, readonly trx: Transaction) { }\n\n  /**\n   * Creates / destructively re-writes the document content.\n   * Adds the 'created' timestamp\n   */\n  public set<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const created = this.db.timestamp;\n    return this.trx.set(ref, {\n      ...data as any,\n      created\n    }), this;\n  }\n\n  /**\n   * Updates the document content by merging the new data with the existing one including sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public merge<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n    \n    const updated = this.db.timestamp;\n    return this.trx.set(ref, {\n      ...data as any,\n      updated\n    }, { merge: true } ), this;\n  }\n\n  /**\n   * Updates the document content with the new data. Unlike merge, it overwrites sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public update<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const updated = this.db.timestamp;\n    return this.trx.update(ref, {\n      ...data as any,\n      updated\n    }), this;\n  }\n\n  /** Returns the document snapshot immediately */\n  public snap<T extends DocumentData>(ref: DocumentRef<T>): Promise<DocumentSnapshot<T>> {\n    return this.trx.get(ref);\n  }\n\n  /** Returns the document content immediately */\n  public get<T extends DocumentData>(ref: DocumentRef<T>): Promise<T> {\n    return this.snap<T>(ref).then( snapshot => mapSnaphotData(snapshot) );  \n  }\n\n  /** Deletes the document */\n  public delete<T extends DocumentData>(ref: DocumentRef<T>): this {\n    return this.trx.delete(ref), this;\n  }\n}\n","import { last, take, map, zip, switchMap, startWith, endWith, shareReplay, catchError } from 'rxjs/operators';\nimport { Observable, of, from, concat, BehaviorSubject, forkJoin, combineLatest } from 'rxjs';\nimport { UploadObservable, TaskState } from '../upload-observable';\nimport { StorageRef, FullMetadata } from '../storage-application';\nimport { StorageReference } from '../storage-reference';\n\n/** Summarizes all the key information of a stored/uploading file */\nexport interface FileSummary extends FullMetadata {\n  name: string;\n  url?: string;\n}\n\n/** Helper class to display stored files */\nexport class StorageFile {\n\n  /** Internal source */\n  private source$: BehaviorSubject<StorageReference|UploadObservable>;\n  /** File name */\n  readonly name$: Observable<string>;\n  /** Meta data */\n  readonly meta$: Observable<FullMetadata>;\n  /** Download URL */\n  readonly url$: Observable<string>;\n  /** Uploading progress */\n  readonly progress$: Observable<number>;\n  /** Overall file summary */\n  readonly summary$: Observable<FileSummary>;\n\n  /** Switches to a new source */\n  public from(source: StorageReference|UploadObservable) {\n    this.source$.next(source);\n  }\n\n  /** Builds the StorageFile */\n  constructor(source?: StorageReference|UploadObservable) {\n\n    /** Initializes the source first */\n    this.source$ = new BehaviorSubject<StorageReference|UploadObservable>(source);\n\n    /** Builds the file name observable */\n    this.name$ = this.fromSource(\n\n      // Simply returns the name from the storage re\n      ref => of(ref.name),\n\n      // Catches the name from the very fist snapshot\n      upl => upl.pipe( take(1), map( s => s.ref.name ), catchError(() => of('')) ),\n\n      ''\n    );\n\n    /** Builds the meta content observable */\n    this.meta$ = this.fromSource(\n      \n      // Gets the metadata\n      ref => from( ref.getMetadata() ).pipe( startWith({} as FullMetadata) ),\n\n      // Concatenates the initial metadata (optionally sent to the server) with the full metadata from the server when done uploading  \n      upl => concat(\n        \n        // Combines the upload metadata with the totalBytes to get a preview of the size\n        upl.pipe( take(1), map( s => ({ ...s.metadata, size: s.totalBytes }) ) ), \n        \n        // Gets the FullMetadata from the server\n        upl.pipe( last(), switchMap( s => s.ref.getMetadata() ))\n      \n        // Always cathces the errors to support uploading cancellation        \n      ).pipe( catchError(() => of({})) ),\n\n      {}\n    );\n\n    /** Build the download url observable */\n    this.url$ = this.fromSource(\n      \n      // Gets the download URL\n      ref => from( ref.getDownloadURL() ).pipe( startWith('') ),\n\n      // Waits till the end of the uploading to get the download URL\n      upl => upl.pipe( last(), switchMap( s => s.ref.getDownloadURL() ), startWith(''), catchError(() => of('')) ),\n\n      ''\n    );\n\n    /** Builds the uploading progress observable */\n    this.progress$ = this.fromSource(\n\n      // No progress\n      ref => of(undefined),\n\n      // Computes the uploading progress ending with undefined when done\n      upl => upl.pipe( map(s => Math.floor(s.bytesTransferred / s.totalBytes * 100)), endWith(undefined), catchError(() => of(undefined))\n      )\n    );\n    \n    /** Builds the file summary observable */\n    this.summary$ = this.fromSource(\n\n      // Joins the previous name$/meta$/url$ observables to get a complete summary when completed\n      ref => forkJoin(this.name$, this.meta$, this.url$).pipe( zip( ([name, meta, url]) => ({ ...meta, name, url }) ) ),\n\n      // Cobines the previous name$/meta$/url$ observables get a complete summary while catching the uploading progress\n      upl => combineLatest(this.name$, this.meta$, this.url$).pipe( zip( ([name, meta, url]) => ({ ...meta, name, url }) ) ) \n    );\n  }\n\n  /** Observable builder helper function */\n  private fromSource<T>(ref: (ref: StorageReference) => Observable<T>, upl: (upl: UploadObservable) => Observable<T>, none?: T): Observable<T> {\n    // Resolves the input source making sure to always complete\n    return this.source$.pipe( take(1), switchMap( source => { \n\n      // Builds the relevant obervable from the StorageReference\n      if(source instanceof StorageReference) { return ref(source); }\n\n      // Builds the relevan observable from the UploadObservable\n      if(source instanceof UploadObservable) { return upl(source); }\n\n      // Defaults\n      return of(none);\n\n    }), shareReplay(1) );\n  }\n\n  /** Returns the source object */\n  get source(): StorageReference|UploadObservable { return this.source$.value; }\n\n  /** Returns the StorageRef wrapped by the source object*/\n  get ref(): StorageRef { return this.source.ref; }\n\n  /** The name of the file as per the StorageRef */\n  get name(): string { return this.ref.name; }\n\n  /** Deletes the file */\n  public delete(): Promise<void> { return this.ref.delete(); }\n\n  /** The latest status of the uploading */\n  public get state(): TaskState {\n    return (this.source instanceof UploadObservable) ? this.source.snapshot.state : '';\n  }\n\n  /** True during uploading */\n  public get uploading(): boolean { return this.state === 'running'; }\n\n  /** True when paused */\n  public get paused(): boolean { return this.state === 'paused'; }\n\n  /** True when canceled */\n  public get canceled(): boolean { return this.state === 'canceled'; }\n\n  /** True when suceeded */\n  public get success(): boolean { return this.state === 'success'; }\n\n  /** True on error */\n  public get error(): boolean { return this.state === 'error'; }\n\n  /** Pauses the ongoing upload */\n  public pause(): boolean {\n    return (this.source instanceof UploadObservable) ? this.source.pause() : false;\n  }\n\n  /** Resumes the paused upload */\n  public resume(): boolean {\n    return (this.source instanceof UploadObservable) ? this.source.resume() : false;\n  }\n\n  /** Cancels the ongoing upload */\n  public cancel(): boolean {\n    return (this.source instanceof UploadObservable) ? this.source.cancel() : false;\n  }\n}","export * from './has-touchscreen';\nexport * from './dark-mode';","import { Directive, Input, OnInit, OnDestroy } from '@angular/core';\nimport { RouterScroll } from './router-scroll.service';\nimport { ViewportScroller } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[scrollPositionRestoration], [anchorScrolling]'\n})\nexport class ScrollBehaviorDirective implements OnInit, OnDestroy {\n\n  private sub: Subscription;\n\n  constructor(private scroller: ViewportScroller, private routerScroll$: RouterScroll) { }\n\n  @Input() scrollPositionRestoration: 'top'|'enabled'|'disabled' = 'disabled';\n\n  @Input() anchorScrolling: 'enabled'|'disabled' = 'disabled';\n\n  ngOnInit() {\n\n    this.sub = this.routerScroll$.subscribe( e => {\n\n      if(e.position) { // Routing backwards\n\n        // Scrolls to top or...\n        if(this.scrollPositionRestoration === 'top') { \n          this.scroller.scrollToPosition([0, 0]); \n        }\n        // ...scrolls to the saved position otherwise\n        else if(this.scrollPositionRestoration === 'enabled') { \n          this.scroller.scrollToPosition(e.position); \n        }\n\n      } else { // Routing forward\n        \n        // Scrolls to the given anchor or...\n        if(e.anchor && this.anchorScrolling === 'enabled') { \n          this.scroller.scrollToAnchor(e.anchor); \n        } \n        // ...scrolls to top otherwise\n        else if (this.scrollPositionRestoration !== 'disabled') { \n          this.scroller.scrollToPosition([0, 0]); \n        }\n      }\n    });\n  }\n\n  ngOnDestroy() { this.sub.unsubscribe(); }\n}\n","export * from './connect.module';","import { StorageApplication, StorageRef, UploadMetadata } from '../storage-application';\nimport { tap, map, scan, switchMap, shareReplay } from 'rxjs/operators';\nimport { StorageReference } from '../storage-reference';\nimport { UploadObservable } from '../upload-observable';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { StorageFile } from './storage-file';\n\n/** Abstacts a StorageReference as a folder to navigate or upload files into */\nexport class StorageFolder extends StorageReference {\n\n  /** Internal dynamic source reference */\n  private source$: BehaviorSubject<string|StorageRef>;\n\n  /** Internal file upload subject */\n  private upload$ = new BehaviorSubject<UploadObservable>(null);\n\n  /** List of sub folders (as StorageRef) */\n  readonly folders$: Observable<StorageRef[]>;\n\n  /** List of files (as StorageFile) */\n  readonly files$: Observable<StorageFile[]>;\n\n  constructor(st: StorageApplication, path?: string|StorageRef) {\n    // Constructs the parent StorageReference\n    super(st, path);\n\n    // Tracks the source to support dynamic ref changes\n    this.source$ = new BehaviorSubject(this.ref);\n\n    // Builds an intermediate observable getting the listResult\n    const result$ = this.source$.pipe(\n      // Updates the folder ref\n      tap( ref => this.from(ref) ), \n      // Lists the folder content\n      switchMap( ref => ref ? this.listAll() : null),\n      // Clean-up the upload stream when a new list comes\n      tap( () => this.upload$.next(null) ),\n      // Shares the result between the following folders & files\n      shareReplay(1)\n    );\n\n    // Builds an observable to list folders as StorageRef(s)\n    this.folders$ = result$.pipe( map( result => result.prefixes ));\n\n    // Builds an observable to list files as StorageFile(s)\n    this.files$ = result$.pipe( \n      // Maps the existing items into files\n      map( result => result.items.map( ref => st.file(ref) ) ),\n      // Appends the new uploads when requested\n      switchMap( files => this.upload$.pipe(\n        // Starts the uploads and map it into a file\n        map( upload => upload && st.file( upload ) ),\n        // Appends the aploads to the previous list\n        scan( (uploads, upload) => upload ? uploads.concat( upload ) : uploads, files)\n      ))\n    );\n  }\n\n  /** List the files/folders of the given path */\n  public ls(path: string|StorageRef) {\n\n    // Updates the current list from the very same path\n    if(path === '.') { return this.source$.next(this.ref); }\n\n    // Handles the '/' listing the root content\n    if(path === '/') { return this.source$.next( this.ref.root ); }\n\n    // Handles the '..' listing the parent content\n    if(path === \"..\") { return this.source$.next( this.ref.parent ); }\n\n    // Handles plain strings listing the 'subfolder' child\n    if(typeof path === 'string') { return this.source$.next( this.ref.child( path )); }\n\n    // Lists the given reference otherwise\n    this.source$.next( path );\n  }\n\n  /** Uploads new files in the current folder */\n  public upload(file: File, meta?: UploadMetadata): UploadObservable {\n    \n    // Creates the UploadObservable\n    const up = this.child(file.name).put(file, meta);\n    // Pushes the objesvable along the uploading stream and returns it to the caller\n    return this.upload$.next( up ), up;\n  }\n}","import { Directive, OnInit, OnDestroy, Input, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { ContentStreamer } from './content-streamer.service';\nimport { map } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: 'ng-template[wmContent]'\n})\n/** Provides the selected content to be consumed by the template */\nexport class ContentDirective implements OnInit, OnDestroy {\n\n  private sub: Subscription;\n  public $implicit: any = [];\n\n  constructor(private content: ContentStreamer, private tpl: TemplateRef<ContentDirective>, private vcr: ViewContainerRef) { }\n\n  ngOnInit() {\n    // Creates the view using the directive body as the context\n    this.vcr.createEmbeddedView(this.tpl, this);\n  }\n\n  ngOnDestroy() { \n    // Disposes the obsevable(s)\n    if(!!this.sub) { this.sub.unsubscribe(); }\n  }\n\n  /** The current resolved language code */\n  get language(): string { return this.content.language; }\n\n  /** Defines the default value to use whenever the requested content were missing */\n  @Input() wmContentOr: any = [];\n\n  /** Binds the requested content as an object directly:\n   * Usage: \n   * <... *wmContent=\"let data select 'content.page1'\">\n   *   ...\n   *   <span>{{ data.title }}</span>\n   */\n  @Input() set wmContentSelect(selector: string) {\n    // Unsubscribes previous subscriptions\n    if(!!this.sub) { this.sub.unsubscribe(); }\n    // Skips on null selectors\n    if(!selector) { return; }\n    // Subscribes to the data stream\n    this.sub = this.content.stream(selector)\n      // Binds the data content\n      .subscribe( data => this.$implicit = data || this.wmContentOr );\n  }\n\n  /** Binds the requested content as an observable:\n   * Usage: \n   * <... *wmContent=\"let data$ stream 'content.page1'\">\n   *   ...\n   *   <... *ngIf=\"data$ | async as data\">\n   *     ...\n   *     <span>{{ data.title }}</span>\n   */\n  @Input() set wmContentStream(selector: string) {\n    // Skips on null selectors\n    if(!selector) { return; }\n    // Binds the data stream observable \n    this.$implicit = this.content.stream(selector)\n      .pipe( map( value => value || this.wmContentOr ));\n  }\n}","export * from './auth-guard.service';\nexport * from './auth.service';\nexport * from './auth.module';\n","import { StorageReference } from './storage-reference';\nimport { UploadObservable } from './upload-observable';\nimport { StorageFile, StorageFolder } from './extras';\nimport { FirebaseApp } from '@wizdm/connect';\nimport { NgZone } from '@angular/core';\nimport { storage } from 'firebase/app';\n\n//--\nexport type FirebaseStorage    = storage.Storage;\nexport type StorageRef         = storage.Reference;\nexport type ListOptions        = storage.ListOptions;\nexport type ListResult         = storage.ListResult;\nexport type UploadMetadata     = storage.UploadMetadata;\nexport type SettableMetadata   = storage.SettableMetadata;\nexport type FullMetadata       = storage.FullMetadata;\nexport type StringFormat       = storage.StringFormat;\nexport type UploadTask         = storage.UploadTask;\nexport type UploadTaskSnapshot = storage.UploadTaskSnapshot;\n\n/** Wraps the Firebase Storage  */\nexport abstract class StorageApplication {\n\n  readonly storage: FirebaseStorage;\n\n  constructor(app: FirebaseApp, readonly zone: NgZone) {\n    // Gets the Storage instance \n    this.storage = zone.runOutsideAngular( () => app.storage() );\n  }\n\n  /** Returns a firebase storage reference to the given path */\n  public ref(path: string|StorageRef): StorageRef {\n    return typeof path === 'string' ? this.storage.ref(path) : path;\n  }\n\n  /** Returns a reference to the storage object identified by its path */\n  public abstract reference(path: string|StorageRef): StorageReference;\n\n  /** Returns a reference to the storage object identified by its download URL */\n  public abstract fromURL(url: string): StorageReference;\n\n  /** Verifies the validity of a given storage url */\n  public abstract testURL(url: string): boolean;\n\n  /** Shortcut to start an upload task of binary data */\n  public abstract upload(path: string, data: Blob|Uint8Array|ArrayBuffer, metadata?: UploadMetadata): UploadObservable;\n\n  /** Returns a folder object from a reference */\n  public abstract folder(ref: string|StorageRef): StorageFolder;\n\n  /** Returns a file object from a varaiety of references */\n  public abstract file(ref: string|StorageRef|StorageReference|UploadObservable): StorageFile;\n}","import { ConnectConfig } from '@wizdm/connect';\nimport { DoorbellConfig } from '@wizdm/doorbell';\nimport { GtagConfig } from '@wizdm/gtag';\n\n// Defines global secret environment variables\nexport const secrets = {\n\n  rootEmail: '<< your root access email goes here >>',\n\n  // We use the test key while in development, live key for production\n  stripeTestKey: '<< your pk_test_... key goes here >>',\n  stripeLiveKey: '<< your pk_live_... key goes here >>',\n\n  firebase: <ConnectConfig> {\n    apiKey: \"AIzaSyAzU3dsonD790xZ-5B1TTsSDgKJ-Fi1t7M\",\n    authDomain: \"dalpha01-24590.firebaseapp.com\",\n    databaseURL: \"https://dalpha01-24590-default-rtdb.firebaseio.com\",\n    projectId: \"dalpha01-24590\",\n    storageBucket: \"dalpha01-24590.appspot.com\",\n    messagingSenderId: \"129752537170\",\n    appId: \"1:129752537170:web:2806e3edc7a24d5306e78b\",\n    measurementId: \"G-G7E67M0QD0\"\n  },\n\n  doorbell: <DoorbellConfig> {\n    url: \"https://doorbell.io/api/applications\",\n    id: \"<< your doorbell id here >>\",\n    appKey: \"<< your doorbell app key here >>\"  \n  },\n\n  gtag: <GtagConfig> {\n    targetId: '<< YOUR GA MEASURE ID HERE >>'\n  }\n};\n","import { DatabaseDocument, DatabaseTransaction, DatabaseBatch, DocumentRef } from './document'\nimport { DatabaseCollection, DatabaseGroup, CollectionRef, Query } from './collection';\nimport { DistributedCounter, CounterShard } from './counter';\nimport { FirebaseApp } from '@wizdm/connect';\nimport { firestore } from 'firebase/app';\nimport { NgZone } from '@angular/core';\n\nexport type PersistenceSettings = firestore.PersistenceSettings;\nexport type FirebaseFirestore = firestore.Firestore;\n\nexport type Timestamp = firestore.Timestamp;\nexport type FieldPath = firestore.FieldPath;\nexport type FieldValue = firestore.FieldValue;\nexport type GeoPoint = firestore.GeoPoint;\n\nexport abstract class DatabaseApplication {\n\n  readonly firestore: FirebaseFirestore;\n  private persisted: boolean = false;\n\n  constructor(app: FirebaseApp, readonly zone: NgZone, persistance?: PersistenceSettings) { \n\n    // Runs outside the angular zon to avoid triggerig unwanted change detections\n    this.firestore = zone.runOutsideAngular( () => {\n\n      // Gets the Firestore instance \n      const firestore = app.firestore();\n\n      // Tries to enable persistance when requested\n      persistance && firestore.enablePersistence(persistance)\n        .then( () => this.persisted = true )\n        .catch( () => this.persisted = false);\n\n      return firestore;\n    });\n  }\n\n  /** True whenever persistance has been succesfully enabled */\n  public get isPersistanceEnabled() {\n    return this.persisted;\n  }\n\n  /** Returns a fieldpath from the provided field names. If more than one field name is provided, the path will point to a nested field \n   * in a document */\n  public fieldPath(...fieldNames: string[]) {\n    return new firestore.FieldPath(...fieldNames);\n  }\n\n  /** Returns an ID sentinel to be used in queries */\n  public get sentinelId(): FieldPath {\n    return firestore.FieldPath.documentId();\n  }\n\n  /** Returns a server timestamp palceholder (it'll turn into a timestamp serverside) */\n  public get timestamp(): FieldValue {\n    return firestore.FieldValue.serverTimestamp();\n  }\n\n  /** Returns a sentinel for use with update to mark the field for deletion */\n  public get delete(): FieldValue {\n    return firestore.FieldValue.delete();\n  }\n\n  /** Returns a special value that can be used with set() or update() telling the server to increment the field's current value */\n  public increment(n: number): FieldValue {\n    return firestore.FieldValue.increment(n);\n  }\n\n  /** Returns a special value that can be used with set() or update() telling the server to add the given elements to an array */\n  public arrayUnion<T>(...elements: T[]): FieldValue {\n    return firestore.FieldValue.arrayUnion(...elements);\n  }\n\n  /** Returns a special value that can be used with set() or update() telling the server to remove the given elements from an array */\n  public arrayRemove<T>(...elements: T[]): FieldValue {\n    return firestore.FieldValue.arrayRemove(...elements);\n  }\n\n  /** Creates a geopoint at the given lat and lng */\n  public geopoint(lat: number, lng: number): GeoPoint {\n    return new firestore.GeoPoint(lat, lng);\n  }\n\n  public doc<T>(ref: string|DocumentRef<T>): DocumentRef<T> {\n    return !!ref ? (typeof ref === 'string' ? this.firestore.doc(ref) as DocumentRef<T> : ref) : null;\n  }\n\n  public col<T>(ref: string|CollectionRef<T>): CollectionRef<T> {\n    return !!ref ? (typeof ref === 'string' ? this.firestore.collection(ref) as CollectionRef<T> : ref) : null;\n  }\n\n  public group<T>(ref: string|Query<T>): Query<T> {\n    return !!ref ? (typeof ref === 'string' ? this.firestore.collectionGroup(ref) as Query<T> : ref) : null;\n  }\n\n  /** Database Objects Factories */\n  public abstract document<T>(path: string|DocumentRef<T>): DatabaseDocument<T>;\n  public abstract collection<T>(path: string|CollectionRef<T>): DatabaseCollection<T>;\n  public abstract collectionGroup<T>(groupId: string|Query<T>): DatabaseGroup<T>;\n  public abstract counter(path: string|CollectionRef<CounterShard>, shards: number): DistributedCounter;\n  public abstract transaction<T>( updateFn: (t: DatabaseTransaction) => Promise<T> ): Promise<T>;\n  public abstract batch(): DatabaseBatch;\n}\n","import { Directive, Input, Output, EventEmitter, HostBinding, HostListener } from '@angular/core';\nimport { EmojiUtils } from '@wizdm/emoji/utils';\n\n// 1x1px transparent image placeholder\nexport const fakeImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\";\n\n@Directive({\n  selector: 'img[wm-emoji]',\n  host: { \n    \"class\": \"wm-emoji\",\n    \"style\": \"box-sizing: border-box; vertical-align: text-bottom;\",\n    \"[style.width]\": \"size || '1.25em'\",\n    \"[style.height]\": \"size || '1.25em'\",\n    \"[style.margin-left]\": \"spacing || '0.05em'\",\n    \"[style.margin-right]\": \"spacing || '0.05em'\",\n    \"[style.border]\": \"loading || error ? '1px dashed currentColor' : undefined\",\n    \"[style.opacity]\": \"loading || error ? '0.25' : undefined\"\n  }\n})\nexport class EmojiImage {\n\n  public error: boolean; \n  public load: boolean; \n  public emoji: string;\n  \n  get loading(): boolean { return !this.load; }\n\n  constructor(private utils: EmojiUtils) { }\n  \n  /** The emoji code to be rendered */\n  @Input('wm-emoji') set value(emoji: string) {\n    // Tracks the requested emoji sequence\n    this.emoji = emoji;\n    // Resets the loading flags\n    this.load = this.error = false;\n  }\n\n  /** Customizes the emoji size when in web mode. Default is 1.25em */\n  @Input() size: string;\n\n  /** Customizes the emoji spacing when in web mode. Default is 0.05em (each side) */\n  @Input() spacing: string;\n\n  /** Applies the emoji sequence as the alternative */\n  @HostBinding('alt') get alt(): string {\n    return this.emoji;\n  } \n\n  /** The source file of the emoji image corresponding to the requested code */\n  @HostBinding('src') get src(): string {\n    // Loads the file falling back to a fake image on error\n    return this.error ? fakeImage : this.utils.imageFilePath(this.emoji);\n  }\n\n  /** Emits which side (left or right) the emoji image as been hit (mousedowm) */\n  @Output() hit = new EventEmitter<'left'|'right'>();\n\n  /** Handles on error event */\n  @HostListener('error') onError() { \n    this.error = true; \n  }\n\n  /** Handles on load event */\n  @HostListener('load') onLoad() { \n    this.load = true; \n  }\n\n  /** Handles the mouse event to catch for user hits */\n  @HostListener('mousedown', ['$event']) onMouseDown({ target, clientX }: MouseEvent) {\n    // Computes the Element's client rect\n    const rt = (target as HTMLElement).getBoundingClientRect();\n    // Checks whatever side of the image the mouse position falls into and emits the event accordingly\n    rt && this.hit.emit(clientX < (rt.left + rt.right) / 2 ? 'left' : 'right');\n  }\n}","import { NgModule, Optional, Inject } from '@angular/core';\nimport { FunctionsService } from './functions.service';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport 'firebase/functions';\n\n@NgModule({\n  providers: [ FunctionsService ]\n})\nexport class FunctionsModule {\n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n}","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","export * from './interpolations.pipe';\nexport * from './interpolation.module';","import { Directive, Input, HostBinding, HostListener } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { RedirectService } from './redirect.service';\n\n@Directive({\n  selector: ':not(a):not(area)[wmRedirect]'\n})\nexport class RedirectDirective {\n\n  constructor(readonly redirect: RedirectService) { }\n\n  @Input('wmRedirect') url: string;\n\n  /** */\n  @Input('disabled') set disable(value: boolean) { this.disabled = coerceBooleanProperty(value); }\n  public disabled: boolean = false;\n\n  @HostListener('click') onClick() {\n    // Skips when disabled\n    if(this.disabled) { return false; }\n    // Navigates on the requested link redirecting when necessary\n    this.redirect.navigate(this.url);\n    // Prevents default\n    return false;\n  }\n}\n\n@Directive({\n  selector: 'a[wmRedirect],area[wmRedirect]'\n})\nexport class RedirectWithHrefDirective extends RedirectDirective {\n\n  constructor(redirect: RedirectService) { \n    super(redirect);\n  }\n\n   // Binds the requested url to the href property\n  @HostBinding('href') get href() { return this.url; }\n}","import { Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { StripeCaller } from './stripe-caller';\n\nimport type { \n  StripeConstructor, \n  StripeConstructorOptions,\n  StripeError,\n  PaymentIntent,\n  PaymentMethod,\n  PaymentRequest,\n  PaymentRequestOptions,\n  SetupIntent,  \n  Token,\n  TokenCreateParams,\n  Source,\n  RedirectToCheckoutOptions,  \n  ConfirmAlipayPaymentData,  \n  ConfirmAlipayPaymentOptions,\n  ConfirmAuBecsDebitPaymentData,\n  ConfirmBancontactPaymentData,\n  ConfirmBancontactPaymentOptions,\n  ConfirmCardPaymentData,\n  ConfirmCardPaymentOptions,\n  ConfirmEpsPaymentData,\n  ConfirmEpsPaymentOptions,\n  ConfirmFpxPaymentData, \n  ConfirmFpxPaymentOptions,\n  ConfirmGiropayPaymentData, \n  ConfirmGiropayPaymentOptions,\n  ConfirmIdealPaymentData, \n  ConfirmIdealPaymentOptions,\n  ConfirmP24PaymentData, \n  ConfirmP24PaymentOptions,\n  ConfirmSepaDebitPaymentData,\n  CreatePaymentMethodData,\n  ConfirmAuBecsDebitSetupData,\n  ConfirmBacsDebitSetupData,\n  ConfirmCardSetupData, \n  ConfirmCardSetupOptions,\n  ConfirmSepaDebitSetupData,\n  StripeIbanElement,\n  CreateTokenIbanData,\n  StripeCardElement, \n  StripeCardNumberElement, \n  CreateTokenCardData,\n  CreateTokenPiiData,\n  CreateTokenBankAccountData,\n  StripeCardCvcElement,\n  StripeElement, \n  CreateSourceData,\n  RetrieveSourceParam\n} from '@stripe/stripe-js';\n\n/** Stripe Public Key token */\nexport const STRIPE_PUBLIC_KEY = new InjectionToken<string>('wizdm.stripe.public-key');\n\n/** Stripe Options token */\nexport const STRIPE_OPTIONS = new InjectionToken<StripeConstructorOptions>('wizdm.stripe.options');\n\n/** Stripe constructor token */\nexport const STRIPEJS = new InjectionToken<Promise<StripeConstructor>>('wizdm.stripe.constructor');\n\n/** Stripe.js Injectale proxy service for Angular */\n/** @dynamic - tells ngc to ignore the error on potentially unknown types generated by strictEmitMetadata: true */\n@Injectable()\nexport class StripeService extends StripeCaller {\n  \n  /////////////////////////////\n  /// Checkout\n  ///\n  /// https://stripe.com/docs/js/checkout\n  /////////////////////////////\n\n  /**\n   * Use `stripe.redirectToCheckout` to redirect your customers to [Checkout](https://stripe.com/docs/payments/checkout), a Stripe-hosted page to securely collect payment information.\n   * When the customer completes their purchase, they are redirected back to your website.\n   */\n  public redirectToCheckout(options: RedirectToCheckoutOptions): Promise<never | {error: StripeError}> {    \n    return this.callStripe('redirectToCheckout', arguments);\n  }\n\n  /////////////////////////////\n  /// Payment Intents\n  ///\n  /// https://stripe.com/docs/js/payment_intents\n  /////////////////////////////\n\n  /**\n   * Use `stripe.confirmAlipayPayment` in the [Alipay Payments](https://stripe.com/docs/payments/alipay) with Payment Methods flow when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide, and it will automatically redirect the customer to authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new PaymentMethod for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_alipay_payment\n   */\n  public confirmAlipayPayment(clientSecret: string, data?: ConfirmAlipayPaymentData, options?: ConfirmAlipayPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {    \n    return this.callStripe('confirmAlipayPayment', arguments);\n  }\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * Use `stripe.confirmAuBecsDebitPayment` in the [BECS Direct Debit Payments](https://stripe.com/docs/payments/payment-methods/au-becs-debit) with Payment Methods flow when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/payment-methods/au-becs-debit-quickstart-payment-intents) for more details.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new PaymentMethod for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_au_becs_debit_payment\n   */\n  public confirmAuBecsDebitPayment(clientSecret: string, data?: ConfirmAuBecsDebitPaymentData): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmAuBecsDebitPayment', arguments);\n  }\n  \n  /**\n   * Use `stripe.confirmBancontactPayment` in the [Bancontact Payments with Payment Methods](https://stripe.com/docs/payments/bancontact#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_bancontact_payment\n   */\n  public confirmBancontactPayment(clientSecret: string, data?: ConfirmBancontactPaymentData, options?: ConfirmBancontactPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmBancontactPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmCardPayment` when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide and carry out 3DS or other next actions if they are required.\n   *\n   * If you are using [Dynamic 3D Secure](https://stripe.com/docs/payments/3d-secure#three-ds-radar), `stripe.confirmCardPayment` will trigger your Radar rules to execute and may open a dialog for your customer to authenticate their payment.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_card_payment\n   */\n  public confirmCardPayment(clientSecret: string, data?: ConfirmCardPaymentData, options?: ConfirmCardPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> { \n    return this.callStripe('confirmCardPayment', arguments);\n  };\n\n  /**\n   * Use `stripe.confirmEpsPayment` in the [EPS Payments with Payment Methods](https://stripe.com/docs/payments/eps#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_eps_payment\n   */\n  public confirmEpsPayment(clientSecret: string, data?: ConfirmEpsPaymentData, options?: ConfirmEpsPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmEpsPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmFpxPayment` in the [FPX Payments with Payment Methods](https://stripe.com/docs/payments/fpx#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_fpx_payment\n   */\n  public confirmFpxPayment(clientSecret: string, data?: ConfirmFpxPaymentData, options?: ConfirmFpxPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmFpxPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmGiropayPayment` in the [giropay Payments with Payment Methods](https://stripe.com/docs/payments/giropay#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_giropay_payment\n   */\n  public confirmGiropayPayment(clientSecret: string, data?: ConfirmGiropayPaymentData, options?: ConfirmGiropayPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmGiropayPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmIdealPayment` in the [iDEAL Payments with Payment Methods](https://stripe.com/docs/payments/ideal) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_ideal_payment\n   */\n  public confirmIdealPayment(clientSecret: string, data?: ConfirmIdealPaymentData, options?: ConfirmIdealPaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmGiropayPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmP24Payment` in the [Przelewy24 Payments with Payment Methods](https://stripe.com/docs/payments/p24#web) flow when the customer submits your payment form.\n   * When called, it will confirm the `PaymentIntent` with `data` you provide, and it will automatically redirect the customer to the authorize the transaction.\n   * Once authorization is complete, the customer will be redirected back to your specified `return_url`.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_p24_payment\n   */\n  public confirmP24Payment(clientSecret: string, data?: ConfirmP24PaymentData, options?: ConfirmP24PaymentOptions): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmP24Payment', arguments);\n  }\n\n  /**\n   * Use `stripe.confirmSepaDebitPayment` in the [SEPA Direct Debit Payments](https://stripe.com/docs/payments/sepa-debit) with Payment Methods flow when the customer submits your payment form.\n   * When called, it will confirm the [PaymentIntent](https://stripe.com/docs/api/payment_intents) with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/sepa-debit) for more details.\n   *\n   * When you confirm a `PaymentIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `PaymentIntent`, this method can automatically create and attach a new PaymentMethod for you.\n   * If you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/confirm_sepa_debit_payment\n   */\n  public confirmSepaDebitPayment(clientSecret: string, data?: ConfirmSepaDebitPaymentData): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('confirmSepaDebitPayment', arguments);\n  }\n\n  /**\n   * Use `stripe.handleCardAction` in the Payment Intents API [manual confirmation](https://stripe.com/docs/payments/payment-intents/web-manual) flow to handle a [PaymentIntent](https://stripe.com/docs/api/payment_intents) with the `requires_action` status.\n   * It will throw an error if the `PaymentIntent` has a different status.\n   *\n   * Note that `stripe.handleCardAction` may take several seconds to complete.\n   * During that time, you should disable your form from being resubmitted and show a waiting indicator like a spinner.\n   * If you receive an error result, you should be sure to show that error to the customer, re-enable the form, and hide the waiting indicator.\n   *\n   * Additionally, `stripe.handleCardAction` may trigger a [3D Secure](https://stripe.com/docs/payments/3d-secure) authentication challenge.\n   * The authentication challenge requires a context switch that can be hard to follow on a screen-reader.\n   * Ensure that your form is accessible by ensuring that success or error messages are clearly read out.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/handle_card_action\n   */\n  public handleCardAction(clientSecret: string): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('handleCardAction', arguments);\n  }\n\n  /**\n   * Use stripe.createPaymentMethod to convert payment information collected by elements into a [PaymentMethod](https://stripe.com/docs/api/payment_methods) object that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/create_payment_method\n   */\n  public createPaymentMethod(paymentMethodData: CreatePaymentMethodData): Promise<{paymentMethod?: PaymentMethod; error?: StripeError}> {\n   return this.callStripe('createPaymentMethod', arguments); \n  }\n\n  /**\n   * Retrieve a [PaymentIntent](https://stripe.com/docs/api/payment_intents) using its [client secret](https://stripe.com/docs/api/payment_intents/object#payment_intent_object-client_secret).\n   *\n   * @docs https://stripe.com/docs/js/payment_intents/retrieve_payment_intent\n   */\n  public retrievePaymentIntent(clientSecret: string): Promise<{paymentIntent?: PaymentIntent; error?: StripeError}> {\n    return this.callStripe('retrievePaymentIntent', arguments); \n  }\n\n  /////////////////////////////\n  /// Setup Intents\n  ///\n  /// https://stripe.com/docs/js/setup_intents\n  /////////////////////////////\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * Use `stripe.confirmAuBecsDebitSetup` in the [BECS Direct Debit with Setup Intents](https://stripe.com/docs/payments/payment-methods/au-becs-debit-quickstart-setup-intents) flow when the customer submits your payment form.\n   * When called, it will confirm the `SetupIntent` with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/payment-methods/au-becs-debit-quickstart-setup-intents) for more details.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_au_becs_debit_setup\n   */\n  public confirmAuBecsDebitSetup(clientSecret: string, data?: ConfirmAuBecsDebitSetupData): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmAuBecsDebitSetup', arguments); \n  }\n\n  /**\n   * Use `stripe.confirmBacsDebitSetup` in the [Bacs Direct Debit Payments](https://stripe.com/docs/payments/payment-methods/bacs-debit) flow when the customer submits your payment form.\n   * When called, it will confirm the [SetupIntent](https://stripe.com/docs/api/setup_intents) with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/payment-methods/bacs-debit) for more details.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   * These use cases are detailed in the sections that follow.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_bacs_debit_setup\n   */\n  public confirmBacsDebitSetup(clientSecret: string, data?: ConfirmBacsDebitSetupData): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmBacsDebitSetup', arguments); \n  }\n\n  /**\n   * Use `stripe.confirmCardSetup` in the [Setup Intents API flow](https://stripe.com/docs/payments/save-and-reuse) when the customer submits your payment form.\n   * When called, it will confirm the [SetupIntent](https://stripe.com/docs/api/setup_intents) with `data` you provide and carry out 3DS or other next actions if they are required.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_card_setup\n   */\n  public confirmCardSetup(clientSecret: string, data?: ConfirmCardSetupData, options?: ConfirmCardSetupOptions): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmCardSetup', arguments); \n  }\n\n  /**\n   * Use `stripe.confirmSepaDebitSetup` in the [SEPA Direct Debit with Setup Intents](https://stripe.com/docs/payments/sepa-debit-setup-intents) flow when the customer submits your payment form.\n   * When called, it will confirm the `SetupIntent` with `data` you provide.\n   * Note that there are some additional requirements to this flow that are not covered in this reference.\n   * Refer to our [integration guide](https://stripe.com/docs/payments/sepa-debit-setup-intents) for more details.\n   *\n   * When you confirm a `SetupIntent`, it needs to have an attached [PaymentMethod](https://stripe.com/docs/api/payment_methods).\n   * In addition to confirming the `SetupIntent`, this method can automatically create and attach a new `PaymentMethod` for you.\n   * It can also be called with an existing `PaymentMethod`, or if you have already attached a `PaymentMethod` you can call this method without needing to provide any additional data.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/confirm_sepa_debit_setup\n   */\n  public confirmSepaDebitSetup(clientSecret: string, data?: ConfirmSepaDebitSetupData): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('confirmSepaDebitSetup', arguments); \n  }\n\n  /**\n   * Retrieve a [SetupIntent](https://stripe.com/docs/api/setup_intents) using its client secret.\n   *\n   * @docs https://stripe.com/docs/js/setup_intents/retrieve_setup_intent\n   */\n  public retrieveSetupIntent(clientSecret: string): Promise<{setupIntent?: SetupIntent; error?: StripeError}> {\n    return this.callStripe('retrieveSetupIntent', arguments); \n  }\n\n  /////////////////////////////\n  /// Payment Request\n  ///\n  /// https://stripe.com/docs/js/payment_request\n  /////////////////////////////\n\n  /**\n   * Use `stripe.paymentRequest` to create a `PaymentRequest` object.\n   * Creating a `PaymentRequest` requires that you configure it with an `options` object.\n   *\n   * In Safari, `stripe.paymentRequest` uses Apple Pay, and in other browsers it uses the [Payment Request API standard](https://www.w3.org/TR/payment-request/).\n   */\n  public paymentRequest(options: PaymentRequestOptions): Promise<PaymentRequest> {\n    return this.callStripe('paymentRequest', arguments); \n  }\n\n  /////////////////////////////\n  /// Token and Sources\n  ///\n  /// https://stripe.com/docs/js/tokens_sources\n  /////////////////////////////\n\n  /**\n   * Use `stripe.createToken` to convert information collected by an `IbanElement` into a single-use [Token](https://stripe.com/docs/api#tokens) that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=ibanElement\n   */\n  public createToken(tokenType: StripeIbanElement, data: CreateTokenIbanData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to convert information collected by card elements into a single-use [Token](https://stripe.com/docs/api#tokens) that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\n   */\n  public createToken(tokenType: StripeCardElement | StripeCardNumberElement, data?: CreateTokenCardData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to convert personally identifiable information (PII) into a single-use [Token](https://stripe.com/docs/api#tokens) for account identity verification.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=pii\n   */\n  public createToken(tokenType: 'pii', data: CreateTokenPiiData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to convert bank account information into a single-use token that you safely pass to your server to use in an API call.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=bank_account\n   */\n  public createToken(tokenType: 'bank_account', data: CreateTokenBankAccountData): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to tokenize the recollected CVC for a saved card.\n   * First, include the `cvc_update_beta_1` flag when creating an instance of the Stripe object.\n   * Next, render an `CardCvcElement` to collect the data.\n   * Then pass the `CardCvcElement` to `stripe.createToken` to tokenize the collected data.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/create_token?type=bank_account\n   */\n  public createToken(tokenType: 'cvc_update', element?: StripeCardCvcElement): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to create a single-use token that wraps a users legal entity information.\n   * Use this when creating or updating a Connect account.\n   * See the [account tokens documentation](https://stripe.com/docs/connect/account-tokens) to learn more.\n   */\n  public createToken(tokenType: 'account', data: TokenCreateParams.Account): Promise<{token?: Token; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createToken` to create a single-use token that represents the details for a person.\n   * Use this when creating or updating persons associated with a Connect account.\n   * See the [documentation](https://stripe.com/docs/connect/account-tokens) to learn more.\n   */\n  public createToken(tokenType: 'person', data: TokenCreateParams.Person): Promise<{token?: Token; error?: StripeError}>;\n\n  // createToken function implementation\n  public createToken() { return this.callStripe('createToken', arguments); }\n\n  /**\n   * Use `stripe.createSource` to convert payment information collected by elements into a `Source` object that you safely pass to your server to use in an API call.\n   * See the [Sources documentation](https://stripe.com/docs/sources) for more information about sources.\n   */\n  public createSource(element: StripeElement, sourceData: CreateSourceData): Promise<{source?: Source; error?: StripeError}>;\n\n  /**\n   * Use `stripe.createSource` to convert raw payment information into a `Source` object that you safely pass to your server to use in an API call.\n   * See the [Sources documentation](https://stripe.com/docs/sources) for more information about sources.\n   */\n  public createSource(sourceData: CreateSourceData): Promise<{source?: Source; error?: StripeError}>;\n\n  // createSource function implementation\n  public createSource() { return this.callStripe('createSource', arguments); }\n\n  /**\n   * Retrieve a [Source](https://stripe.com/docs/api#sources) using its unique ID and client secret.\n   *\n   * @docs https://stripe.com/docs/js/tokens_sources/retrieve_source\n   */\n  public retrieveSource(source: RetrieveSourceParam): Promise<{source?: Source; error?: StripeError}> {\n    return this.callStripe('retrieveSource', arguments);\n  }\n  \n  // Extends the StripeCaller base class enabling Stripe sdk proxy capabilities\n  constructor(@Inject(STRIPEJS) stripejs: Promise<StripeConstructor>, @Inject(STRIPE_PUBLIC_KEY) publicKey: string, @Optional() @Inject(STRIPE_OPTIONS) options: StripeConstructorOptions) { \n    super(stripejs, publicKey, options); \n  }\n}","export * from './emoji-image.directive';\nexport * from './emoji-image.module';\n","export * from './emoji-text.component';\nexport * from './emoji-text.module';","import { NgModule, Optional, Inject } from '@angular/core';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport { AuthGuard } from './auth-guard.service';\nimport { AuthService } from './auth.service';\nimport 'firebase/auth';\n\n@NgModule({\n  providers: [ AuthService, AuthGuard ]\n})\nexport class AuthModule {\n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n}","export * from './counter';","import { InjectionToken, inject, Type } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { SelectorResolver } from './selector-resolver.service';\nimport { ContentLoader } from '../loader/content-loader.service';\nimport { take, catchError } from 'rxjs/operators';\nimport { Observable, of } from 'rxjs';\n\n/** Base resolver loading the page content according to the requested language */\nexport class ContentResolver implements Resolve<any> {\n\n  /** Builds a content resolver instance for the specified source file on the fly */\n  static create<T = any>(source: string, file: string, providedIn: 'root'|Type<T> = 'root') {\n\n    return new InjectionToken(`wizdm.content.${file}`, {\n      providedIn,\n      factory: () => new ContentResolver(inject(ContentLoader as any), inject(SelectorResolver), source, file)\n    });\n  }\n\n  constructor(readonly loader: ContentLoader, readonly selector: SelectorResolver, readonly source: string, readonly file: string) { }\n\n  /** Resolves the content loading the requested source file */\n  public resolve(route: ActivatedRouteSnapshot): Observable<any> {\n    // Resolves the language code from the route\n    const lang = this.selector.resolve(route);\n    // Loads the specified module from the language forlder\n    return this.loader.loadFile(this.source, lang, this.file)\n      .pipe( \n        // Makes sure the loading always completes to avoid the routing got stuck\n        take(1),\n        // Whereve happens (the requested file does not exist) returns an empty object\n        catchError( () => of({}) ) \n      );\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n/** Uses the input string as a key to pluck a value from an object. \n * Dotted separated keys are supoprted to pluck values deeper.\n * @example 'errors.required' | pluck: errorMessages */\n@Pipe({ name: 'pluck' })\nexport class PluckPipe implements PipeTransform {\n\n  transform(key: string, value?: any, defaultValue?: any): any {\n\n    if(!(value instanceof Object) || !key) { return value; }\n\n    return key.split(/[.\\/]/).reduce( (value, key) => { \n\n      return (value[key] !== undefined) ? value[key] : defaultValue;\n\n    }, value);\n  }\n}\n\n/** Replace keys embedded into the input string withing double brackets \n * with their corresponding values pluck from the conteext object \n * @example 'Counting {{ count }}' | interpolate: this */\n@Pipe({ name: 'interpolate', pure: false })\nexport class InterpolatePipe extends PluckPipe {\n\n  transform(value: any, context?: any): string {\n\n    if(typeof value !== 'string') { return value; }\n    \n    return value.replace(/{{\\s*([.\\w]+)\\s*}}/g, (match, capture) => \n      super.transform(capture, context, capture) );\n  }\n}\n\n/** Evaluate the expressions embedded into the input string \n * withing double brackets similarly to eval() with a context limited\n * to the sole variables passed along in the context object \n * @example 'Double counting {{ count * 2 }}' | eval: this */\n@Pipe({ name: 'eval', pure: false })\nexport class EvalPipe {\n\n  transform(value: any, context?: any): string {\n    // Simply return the input as it is when other than string \n    if(typeof value !== 'string') { return value; }\n    // Declares intermediate variables \n    let keys: string[], vals: any[];\n    // Searches for the expressions within double brackets\n    return value.replace(/{{(.*)}}/g, (match, capture) => {\n      // Gets context's keys and values\n      keys = keys || Object.keys(context);\n      vals = vals || keys.map( key => context[key] );\n      // Dynamically creates a function with limited scope passing along the \n      // keys as the argument names to be referenced withing the function body,\n      // to simply return the evaluated expression value, and calls it. \n      return Function(...keys, `'use strict'; return ${capture};`)(...vals);\n    });\n  }\n}\n\n/** Converts the input string from camelCase to kebab-case*/\n@Pipe({ name: 'hyphenize' })\nexport class HyphenizePipe implements PipeTransform {\n\n  transform(value: any, hyphen: string = '-'): string {\n\n    if(typeof value !== 'string') { return ''; }\n    \n    return value ? value.replace(/([A-Z])/g, $1 => {\n      return hyphen + $1.toLowerCase();\n    }): '';\n  }\n}\n\n/** Converts the input string from kebab-case to camelCase*/\n@Pipe({ name: 'camelize' })\nexport class CamelizePipe implements PipeTransform {\n\n  transform(value: any): string {\n\n    if(typeof value !== 'string') { return ''; }\n\n    return value ? value.replace(/([_.\\- ][a-z])/g, $1 => {\n      return $1.toUpperCase().replace(/[_.\\- ]/g,'');\n    }) : '';\n  }\n}\n\n/** C-like printf() formatting */\n@Pipe({ name: 'printf' })\nexport class PrintfPipe implements PipeTransform {\n\n  transform(value: any, ...args: any): string {\n\n    if(typeof value !== 'string') { return ''; }\n\n    let i = 0;\n    // Uses a regular expression to match the syntax and capturing the following groups:\n    // group1 'flags': ([-+ 0#])? captures 0 or 1 flag among '-', '+', ' ', '0', '#'\n    // group2 'width': (\\d*)? captures 0 or 1 instance of a number of 1 up digits \n    // group3 'precision': (?:.(\\d*))? captures 0 or 1 instance of a number of 1 up digits matching only if prepended by '.'\n    // group4 'type': ([%dfs]) matches '%', 'd', 'f' or 's'\n    //\n    return value ? value.replace(/%([-+ 0#])?(\\d*)?(?:.(\\d*))?([%dfs])/g, \n      (match, flags, width, precision, type) => {\n\n      //console.log(\"sprintf: \" + match +\",\" + flags + \",\" + width + \",\" + precision + \",\" + type);\n\n      let value = args[i++];\n      let out = match;\n\n      switch(type) {\n        \n        case 'd': {\n\n        // Turns the value into an integer\n        out = new Number(value).toFixed(0);\n\n        // Prepend '0' or ' ' depending on flags & width values\n        if(typeof width !== \"undefined\" && width > out.length){\n            out = (flags === '0' ? \"0\" : \" \").repeat(width - out.length) + out;}\n        }\n        break;\n\n        case 'f': {\n\n        // Turns the value into a fixed number, in case precision is \"undefined\" toFixed returs all the digits\n        out = new Number(value).toFixed(precision);\n\n        // Evaluates the number of integer digits\n        let digits = out.split('.')[0].toString().length;\n\n        // Prepend '0' or ' ' depending on flags & width values\n        if(typeof width !== \"undefined\" && width > digits){\n            out = (flags === '0' ? \"0\" : \" \").repeat(width - digits) + out;}\n        }\n        break;\n        \n        case 's':\n        out = value.toString();\n        break;\n\n        case '%':// Step back, theres' no assosiated arg \n        out = \"%\";\n        i--; \n        break;\n      }\n\n      return out;\n    }) : '';\n  };\n}","import { Observable, BehaviorSubject, animationFrameScheduler } from 'rxjs';\nimport { scan, map, observeOn } from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\n\nexport interface BackgroundStyle {\n  \"background-image\"       : string;\n  \"backgroung-clip\"        : string;\n  \"background-size\"        : string;\n  \"background-color\"       : string;\n  \"background-repeat\"      : string;\n  \"background-origin\"      : string;\n  \"background-position\"    : string;\n  \"background-attachment\"  : string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BackgroundObservable extends Observable<BackgroundStyle>{\n\n  // Background style \n  private styler$ = new BehaviorSubject<BackgroundStyle|string>(undefined);\n  private inner$: Observable<BackgroundStyle>;\n\n  constructor() { \n    \n    super( observer => this.inner$.subscribe(observer) );\n\n    // Builds the innes observable to support nesting images\n    this.inner$ = this.styler$.pipe(\n\n      // Buffers the image requests\n      scan( (buffer, value) => {\n\n        // Resets the buffer\n        if(!value) { buffer = []; }\n\n        // Clears a previously applied image\n        else if(typeof value === 'string') {\n\n          // Seeks for the image within the buffer and removes it\n          const index = buffer.findIndex( item => item[\"background-image\"] === value );\n          if(index >= 0) { buffer.splice(index, 1); }\n\n        }\n        // Pushes the new image into the buffer otherwise\n        else { buffer.push(value); }\n        return buffer;\n        \n      }, [] as BackgroundStyle[]),\n\n      // Always emit the last buffer item\n      map( buffer => buffer[buffer.length - 1] ), \n      \n      // Ensures the style being applied according to the animationFrameScheduler (so to say in-sync with the rendering)\n      // preventing the notorious ExpressionChangedAfterItHasBeenChecked exception without introducing any delay the \n      // user may otherwise perceive when navigating    \n      observeOn(animationFrameScheduler) \n    );\n  }\n\n  /** Applies the given style to the navigator's content background */\n  public applyBackground(style: BackgroundStyle): string { \n\n    if(!style[\"background-image\"]) { return undefined; }\n    return this.styler$.next(style), style[\"background-image\"];\n  }\n\n  /** Clears the background  */\n  public clearBackground(image?: string) { \n    this.styler$.next(image); \n  }\n}\n","export * from './background.directive';\nexport * from './background.service';\nexport * from './background.module';","import { tap, share, take } from 'rxjs/operators';\nimport { MonoTypeOperatorFunction } from 'rxjs';\nimport { concat } from 'rxjs';\n\nexport function tapOnce<T>(next: (x: T) => void, error?: (e: any) => void, complete?: () => void): MonoTypeOperatorFunction<T> {\n\n  return source => {\n\n    const shared = source.pipe( share() );\n\n    return concat( shared.pipe( take(1), tap(next, error, complete) ), shared ); \n  };\n}","import { DatabaseApplication } from '../database-application';\nimport { DatabaseDocument, DocumentData } from '../document';\nimport { switchMap, expand, scan } from 'rxjs/operators';\nimport { CollectionRef, QueryFn } from './types';\nimport { Observable, of, EMPTY } from 'rxjs';\nimport { query, get } from './operators';\nimport { DatabaseQuery } from './query';\n\n/** Collection object in the database, created by the DatabaseService */\nexport class DatabaseCollection<T extends DocumentData> extends DatabaseQuery<T> {\n\n  public get ref(): CollectionRef<T>{ return this._ref as CollectionRef<T>; }\n\n  constructor(db: DatabaseApplication, pathOrRef?: string|CollectionRef<T>) {\n    // Builds the query observalbe first\n    super(db, db.col(pathOrRef)); \n  }\n\n  /** Returns the collection object id */\n  public get id(): string { return this.ref.id; }\n\n  /** Returns the collection object path relative to the database root */\n  public get path(): string { return this.ref.path; }\n\n  /** Generates a unique ID as if to be used with a a new document */\n  public uniqueId(): string { return this.ref.doc().id; }\n\n  /**\n   * Returns the requested child document\n   * @param path the document path within the collection. If no path is specified, \n   * an automatically-generated unique ID will be used for the refurned DatabaseDocument\n   */\n  public document(path?: string): DatabaseDocument<T> {\n   return this.db.document<T>( this.ref.doc(path) );\n  }\n\n  /**\n   * Adds a new document to the collection\n   * @returns a promise of a DatabaseDocument\n   */\n  public add(data: Partial<T>): Promise<DatabaseDocument<T>> {\n    const created = this.db.timestamp;\n    return this.ref.add({\n      ...data as any,\n      created\n    }).then( ref => this.db.document<T>(ref) );\n  }\n\n  /**\n   * Wipes the all the documents matching the query\n   * @param query a number to limit the batch size or alternatively a query function\n   * selecting the documents to wipe. Just make sure to include a limit() to avoid\n   * exceeding the maximum writes limit during batch deletion.\n   */\n  public wipe(query: number|QueryFn<T> = 50): Promise<number> {\n    // Builds the query function according to the input value\n    const qf: QueryFn<T> = (typeof query === 'number') ? qf => qf.limit(query) : query;\n    // Starts by pushing whatever value\n    return this.deleteBatch(qf).pipe(\n      // Recursively delete the next batches \n      expand(count => count > 0 ? this.deleteBatch(qf) : EMPTY ),\n      // Accumulates the total deletion count\n      scan((total, count) => total + count, 0)\n      // Returns as a promise\n    ).toPromise();\n  }\n\n  // Detetes documents in a batch\n  private deleteBatch(qf: QueryFn<T>): Observable<number> {\n    // Makes sure to limit the request up to bachSize documents\n    return this.pipe( query(qf), get(), switchMap( snap => {\n      // Skips when done\n      if(snap.empty) { return of(0); }\n      // Delete documents in a batch\n      const batch = this.db.batch();\n      snap.forEach( doc => batch.delete(doc.ref) );\n      // Commits the batch write and returns the snapshot size\n      return batch.commit().then( () => snap.size ) ;\n    }));\n  }\n}","import { NgModule, Optional, Inject } from '@angular/core';\nimport { StorageService } from './storage.service';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport 'firebase/storage';\n\n@NgModule({\n  providers: [ StorageService ]\n})\nexport class StorageModule { \n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n}","export * from './database-application';\nexport * from './database.service';\nexport * from './database.module';\n","export * from './emoji-utils.service';\nexport * from './emoji-utils';\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'; \nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\nimport { MomentDateAdapter, MAT_MOMENT_DATE_FORMATS } from '@angular/material-moment-adapter';\nimport { MAT_TOOLTIP_DEFAULT_OPTIONS } from '@angular/material/tooltip';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DatabaseModule } from '@wizdm/connect/database';\nimport { StorageModule } from '@wizdm/connect/storage';\nimport { FunctionsModule } from '@wizdm/connect/functions';\nimport { AuthModule } from '@wizdm/connect/auth';\nimport { ConnectModule } from '@wizdm/connect';\nimport { ContentModule } from '@wizdm/content';\nimport { ReadmeNavigator } from '@wizdm/readme';\nimport { RedirectService } from '@wizdm/redirect';\nimport { EmojiSupportModule } from '@wizdm/emoji';\nimport { IpInfoModule } from '@wizdm/ipinfo';\nimport { GtagModule } from '@wizdm/gtag';\nimport { StripeModule } from '@wizdm/stripe';\nimport { ScrollingModule } from 'app/utils/scrolling';\nimport { AppComponent } from './app.component';  \n\n// Environment\nimport { environment } from '../environments/environment';\nconst  { appname, content, emoji, scroll, ipinfo, tooltips, firebase, stripeTestKey, stripeLiveKey, gtag } = environment;\n\n// Define the singe lazy loading navigation routes\nconst routes: Routes = [ \n  { path: '', loadChildren: () => import('./navigator/navigator.module').then(m => m.NavigatorModule) }\n];\n\n@NgModule({\n  declarations: [ AppComponent ],\n  imports: [\n    // Basics\n    BrowserModule,\n    BrowserAnimationsModule,\n    // Firebase integration\n    ConnectModule.init(firebase, appname),\n    AuthModule, DatabaseModule, StorageModule, FunctionsModule,\n    // IP location info\n    IpInfoModule.init(ipinfo),   \n    // Dynamic content (i18n)\n    ContentModule.init(content),\n    // Google Analytics\n    GtagModule.init(gtag),\n    // Universal Emoji support\n    EmojiSupportModule.init(emoji),\n    // Stripe payments w/ elements\n    StripeModule.init(environment.production ? stripeLiveKey : stripeTestKey),\n    // Angular's Router\n    RouterModule.forRoot(routes),\n    // Enables 'per page' scrolling behaviors overriding the router's configuration\n    ScrollingModule.init(scroll)\n  ],\n  providers: [\n\n    // Provides the redirection service globally\n    RedirectService,\n\n    // Applies the  redirection service to ReadmeComponent from @wizdm/elements\n    { provide: ReadmeNavigator, useExisting: RedirectService },\n\n    // Provides the MatIconRegistry globally\n    MatIconRegistry,\n\n    // Provides the MomentDateAdaper globally for @angular/material DatePicker\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [ MAT_DATE_LOCALE ]},\n\n    // Configures Material Date Format accordingly\n    { provide: MAT_DATE_FORMATS, useValue: MAT_MOMENT_DATE_FORMATS },\n\n    // Configures tooltips behavior globally\n    { provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: tooltips }\n  ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n","export * from './lib/gtag-definitions';\nexport * from './lib/gtag-factory';\nexport * from './lib/gtag.directive';\nexport * from './lib/gtag.service';\nexport * from './lib/gtag.module';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EmojiImageModule } from '@wizdm/emoji/image';\nimport { EmojiText } from './emoji-text.component';\n\n@NgModule({\n  imports: [ CommonModule, EmojiImageModule ],\n  declarations: [ EmojiText ],\n  exports: [ EmojiText ]\n})\nexport class EmojiTextModule { }","export * from './lib/loader/content-loader.service';\nexport * from './lib/loader/content-configurator.service';\nexport * from './lib/streamer/content-streamer.service';\nexport * from './lib/streamer/content.directive';\nexport * from './lib/router/content-resolver';\nexport * from './lib/router/content-selector.service';\nexport * from './lib/router/selector-resolver.service';\nexport * from './lib/router/content-router.module';\nexport * from './lib/content.module';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EmojiTextModule } from '@wizdm/emoji/text';\nimport { ReadmeComponent } from './readme.component';\n\n@NgModule({\n  imports: [ \n    CommonModule, \n    EmojiTextModule \n  ],\n  declarations: [ ReadmeComponent ],\n  exports: [ ReadmeComponent ]\n})\nexport class ReadmeModule { }","export * from './has-touchscreen';","import { Injectable, Inject, NgZone } from '@angular/core';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport { auth, User } from 'firebase/app';\nimport { shareReplay } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n//--\nexport type FirebaseAuth = auth.Auth;\nexport type AuthProvider = auth.AuthProvider;\nexport type IdTokenResult = auth.IdTokenResult;\nexport { User } from 'firebase/app';\n\n/** Wraps the Firebase Auth as a service */\n@Injectable()\nexport class AuthService {\n\n  /** Authentication states observable */\n  readonly state$: Observable<User>;\n\n  /** User observable, includes id token refreshes */\n  readonly user$: Observable<User>;\n\n  /** inner Firebase Auth instance */\n  readonly auth: FirebaseAuth;\n\n  constructor(@Inject(APP) app: FirebaseApp, zone: NgZone) {\n\n    // Gets the firebase Auth instance\n    this.auth = zone.runOutsideAngular( () => app.auth() );\n\n    // Builds the authentication state observable (sign-in/out)\n    this.state$ = new Observable<User>(subscriber => this.auth.onAuthStateChanged(\n      // Runs the observable within the Angular's zone\n      (value: User) => zone.run( () => subscriber.next(value) ),\n      // Runs the observable within the Angular's zone\n      (error: any) => zone.run( () => subscriber.error(error) ),\n      // Runs the observable within the Angular's zone\n      () => zone.run( () => subscriber.complete() )\n\n    )).pipe( shareReplay({ bufferSize: 1, refCount: false }) );\n\n    // Builds the user observable (this includes it token refreshes)\n    this.user$ = new Observable<User>(subscriber => this.auth.onIdTokenChanged(\n      // Runs the observable within the Angular's zone\n      (value: User) => zone.run( () => subscriber.next(value) ),\n      // Runs the observable within the Angular's zone\n      (error: any) => zone.run( () => subscriber.error(error) ),\n      // Runs the observable within the Angular's zone\n      () => zone.run( () => subscriber.complete() )\n\n    )).pipe( shareReplay({ bufferSize: 1, refCount: false }) );\n  }\n\n  /** Current user object snapshot */\n  public get user(): User { \n    return this.auth.currentUser; \n  }\n  \n  /** Returns true if user is logged in */\n  public get authenticated(): boolean {\n    return !!this.user;\n  }\n\n  /** Returns the current user id, when authenticated */\n  public get userId(): string {\n    return this.authenticated ? this.user.uid : '';\n  }\n\n  /** Returns the provider id the current user authenticated with */\n  public getProviderId(): Promise<string> {\n    // Resolves to '' when not authenticated\n    if(!this.authenticated) { return Promise.resolve(''); }\n    // Provides the id token result's related provider\n    return this.user.getIdTokenResult().then( result => result.signInProvider );\n  }\n\n  /** Sets/Gets the code for the language to be used during the authentication */\n  public get locale(): string { return this.auth.languageCode; }\n  public setLocale(code: string) { this.auth.languageCode = code; }\n\n  /**\n   * Registers a new user by email and confirmPasswordReset\n   * @param email the email to register with\n   * @param password the secret password\n   * @param name (optional) the user name\n   * @returns the authenticated User object\n   */\n  public registerNew(email: string, password: string, displayName: string = \"\"): Promise<User> {\n    \n    console.log(\"Registering a new user: \" + email);\n    // Create a new user with email and password\n    return this.auth.createUserWithEmailAndPassword(email, password)\n      // Update the user info with the given name\n      .then( credential => credential.user.updateProfile({ displayName })\n        // Returns the updated User object\n        .then( () => credential.user )\n      );\n  }\n\n  /**\n   * Signs in with the given user email and password\n   * @param email the email to register with\n   * @param password the secret password \n   * @returns the authenticated User object\n   */\n  public signIn(email: string, password: string): Promise<User>  {\n    \n    console.log(\"Signing in as: \", email);\n\n    return this.auth.signInWithEmailAndPassword(email, password)\n      .then( credential => credential.user );\n  }\n\n  /** Initializes the requested provider for further use */\n  public setupProvider(providerId: string): AuthProvider {\n\n    switch(providerId) {\n\n      case 'google': case 'google.com':\n      return new auth.GoogleAuthProvider();\n\n      case 'facebook': case 'facebook.com':\n      return new auth.FacebookAuthProvider();\n \n      case 'twitter': case 'twitter.com':\n      return new auth.TwitterAuthProvider();\n      \n      case 'github': case 'github.com':\n      return new auth.GithubAuthProvider();\n    }\n\n    return null;\n  }\n\n  /** \n   * Signs in using the given provider \n   * @param provider the name of the provider to sign in with\n   * @returns the authenticated User object\n   */\n  public signInWith(providerId: string): Promise<User> {\n\n    console.log(\"Signing-in using: \", providerId);\n\n    // Setup the provider \n    const authProvider = this.setupProvider(providerId);\n    if(authProvider === null) {\n      return Promise.reject({\n        code: 'auth/unsupported-provider',\n        message: 'Unsupported provider'\n      });\n    }\n\n    // Authenticate the user with the provider\n    return this.auth.signInWithPopup(authProvider)\n      .then( credential => credential.user );\n  }\n\n  /** \n   * Refreshes the current authentication repeating the secret password \n   * @param password the secret password \n   * @returns the authenticated User object\n   */\n  public reauthenticate(password?: string): Promise<User> {\n\n    // Dismiss the re-authentication attempt whenever the user isn't authenitcated\n    if(!this.authenticated) { \n      return Promise.reject({\n        code: 'auth/user-not-authenticated',\n        message: 'User not authenticated'\n      });\n    }\n\n    // Checks the provider the user lastly authenticated with\n    return this.user.getIdTokenResult().then( result => {\n\n      if(result.signInProvider !== 'password') {\n\n        // Setup the provider \n        const authProvider = this.setupProvider(result.signInProvider);\n        if(authProvider === null) {\n          return Promise.reject({\n            code: 'auth/unsupported-provider',\n            message: 'Unsupported provider'\n          });\n        }\n\n        // Re-authenticate the user with the same provider\n        return this.user.reauthenticateWithPopup(authProvider)\n          .then( credentials => credentials.user );  \n      }\n\n      console.log(\"Refreshing authentication: \", this.user.email);\n      // Gets fresh credentials for the current user\n      const credential = auth.EmailAuthProvider.credential(this.user.email, password);\n      // Re-authenticate the user with the fresh credentials\n      return this.user.reauthenticateWithCredential(credential)\n        .then( credential => credential.user ); \n    });\n  }\n\n  /** Signs out */\n  public signOut(): Promise<void> {\n    \n    console.log(\"Signing-out\");\n    return this.auth.signOut();\n  }\n  \n  /** Applies the received action code to complete the requested action */\n  public applyActionCode(code: string): Promise<void> {\n\n    console.log(\"Applying action with code: \", code);\n    return this.auth.applyActionCode(code);\n  }\n\n  /**\n   * Sends an email to the user to resets the account password\n   * @param url (optional) the link to be passed as the continueUrl query parameter\n   */\n  public sendPasswordResetEmail(email: string, url?: string): Promise<void> {\n    \n    console.log(\"Resetting the password for: \", email);\n    return this.auth.sendPasswordResetEmail(email, url ? { url } : undefined );\n  }\n\n  /** Confirms the new password completing a reset */\n  public confirmPasswordReset(code: string, newPassword: string): Promise<void> {\n\n    console.log(\"Confirming the password with code: \", code);\n    return this.auth.confirmPasswordReset(code, newPassword);\n  }\n}","import { NgModule, ModuleWithProviders, Optional, Inject } from '@angular/core';\nimport { GtagConfig, GtagConfigToken, gtagFactory } from './gtag-factory';\nimport { GtagService, GTAG } from './gtag.service';\nimport { GtagDirective } from './gtag.directive';\n\n@NgModule({\n  declarations: [ GtagDirective ],\n  exports: [ GtagDirective ]\n})\nexport class GtagModule {\n\n  static init(config: GtagConfig): ModuleWithProviders<GtagModule> {\n    return {\n      ngModule: GtagModule,\n      providers: [\n        GtagService,\n        { provide: GtagConfigToken, useValue: config },\n        { provide: GTAG,\n          useFactory: gtagFactory, \n          deps: [ [ new Optional(), new Inject(GtagConfigToken) ] ] }\n      ]\n    };\n  } \n}","export * from './lib/autocomplete';\nexport * from './lib/run-in-zone';\nexport * from './lib/zone-stable';\nexport * from './lib/on-stable';\nexport * from './lib/tap-once';\nexport * from './lib/append';","import { Router, UrlTree,CanActivate,ActivatedRouteSnapshot, RouterStateSnapshot, NavigationExtras } from '@angular/router';\nimport { Observable, UnaryFunction, pipe, from, of } from 'rxjs';\nimport { AuthService, User } from './auth.service';\nimport { Injectable } from '@angular/core';\nimport { take, map, switchMap } from 'rxjs/operators';\n\n/** AuthGuard pipe operator */\nexport type AuthPipe = UnaryFunction<Observable<User|null>, Observable<boolean>>;\n\n/** AuthGuard redirection object */\nexport interface AuthRedirect { commands: any[], extras?: NavigationExtras };\n\n/** AuthGuard pipe operator with redirection */\nexport type AuthPipeWithRedirect = UnaryFunction<Observable<User|null>, Observable<boolean|AuthRedirect>>;\n\n/** AuthGuard pipe redirection factory */\nexport type AuthPipeFactory = (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => AuthPipe|AuthPipeWithRedirect;\n\n/** Checks the user for being authenticated */\nexport const loggedIn: AuthPipe = map( user => !!user );\n\n/** Authentication Guard */\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  constructor(readonly router: Router, readonly auth: AuthService) { }\n\n  // Implements single route user authentication guarding\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean|UrlTree> {\n\n    // Gets the AuthPipeFactory from the route data\n    const authPipeFactory: AuthPipeFactory = route.data.authGuardPipe || (() => loggedIn);\n\n    // Returns an observable resolving the AuthState\n    return this.auth.state$.pipe(\n\n      // Builds the Auth pipe according to the route\n      authPipeFactory(route, state),\n\n      // Maps the Auth pipe results\n      map( proceedOrRedirect => {\n\n        // Returns the boolean fvalue to prevent or proceed with the navigation\n        if(typeof proceedOrRedirect === 'boolean') { return proceedOrRedirect; }\n\n        // Redirect according to the AuthRedirect\n        return this.router.createUrlTree(proceedOrRedirect.commands || ['/'], proceedOrRedirect.extras);\n      }),\n\n      take(1)\n    );\n  }\n}\n\n/** Checks the user for having the email verified */\nexport const emailVerified: AuthPipe = map( user => !!user && user.emailVerified );\n\n/** idTokenResult pipe operator */\nexport const idTokenResult = switchMap((user: User|null) => user ? from( user.getIdTokenResult() ) : of(null));\n\n/** Gets the users custom claims pipe operator */\nexport const customClaims = pipe( idTokenResult,  map( results => results && results.claims || {} ) );\n\n/** AuthGuard redirection helper */\nexport const authRedirect = (commands: any[], extras?:NavigationExtras ) => ({ commands, extras });\n\n/** canActivate helper function */\nexport const canActivate = (pipe: AuthPipeFactory) => ({\n  canActivate: [ AuthGuard ], data: { authGuardPipe: pipe }\n});\n\n","import { InjectionToken } from '@angular/core';\n\n/** HasTouchScreen injection token */\nexport const HasTouchScreen = new InjectionToken<boolean>('wizdm-has-touchscreen', {\n  providedIn: 'root',\n  factory: () => {\n\n    const nav = window && window.navigator;\n    if(!nav) { return false; } \n\n    if(\"maxTouchPoints\" in nav && nav.maxTouchPoints > 0) {\n      return true;\n    }\n\n    if(\"msMaxTouchPoints\" in nav &&  nav.msMaxTouchPoints > 0) {\n      return true;\n    } \n\n    const mQ = window.matchMedia && window.matchMedia(\"(pointer:coarse)\");\n    if(mQ && mQ.media === \"(pointer:coarse)\") {\n      return !!mQ.matches;\n    }\n\n    if(\"orientation\" in window) {\n      return true; // deprecated, but good fallback\n    }\n\n    // Only as a last resort, fall back to user agent sniffing\n    return /\\b(BlackBerry|webOS|iPhone|IEMobile|Android|Windows Phone|iPad|iPod)\\b/i.test(nav.userAgent);\n  }\n});","export * from './collection';\nexport * from './group';\nexport * from './query';\nexport * from './types';","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { zip, tap, catchError } from 'rxjs/operators';\nimport { ContentConfigurator } from './content-configurator.service';\nimport { Observable, ReplaySubject, of, forkJoin } from 'rxjs';\n\nexport interface LoaderCache {\n  [key:string]: string;\n  lang: string;\n}\n\n/** Loader to load the content dynamically from JSON files */\n@Injectable()\nexport class ContentLoader {\n\n  /** Content data observable */\n  readonly data$ = new ReplaySubject<LoaderCache>(1);\n  // Data snapshot keeps track of the currenlty selected language as well\n  protected data: LoaderCache;\n\n  constructor(readonly config: ContentConfigurator, readonly http: HttpClient) {}\n\n  /** Returns the cached data */\n  public get cache(): LoaderCache { return this.data || this.flush(); }\n  \n  /** Returns the current language as a two digit code */\n  public get language(): string { return this.cache.lang; }\n\n  /** Flushes the cache */\n  public flush(lang: string = this.config.defaultValue): LoaderCache { return this.data = { lang }; }\n\n  /** Checks if the requested language is allowed reverting to the default one otherwise  */\n  public languageAllowed(lang: string): string {\n    return this.config.supportedValues.find( allowed => allowed === lang ) || this.config.defaultValue;\n  }\n\n  /** Load the requested module in the specified language \n   * param lang the two digit language ContentLoader\n   * param moduleName the json file name to load\n   */\n  public loadFile(path: string, lang: string, name: string): Observable<any> {\n\n    // Flushes the cache when switching language\n    if(lang !== this.language) { this.flush(lang); }\n\n    // Returns the data from the cache whenever possible\n    if(!!this.cache[name]) { return of(this.cache[name]); }\n\n    // Let's load\n    console.log('loading:', path, lang, name);\n\n    // Always load the default module together with the requested one\n    return forkJoin(\n      // Default language file (full)\n      this.http.get(`${path}/${this.config.defaultValue}/${name}.json`),\n      // Loads the requested language file only when differs from he default language\n      this.language !== this.config.defaultValue ? \n        // Requested language file (partial)\n        this.http.get(`${path}/${this.language}/${name}.json`).pipe(\n        // Reverts to the default language in case of errors (basically it pass an empty object \n        // since default content will be merged in the next map() )\n          catchError( () => of({}) )\n          // Skips unnecessary loading\n        ) : of({})\n\n    ).pipe( \n      // Packs the result by merging the modules whenever necessary\n      zip( data => this.language === this.config.defaultValue ? data[0] : this.merge(data[1], data[0]) ),\n      // Caches the content for further requests\n      tap( data => {\n        this.cache[name] = data;\n        this.data$.next(this.cache);\n      })\n    );\n  }\n\n  /** Deep merges the localModule with the defaultModule */\n  private merge(localModule: any, defaultModule: any): any {\n\n    // Done recurring when default module is no longer available\n    if(!!defaultModule) {\n\n      // Treat arrays as a special case, so, to keep them as array\n      if( Array.isArray(defaultModule) ) {\n\n        // Overrides the locale array with tht default when they do not match\n        if(!Array.isArray(localModule) || localModule.length !== defaultModule.length) {\n          localModule = defaultModule; \n        }\n        else { \n          // Recurs down the tree merging the array content\n          defaultModule.forEach( (_, index) =>  localModule[index] = this.merge(localModule[index], defaultModule[index]) ); \n        }\n      }\n      else {\n\n        // Merges the object properties otherwise\n        Object.keys(defaultModule).forEach( key => {\n\n          // Copies each missing property\n          if(!localModule[key]) { localModule[key] = defaultModule[key]; }\n\n          // Recurs down the children properties otherwise\n          else if(typeof localModule[key] === 'object') {\n\n            localModule[key] = this.merge(localModule[key], defaultModule[key]);\n          }\n        });\n      }\n    }\n    // Returns the merged object\n    return localModule;\n  }\n}","import { DocumentRef, DocumentSnapshot, DocumentData, ListenOptions } from './types';\nimport { Observable, throwError } from 'rxjs';\nimport { NgZone } from '@angular/core';\n\nexport function refReject(): Promise<never> {\n  return Promise.reject( new Error('Document reference is null or undefined') );\n}\n\n/** Builds an Observable od DocumentSnapshots from a Document ref */\nexport function fromRef<T>(ref: DocumentRef<T>, zone: NgZone, options?: ListenOptions): Observable<DocumentSnapshot<T>> {\n  // Throw an error when the referencec is missing\n  if(!ref) { return throwError(new Error(\"Missing Reference\") ); }\n  // Returns an obsevable wrapping the onSnapshot observer and running within Angular's zone\n  return new Observable<DocumentSnapshot<T>>( subscriber => ref.onSnapshot( options || {},\n    // Runs the observable within the Angular's zone\n    (value: DocumentSnapshot<T>) => zone.run( () => subscriber.next(value) ),\n    // Runs the observable within the Angular's zone\n    (error: any) => zone.run( () => subscriber.error(error) ),\n    // Runs the observable within the Angular's zone\n    () => zone.run( () => subscriber.complete() )\n  ));\n}\n\n/** Helper function to map a DocumetnSnapshot into its data payload */\nexport function mapSnaphotData<T extends DocumentData>(snapshot: DocumentSnapshot<T>): T {\n// Skips undefined data or a missing document\n  if(!snapshot || !snapshot.exists) { return undefined; }\n  // Gets the data first\n  const data = snapshot.data();\n  // Ensures to add the id to the data payload\n  data.id = snapshot.id;\n  // Returns the mapped data\n  return data;\n}","import { Component, Input, Output, EventEmitter, Optional } from '@angular/core';\nimport { rmSegment, rmText, rmLink } from './readme-types';\nimport { EmojiMode } from '@wizdm/emoji/utils';\n\n/** Navigation service token */\nexport abstract class ReadmeNavigator {\n  public abstract navigate(url: string): boolean|Promise<boolean>;\n}\n\n@Component({\n  selector: '[wm-readme]',\n  templateUrl: './readme.component.html',\n  host: { 'class': 'wm-readme' }\n})\nexport class ReadmeComponent {\n\n  readonly segments: rmSegment[] = [];\n\n  constructor(@Optional() private navigator: ReadmeNavigator) {\n\n    if(!!navigator && typeof(navigator.navigate) !== 'function') {\n      throw new Error('Invalid ReadmeNavigator provided!');\n    }\n  }\n\n  /** Plain text souce input */\n  @Input('wm-readme') set parse(source: string) {\n    this.compile(source); \n  }\n\n  /** Emoji Rendering Mode */\n  @Input() emojiMode: EmojiMode;\n\n  /** Emits the url to navigate to */\n  @Output('navigate') nav = new EventEmitter<string>();\n\n  // Tracking function to render the segments by content preventing re-rendering segments where content is unchanged\n  public trackByFn(index: number, item: rmSegment) {\n    return item.type + (item as rmText).content || '' + (item as rmLink).url || '';\n  }\n\n  /** Compiles the input text into segments */\n  private compile(source: string): rmSegment[] {\n\n    // Resets the segments array\n    this.segments.splice(0);\n    // Skips null or emptiy sources\n    if(!source) { return this.segments; }\n\n    /** Parsing regex:\n     * 1st - Styling match - \"([*+_~])(.*?[^\\\\])\\1\" \n     * Matches sequences starting with '*', '+', '_' or '~' end ending with the very same character as soon as it isn't preceeded by a '\\' \n     * to render <b>, <i>, <u> or <s> elements respectively.\n     * 2nd - Anchor match - \"\\[(.*?)\\]\\((.+?)\\)\"\n     * matches text within square brakets followed by an url within round brakets '[text](url)' to render as anchors <a> elements.\n     * 3rd - Escape match - Matches backslashes followed by one of the special chars to renders the char as it is.\n     * 4th - Break match: '\\n' \n     * matches the newline charachers to render <br> elements \n     */\n    let start = 0; let match; const rx = /([*+_~])(.*?[^\\\\])\\1|\\[(.*?)\\]\\((.+?)\\)|\\\\([*+_~])|\\n/g;\n    while(match = rx.exec(source)) {\n\n      // Prevents the zero-length match infinite loop for all browsers\n      if(match.index == rx.lastIndex) { rx.lastIndex++ };\n\n      // Pushes the text preceeding a match \n      if(match.index > start){ \n        const content = source.substring(start, match.index);\n        this.segments.push({ type: \"text\", content });   \n      }\n \n      // Breaks\n      if(match[0] === '\\n') { this.segments.push({ type: \"break\" }); }\n      // Styled texts\n      else if(match[1]) { \n\n        const type = match[1] === '*' ? 'bold' : ( match[1] === '+' ? 'italic' : ( match[1] === '_' ? 'underline' : 'strikethrough' ));\n        this.segments.push( { type, content: match[2] });\n      }\n      // Links\n      else if(match[3]) { this.segments.push({ type: \"link\", content: match[3], url: match[4] }); }\n      // Escapes\n      else if(match[5]) { this.segments.push({ type: \"text\", content: match[5] }); };\n\n      // Moves to the next text segment\n      start = match.index + match[0].length;\n    }\n\n    // Appends the final text chunk \n    if(rx.lastIndex < source.length) {\n      const content = source.substring(start, source.length);\n      this.segments.push({ type: \"text\", content });\n    }\n\n    return this.segments;\n  }\n\n  /** True whenever the navigate output is used */\n  get eventNavigation(): boolean { return this.nav.observers.length > 0; }\n\n  /** True whenever a ReadmeNavigator has been provided */\n  get serviceNavigation(): boolean { return !!this.navigator; }\n\n  /** Navigates to the specified url */\n  public navigate(url: string): boolean {\n    // Emits on the navigate output\n    if(this.eventNavigation) { return this.nav.emit(url), false; }\n    // Calls upon the ReadmeNavigator\n    if(this.serviceNavigation) { return this.navigator.navigate(url), false; }\n    // No navigation handlers...\n    console.log(\"Navigation missed:\", url);\n    // Prevents default\n    return false;\n  }\n}\n","\n<!-- Projects the parent's content when no rendering occurs -->\n<ng-content *ngIf=\"segments.length === 0\"></ng-content>\n\n<!-- Loops on the segments -->\n<ng-container *ngFor=\"let segment of segments; trackBy: trackByFn\">\n\n  <ng-container [ngSwitch]=\"segment.type\">\n\n    <!-- Renders the text with emoji support from EmojiTextModule -->\n    <span *ngSwitchCase=\"'text'\" [wm-emoji-text]=\"segment.content\" [mode]=\"emojiMode\"></span>\n\n    <!-- Styles the text as Bold -->\n    <b *ngSwitchCase=\"'bold'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></b>\n\n    <!-- Styles the text as Italic -->\n    <i *ngSwitchCase=\"'italic'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></i>\n\n    <!-- Styles the text as Undelined -->\n    <u *ngSwitchCase=\"'underline'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></u>\n\n    <!-- Styles the text as Strikethrough -->\n    <s *ngSwitchCase=\"'strikethrough'\" [wm-readme]=\"segment.content\" (navigate)=\"navigate($event)\"></s>\n\n    <!-- Stles the text as an Anchor -->\n    <a *ngSwitchCase=\"'link'\" [href]=\"segment.url\" [wm-readme]=\"segment.content\" (click)=\"navigate(segment.url)\"></a>\n\n    <!-- Adds a line break -->\n    <br *ngSwitchCase=\"'break'\" />\n\n  </ng-container>\n\n</ng-container>\n","import { Observable, OperatorFunction } from 'rxjs';\nimport type { NgZone } from '@angular/core';\n\n/** Returns an observable mirroring the source while running within the given zone */\nexport function runInZone<T>(zone: NgZone): OperatorFunction<T, T> {\n\n  return source => new Observable( observer => {\n    return source.subscribe(\n      (value: T) => zone.run(() => observer.next(value)),\n      (e: any) => zone.run(() => observer.error(e)),\n      () => zone.run(() => observer.complete())\n    );\n  });\n}","import { ScrollDispatcher, ViewportRuler } from '@angular/cdk/scrolling';\nimport { map, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport { DOCUMENT, ViewportScroller } from '@angular/common';\nimport { Injectable, Inject } from '@angular/core';\nimport { Observable, interval, merge } from 'rxjs';\n\nexport interface ScrollInfo {\n  top: number;\n  bottom: number;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class ScrollObservable extends Observable<ScrollInfo> {\n\n  public get height(): number { \n    return this.document.body.scrollHeight || 0; \n  }\n\n  constructor(private scroller: ViewportScroller, private ruler: ViewportRuler, @Inject(DOCUMENT) private document: Document, dispatcher: ScrollDispatcher) { \n\n    super( subscriber => dispatcher.scrolled(0).pipe( \n      // Always starts with a value\n      startWith(null), \n      // Maps into the scroll info value\n      map( () => this.scrollInfo() ),\n      // Merges the scrolling emission with a 1s polling\n      source => merge(source, interval(1000).pipe( map(() => this.scrollInfo() ) ) ), \n      // Filters out euqal values\n      distinctUntilChanged((x,y) => x.top === y.top && x.bottom === y.bottom)\n\n    ).subscribe( subscriber ) );\n  }\n\n  public scrollInfo(): ScrollInfo {\n\n    const rt = this.ruler.getViewportRect();\n\n      return {\n\n        top: rt.top,\n        bottom: this.height - rt.height - rt.top\n      };\n  }\n\n  public scrollTo(pos: Partial<ScrollInfo>) {\n\n    if(pos.top !== undefined) { \n      this.scroller.scrollToPosition([0, pos.top]); \n    }\n\n    if(pos.bottom !== undefined) { \n      this.scroller.scrollToPosition([0, this.height - pos.bottom]); \n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { EmojiImage } from './emoji-image.directive';\n\n@NgModule({\n  declarations: [ EmojiImage ],\n  exports: [ EmojiImage ]\n})\nexport class EmojiImageModule { }","import { Injectable, InjectionToken, Inject, NgZone } from '@angular/core';\nimport { Gtag, EventParams, CustomParams, Product, Promotion, Action, Content } from './gtag-definitions';\nimport { GtagConfigToken, GtagConfig } from './gtag-factory';\n\nexport const GTAG = new InjectionToken<Gtag>('wizdm.gtag.instance');\n\n@Injectable()\nexport class GtagService {\n\n  constructor(@Inject(GTAG) private gtag: Gtag, @Inject(GtagConfigToken) private config: GtagConfig, private zone: NgZone) { }\n\n  /** Disables the analytics for the given measurement id. Defaults to the targetId from the global confguration when unspecified.\n   * @see: https://developers.google.com/analytics/devguides/collection/gtagjs/user-opt-out */\n  public disable(value: boolean = true, id: string = this.config.targetId) {\n    window[`ga-disable-${id}`] = value;\n  }\n\n  /** Helper function to re-enable analytics after it was disabled */\n  public enable() { return this.disable(false); }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/setting-values */\n  public set(params: CustomParams): void {\n    return this.gtag('set', params);\n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/events */\n  public event(action: string, params?: EventParams): Promise<void> {\n    // Wraps the event call into a Promise\n    return this.zone.runOutsideAngular( () => new Promise( (resolve, reject) => {\n      try { \n        // Triggers a 1s time-out timer \n        const tmr = setTimeout( () => reject( new Error('gtag call timed-out')), this.config.timeout || 10000 );\n        // Performs the event call resolving with the event callback\n        this.gtag('event', action, { ...params, event_callback: () => { clearTimeout(tmr); resolve(); }}); } \n      // Rejects the promise on errors\n      catch(e) { reject(e); }\n    }));\n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/pages */\n  public pageView(page_title?: string, page_path?: string, page_location?: string) { \n    return this.event('page_view', { page_title, page_location, page_path }); \n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/exceptions */\n  public exception(description?: string, fatal?: boolean) { \n    return this.event('exception', { description, fatal }); \n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/user-timings */\n  public timingComplete(name: string, value: number, event_category?: string, event_label?: string) { \n    return this.event('timing_complete', { name, value, event_category, event_label }); \n  }\n\n  /** @see: https://developers.google.com/analytics/devguides/collection/gtagjs/screens */\n  public screenView(app_name: string, screen_name: string, app_id?: string, app_version?: string, app_installer_id?: string) { \n    return this.event('screen_view', { app_name, screen_name, app_id, app_version, app_installer_id }); \n  }\n\n  public login(method?: string) {\n    return this.event('login', { method });\n  }\n\n  public signUp(method?: string) {\n    return this.event('sign_up', { method });\n  }\n\n  public search(search_term?: string) {\n    return this.event('search', { search_term });\n  }\n\n  public selectContent(content?: Content) {\n    return this.event('select_content', content);\n  }\n\n  public share(method?: string, content?: Content) {\n    return this.event('share', { method, ...content });\n  }\n\n   public generateLead(action?: Action) {\n    return this.event('generate_lead', action);\n  }\n\n  public viewItem(items?: Product[]) {\n    return this.event('view_item', { items });\n  }\n\n  public viewItemList(items?: Product[]) {\n    return this.event('view_item_list', { items });\n  }\n\n  public viewPromotion(promotions?: Promotion[]) {\n    return this.event('view_promotion', { promotions });\n  }\n\n  public viewSearchResults(search_term?: string) {\n    return this.event('view_search_results', { search_term });\n  }\n\n  public addPaymentInfo() {\n    return this.event('add_payment_info');\n  }\n\n  public addToCart(action?: Action) {\n    return this.event('add_to_cart', action);\n  }\n\n  public addToWishlist(action?: Action) {\n    return this.event('add_to_wishlist', action);\n  }\n\n  public beginCheckout(action?: Action) {\n    return this.event('begin_checkout', action);\n  }\n\n  public checkoutProgress(action?: Action) {\n    return this.event('checkout_progress', action);\n  }\n\n  public purchase(action?: Action) {\n    return this.event('purchase', action);\n  }\n\n  public refund(action?: Action) {\n    return this.event('refund', action);\n  }\n\n  public removeFromCart(action?: Action) {\n    return this.event('remove_from_cart', action);\n  }\n\n  public setCheckoutOption(checkout_step?: number, checkout_option?: string) {\n    return this.event('set_checkout_option', { checkout_step, checkout_option });\n  }\n}","import { filter, pluck, skip, auditTime, timeInterval } from 'rxjs/operators';\nimport { MonoTypeOperatorFunction, merge } from 'rxjs';\n\nexport function autocomplete<T>(time: number): MonoTypeOperatorFunction<T> {\n  \n  return source => merge( \n    // Pick the first value immediately whenever 'time' elapsed since last emission\n    source.pipe( \n      \n      timeInterval(),\n\n      filter( payload => payload.interval === 0 || payload.interval >= time ), \n\n      pluck('value')\n    ),\n    // Audits every 'time' than\n    source.pipe( auditTime(time), skip(1) ) \n  );\n}","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif(environment.production) {\n\n  // Disables logs to console\n  window['console']['log'] = () => {};\n  \n  // Enables Angular's production mode\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import { DatabaseCollection, CollectionRef } from '../collection';\nimport { map, tap, distinctUntilChanged } from 'rxjs/operators';\nimport { DatabaseApplication, FieldValue } from '../database-application';\nimport { Observable, BehaviorSubject, merge } from 'rxjs';\nimport { DocumentData } from '../document';\n\n/** The single shard composing the counter */\nexport interface CounterShard extends DocumentData {\n  count: number;\n}\n\n/** Implements a DistributedCounter extending a DatabaseCollection */\nexport class DistributedCounter extends DatabaseCollection<CounterShard> {\n  \n  /** Observable streaming the counter value */\n  readonly counter$: Observable<number>;\n  private _counter$: BehaviorSubject<number>; \n\n  constructor(db: DatabaseApplication, ref: string|CollectionRef<CounterShard>, readonly shards) {\n    super(db, ref);\n\n    // Makes sure shards are fine\n    if(shards <= 0) { throw new Error(\"Coounter shards must be a positive integer greater than 0\"); }\n\n    // Creates a local copy of the counter \n    this._counter$ = new BehaviorSubject<number>(0);\n    // Builds the counter observable merging the local counter with the remote one to improve reactivity\n    this.counter$ = merge( \n      // Merges the local counter copy...\n      this._counter$,\n      // With the distributed counter value, keeping the local copy up to do date \n      this.accumulate().pipe( tap( counter => this._counter$.next(counter) ) )\n      // Distinca only effective counter changes\n    ).pipe( distinctUntilChanged() );\n  }\n\n  // Streams the current counter value accumulating the shards\n  private accumulate() {\n\n    return this.stream().pipe( \n      map( counters => {\n        return !!counters ? counters.reduce( (sum, shard) => {\n          return sum + (shard.count || 0);\n        }, 0) : 0;\n      })\n    );\n  }\n\n  /** Updates the counter by the given increment (or decrement) */\n  public update(increment: number): Promise<any> {\n    // Updates the local copy first to improve reactivity\n    this._counter$.next(this._counter$.value + increment);\n    // Pick a shard randomly\n    const rnd = Math.floor(Math.random() * this.shards);\n    const shard = this.ref.doc(rnd.toString());\n    // Runs the shard update within a transaction\n    return this.db.transaction( trx => {\n      // Tests if the single shard exists (1 read)\n      return trx.snap(shard).then( snap => {\n        // Updates the shard value (1 write)\n        if(snap.exists) { \n          // Uses the special FieldValue as increment\n          const count: any = this.db.increment(increment);\n          // Updates the shard (1 write)\n          return trx.update(shard, { count });\n        }\n        // Creates the shard with the given initial value (1 write)\n        return trx.set(shard, { count: increment });\n      });\n    });\n  }\n\n  // Creates the shards in a batch initializing the counter value\n  public create(start = 0): Promise<void> {\n    // Uses firestore references directly\n    const batch = this.db.batch();\n    // Inits the first shard with the starting value\n    batch.set(this.ref.doc('0'), { count: start });\n    // Loops to create the additional shards\n    for(let i = 1; i < this.shards; i++) {\n      batch.set(this.ref.doc(i.toString()), { count: 0 });\n    }\n    // Commit the changes\n    return batch.commit();\n  }\n}\n","import { filter, scan, tap, map, shareReplay, withLatestFrom } from 'rxjs/operators';\nimport { Injectable, OnDestroy, NgZone } from '@angular/core';\nimport { Router, NavigationStart, Scroll } from '@angular/router';\nimport { Observable, Subscription, combineLatest } from 'rxjs';\nimport { onStable } from '@wizdm/rxjs'\n\n/** Replays the router scrolling event globally */\n@Injectable({ providedIn: 'root' })\nexport class RouterScroll extends Observable<Scroll> implements OnDestroy {\n\n  private inner$: Observable<Scroll>;\n  private sub: Subscription;\n\n  constructor(private router: Router, zone: NgZone) { \n\n    // Subscribes to the inner observable\n    super( subscriber => this.inner$.subscribe(subscriber) );\n\n    // Builds the inner observable\n    this.inner$ = router.events.pipe( \n      \n      // Filters for the Scroll events\n      filter<Scroll>( e => e instanceof Scroll ),\n\n      // Tracks the source url on NavigationStart\n      withLatestFrom( router.events.pipe( filter( e => e instanceof NavigationStart ), map( () => this.router.url ) ) ),\n\n      // Filters out emission towards the same url independently from the language (first segment)\n      filter( ([ scroll, start ]) => {\n\n        // Picks the destination url...\n        const end = scroll.routerEvent.urlAfterRedirects || scroll.routerEvent.url;\n\n        // Compares the source and dest urls\n        return start.replace(/^\\/[^/]+/, '') !== end.replace(/^\\/[^/]+/, '');\n      }), \n\n      // Extracts the Scroll event only\n      map( ([scroll]) => scroll ),\n\n      // Waits to emit until the NgZone is stable (aka rendering completed)\n      onStable(zone),\n\n      // Replays the same last valu to every subscriber\n      shareReplay(1)\n    );\n\n    // Subscribes to keep the latest scroll event up to date\n    this.sub = this.inner$.subscribe( /* scroll => console.log('Last Scroll Value:', scroll) */ );\n  }\n\n  // Disposes of the subscription\n  ngOnDestroy() { this.sub.unsubscribe(); }\n}\n","import { Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { EmojiRegex, EmojiNative } from './emoji-utils';\n\n/** Emoji Rendering Mode */\nexport type EmojiMode = 'auto'|'native'|'web';\n\nexport interface EmojiConfig {\n\n  emojiPath?: string; //assets/...\n  emojiExt?: string; //.png, .svg, ...\n  emojiMode?: EmojiMode; //'auto'\n};\n\nexport const EmojiConfigToken = new InjectionToken<EmojiConfig>('wizdm-emoji-config');\n\n@Injectable()\nexport class EmojiUtils {\n\n  private readonly filePath: string;\n  private readonly fileExt: string;\n\n  constructor(@Inject(EmojiNative) readonly native: boolean,\n              @Inject(EmojiRegex) readonly regex: RegExp,\n              @Optional() @Inject(EmojiConfigToken) private config: EmojiConfig) { \n\n    // Grabs the source path and the image extension from the configuration object\n    this.filePath = this.assessPath(config && config.emojiPath) || 'assets/emoji/';\n    this.fileExt  = this.assessExt(config && config.emojiExt)  || '.png';\n  }\n\n  private assessPath(path: string): string {\n    return path ? (path.endsWith('/') ? path : (path + '/')) : '';\n  }\n\n  private assessExt(ext: string): string {\n    return ext ? (ext.startsWith('.') ? ext : ('.' + ext)) : '';\n  }\n\n  /** Returns the most suitable emoji mode based on the request */\n  public emojiMode(mode?: EmojiMode): Exclude<EmojiMode, 'auto'> {\n\n    switch(mode || (this.config?.emojiMode) || 'auto') {\n\n      case 'native': \n      return 'native';\n      \n      case 'web': \n      return 'web';\n    }\n\n    return this.native ? 'native' : 'web';\n  }\n\n  /** Computes the full path to load the image corersponding to the given emoji */\n  public imageFilePath(emoji: string): string {\n\n    if(!emoji) { return ''; }\n\n    const pts: string[] = [];\n\n    for (let cp of emoji) {\n      pts.push(cp.codePointAt(0).toString(16));\n    } \n\n    return this.filePath + pts.join('-') + this.fileExt;\n  }\n\n  public isEmoji(source: string): boolean {\n    return this.regex.test(source);\n  }\n\n  public matchEmojiCodes(source: string): RegExpExecArray {\n    this.regex.lastIndex = 0;\n    return this.regex.exec(source);\n  }\n\n  /** Parses the source text searching for emoji unicode sequences */\n  public parseEmojiCodes(source: string, callbackfn: (match: string, index: number) => void) {\n\n    if(typeof callbackfn !== 'function') {\n      throw new Error('Callback must be a funciton');\n    }\n\n    // Resets the starting position\n    this.regex.lastIndex = 0;\n\n    // Loop on RegExp matches\n    let match;\n    while(match = this.regex.exec(source)) {\n      callbackfn(match[0], match.index);\n    }\n  }\n}","import { WriteBatch, DocumentRef, DocumentData } from './types';\nimport { DatabaseApplication } from '../database-application';\n\nexport class DatabaseBatch {\n\n  constructor(readonly db: DatabaseApplication, readonly btc: WriteBatch) { }\n\n  /**\n   * Creates / destructively re-writes the document content.\n   * Adds the 'created' timestamp\n   */\n  public set<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const created = this.db.timestamp;\n    return this.btc.set(ref, {\n      ...data as any,\n      created\n    }), this;\n  }\n\n  /**\n   * Updates the document content by merging the new data with the existing one including sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public merge<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n    \n    const updated = this.db.timestamp;\n    return this.btc.set(ref, {\n      ...data as any,\n      updated\n    }, { merge: true } ), this;\n  }\n\n  /**\n   * Updates the document content with the new data. Unlike merge, it overwrites sub objects.\n   * Adds / updates the 'updated' timestamp\n   */\n  public update<T extends DocumentData>(ref: DocumentRef<T>, data: T): this {\n\n    const updated = this.db.timestamp;\n    return this.btc.update(ref, {\n      ...data as any,\n      updated\n    }), this;\n  }\n\n  /** Deletes the document */\n  public delete<T extends DocumentData>(ref: DocumentRef<T>): this {\n    return this.btc.delete(ref), this;\n  }\n\n  /** Commits the batch for multiple writes */\n  public commit(): Promise<void> {\n    return this.btc.commit();\n  }\n}\n","export * from './storage-application'; \nexport * from './storage-reference';\nexport * from './upload-observable';\nexport * from './storage.service';\nexport * from './storage.module';\n","export * from './stripe.service';\nexport * from './stripe.module';\n","import { OperatorFunction, ObservableInput, ObservedValueOf } from 'rxjs';\nimport { defer, concat } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nexport function append<T, O extends ObservableInput<any>>(observableFactory: (lastValue: T) => O, startValue?: T): OperatorFunction<T, T|ObservedValueOf<O>> {\n  \n  return source => defer(() => {\n\n    let lastValue = startValue; \n\n    return concat( \n      \n      source.pipe( tap( value => lastValue = value ) ),\n\n      defer( () => observableFactory(lastValue) )\n    );\n  }); \n}","import { of, MonoTypeOperatorFunction } from 'rxjs';\nimport type { NgZone } from '@angular/core';\nimport { switchMap, map, take } from 'rxjs/operators';\n\n/** Mirrors the source observable making sure every emission takes place while the given zone is stable */\nexport function onStable<T>(zone: NgZone): MonoTypeOperatorFunction<T> {\n\n  return switchMap( (value: T) => zone.isStable ? of(value) : zone.onStable.pipe( take(1), map(() => value) ) );\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { InterpolationPipesModule } from '@wizdm/pipes/interpolation';\nimport { ContentConfig, ContentConfigToken } from './loader/content-configurator.service';\nimport { ContentConfigurator } from './loader/content-configurator.service';\nimport { ContentLoader } from './loader/content-loader.service';\nimport { SelectorResolver } from './router/selector-resolver.service';\nimport { ContentStreamer } from './streamer/content-streamer.service';\nimport { ContentDirective } from './streamer/content.directive';\n\n@NgModule({\n  declarations: [ ContentDirective ],\n  imports: [ HttpClientModule, InterpolationPipesModule ],\n  exports: [ ContentDirective, InterpolationPipesModule ],\n  providers: [ ContentLoader, ContentStreamer ]\n})\nexport class ContentModule { \n  /** Initializes the content module with loaders. Call this once in the app root module */\n  static init(config: ContentConfig): ModuleWithProviders<ContentModule> {\n    return {\n      ngModule: ContentModule,\n      providers: [\n        // Configuration token used internally\n        { provide: ContentConfigToken, useValue: config }, \n        // Content configurator providing default values when missing \n        ContentConfigurator,\n        // Standard selector resolver provided only at root level\n        SelectorResolver\n      ]\n    }\n  }\n}","import { MonoTypeOperatorFunction } from 'rxjs';\nimport type { NgZone } from '@angular/core';\nimport { tap, take } from 'rxjs/operators';\n\n/** Calls fn every emission right after the zone has become stable */\nexport function zoneStable<T>(zone: NgZone, fn: () => void): MonoTypeOperatorFunction<T> {\n\n  return tap<T>( () => zone.isStable ? fn() : zone.onStable.pipe( take(1) ).subscribe(fn) );\n}\n","import { QueryFn, QueryRef, QuerySnapshot, QueryDocumentSnapshot, DocumentChange, DocumentChangeType, WhereFilterOp, OrderByDirection } from './types';\nimport { tap, map, scan, filter, expand, take, pluck, switchMap, mergeScan, takeWhile } from 'rxjs/operators';\nimport { DocumentData, DocumentSnapshot, GetOptions, ListenOptions } from '../document/types';\nimport { Observable, pipe, defer, OperatorFunction, MonoTypeOperatorFunction } from 'rxjs';\nimport { fromRef, combineDocumentChanges } from './utils';\nimport { mapSnaphotData } from '../document/utils';\nimport { FieldPath } from '../database-application';\nimport { NgZone } from '@angular/core';\n\nexport function query<T>(qf: QueryFn<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => qf ? qf(ref) : ref );\n}\n\nexport function where<T extends DocumentData>(field: string|FieldPath, op: WhereFilterOp, value: any): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => field ? ref.where(field, op, value) : ref );\n}\n\nexport function orderBy<T extends DocumentData>(field: string|FieldPath, dir?: OrderByDirection): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => field ? ref.orderBy(field, dir) : ref );\n}\n\nexport function limit<T extends DocumentData>(limit: number): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => limit ? ref.limit(limit) : ref );\n}\n\nexport function limitToLast<T extends DocumentData>(limit: number): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => limit ? ref.limitToLast(limit) : ref );\n}\n\nexport function startAt<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAt<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAt<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.startAt(args) : ref );\n}\n\nexport function startAfter<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAfter<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function startAfter<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.startAfter(args) : ref );\n}\n\nexport function endBefore<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endBefore<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endBefore<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.endBefore(args) : ref );\n}\n\nexport function endAt<T extends DocumentData>(snapshot: DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endAt<T extends DocumentData>(...fieldValues: any[]): MonoTypeOperatorFunction<QueryRef<T>>;\nexport function endAt<T extends DocumentData>(args: any[]|DocumentSnapshot<T>): MonoTypeOperatorFunction<QueryRef<T>> {\n  return map( ref => args ? ref.endAt(args) : ref );\n}\n\nexport function get<T extends DocumentData>(options?: GetOptions): OperatorFunction<QueryRef<T>, QuerySnapshot<T>> {\n  return switchMap( ref => defer( () => ref.get(options) ) );\n}\n\nexport function docs<T extends DocumentData>(): OperatorFunction<QuerySnapshot<T>, QueryDocumentSnapshot<T>[]> {\n  return map( snap => snap.docs );\n}\n\nexport function snap<T extends DocumentData>(options?: GetOptions): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  return pipe( get(options), docs() );\n}\n\nexport function onSnapshot<T>(zone: NgZone, options?: ListenOptions): OperatorFunction<QueryRef<T>, QuerySnapshot<T>> {\n  return switchMap( ref => fromRef<T>(ref, zone, options) );\n}\n\nexport function docChanges<T extends DocumentData>(options?: ListenOptions, ...changeTypes: DocumentChangeType[]): OperatorFunction<QuerySnapshot<T>, DocumentChange<T>[]> {\n  \n  return map( snap => {\n    \n    const changes = snap.docChanges(options);\n\n    console.log('Changes', changes);\n\n    return (!changeTypes || changeTypes.length <= 0) ? changes : changes.filter( change => changeTypes.indexOf(change.type) >= 0 );\n  });\n}\n\nexport function combineChanges<T extends DocumentData>(seed: QueryDocumentSnapshot<T>[] = []): OperatorFunction<DocumentChange<T>[], QueryDocumentSnapshot<T>[]> {\n\n  return scan( (combined, changes) => combineDocumentChanges(combined, changes), seed );\n}\n\nexport function stream<T extends DocumentData>(zone: NgZone, ...changeTypes: DocumentChangeType[]): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n\n  // When no changeTypes are defined...\n  if(!changeTypes || changeTypes.length <= 0) {\n    //...listens to snapshot changes and returns the resulting query document array\n    return pipe( onSnapshot<T>(zone), docs() );\n  }\n\n  // ...scans for the requested document changes otherwise\n  return pipe( \n    // Listens for document changes\n    onSnapshot<T>(zone), docChanges<T>(undefined, ...changeTypes), \n    // Filters out unwanted changed but the first emission to keep consistent with untyped stream call\n    filter( (changes, index) => index === 0 || changes.length > 0 ),\n    // Combines the latest changes with the previous snapshots\n    combineChanges()\n  );\n}\n\nexport function data<T extends DocumentData>(): OperatorFunction<QueryDocumentSnapshot<T>[], T[]> {\n  return source => source.pipe( map( docs => docs.map( doc => mapSnaphotData(doc) ) ) );\n}\n\nexport function page<T extends DocumentData>(pager: Observable<number>, after?: DocumentSnapshot<T>): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  // Trggers loading with the pager observable\n  return source => pager.pipe(\n    // Accumulates the pages\n    mergeScan( (internal, size) => source.pipe( \n      // Loads the next page\n      limit(size), startAfter(internal.cursor), snap(),\n      // Tracks the result\n      map( (results: QueryDocumentSnapshot<T>[]) => {\n\n        return {\n          // Concatenates the last page \n          results: internal.results.concat(results),\n          // Keeps the last snapshot as a cursor for the next page\n          cursor: results[results.length - 1],\n          // Checks when done\n          done: results.length < size\n        };\n      // Starts empty\n      })), { results: [], cursor: after, done: false }\n    ),\n    // Completes when done\n    takeWhile(internal => !internal.done, true),\n    // Plucks the document snapshots\n    pluck('results')\n  );\n}\n\nexport function pageReverse<T extends DocumentData>(pager: Observable<number>, before?: DocumentSnapshot<T>): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  // Trggers loading with the pager observable\n  return source => pager.pipe(\n    // Accumulates the pages\n    mergeScan( (internal, size) => source.pipe( \n      // Loads the previous page\n      limitToLast(size), endBefore(internal.cursor), snap(),\n      // Tracks the result\n      map( (results: QueryDocumentSnapshot<T>[]) => {\n\n        return {\n          // Concatenates the last page \n          results: results.concat(internal.results),\n          // Keeps the first snapshot as a cursor for the next page\n          cursor: results[0],\n          // Checks when done\n          done: results.length < size\n        };\n      // Starts empty\n      })), { results: [], cursor: before, done: false }\n    ),\n    // Completes when done\n    takeWhile(internal => !internal.done, true),\n    // Plucks the document snapshots\n    pluck('results')\n  );\n}\n\nexport function fifo<T extends DocumentData>(zone: NgZone, waitForPendingWrites?: boolean): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n\n  return source => source.pipe( \n\n    snap(), map( snaps => ({ cursor: snaps[snaps.length - 1], snaps })),\n\n    expand( ({ cursor, snaps }) => source.pipe(\n      \n      startAfter( cursor ),\n      \n      onSnapshot(zone, { includeMetadataChanges: waitForPendingWrites }), \n\n      filter( snap => snap.size > 0 && !(waitForPendingWrites && snap.metadata.hasPendingWrites) ),\n      \n      docs(), take(1),\n\n      map( latest => ({ cursor: latest[snaps.length - 1], snaps: snaps.concat(latest) }) )\n    )),\n\n    pluck('snaps'),\n  );\n}\n\nexport function stack<T extends DocumentData>(zone: NgZone, waitForPendingWrites?: boolean): OperatorFunction<QueryRef<T>, QueryDocumentSnapshot<T>[]> {\n  \n  return source => source.pipe( \n\n    snap(), map( snaps => ({ cursor: snaps[0], snaps })),\n\n    expand( ({ cursor, snaps }) => source.pipe(\n      \n      endBefore( cursor ),\n\n      onSnapshot(zone, { includeMetadataChanges: waitForPendingWrites }), \n\n      filter( snap => snap.size > 0 && !(waitForPendingWrites && snap.metadata.hasPendingWrites) ),\n      \n      docs(), take(1),\n\n      map( latest => ({ cursor: latest[0], snaps: latest.concat(snaps) }) )\n    )),\n\n    pluck('snaps'),\n  );\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, NavigationExtras } from '@angular/router';\nimport { DOCUMENT } from '@angular/common'; \n\nexport interface RedirectionExtras extends NavigationExtras {\n  target?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RedirectService implements CanActivate {\n\n  constructor(@Inject(DOCUMENT) readonly document: Document, readonly router: Router) { }\n\n  /** The Window object from Document defaultView */\n  get window(): Window { return this.document.defaultView || window; }\n\n  /** Redirects instantly to the external link without the mediation of the router */\n  public redirect(url: string, target: string = '_blank'): Promise<boolean> {\n\n    return new Promise<boolean>( (resolve, reject) => {\n\n        try { resolve(!!this.window.open(url, target)); }\n        catch(e) { reject(e); }\n    });\n  }\n\n  /** Returns true if the given url looks external */\n  public external(url: string): boolean {\n    return /^http(?:s)?:\\/{2}\\S+$/.test(url);\n  }\n\n  /** Parses the given url for extenral redirection */\n  private externalUrl(url: string, target?: string): string {\n    // Builds the redirection url for canActivate() to handle it\n    return \"redirect?url=\" + url + (!!target ? \"&=\" + target : '');\n  }\n\n  /** Parses the given url for internal routing */\n  private internalUrl(url: string): string {\n    // Handles '#' anchors and '.' relative urls by prepending the current url from the router\n    return url && url.startsWith('#') ? (this.router.url.replace(/#.*$/, '') + url) : (url && url.replace(/^\\./, this.router.url));\n  }\n\n  /** Navigates to the given url, redirecting when necessary \n   * @param url An absolute URL. The function does not apply any delta to the current URL. \n   * When starting with 'http(s)://' triggers the external redirection. \n   * @param extras (optional). An object containing properties that modify the navigation strategy. \n   * The function ignores any properties that would change the provided URL. \n   */\n  public navigate(url: string, extras?: RedirectionExtras): Promise<boolean> {\n\n    // Compose the url link for redirection\n    const link = this.external(url) ? this.externalUrl(url, extras?.target) : this.internalUrl(url);\n\n    // Navigates with the router activating the redirection guard\n    return this.router.navigateByUrl(link, extras);\n  }\n\n  canActivate(route: ActivatedRouteSnapshot) {\n\n    // Gets the url query parameter, if any\n    const url = route.queryParamMap.get('url');\n\n    // If the url matches an external link, redirects stopping the route activation\n    if( this.external(url) ) { \n\n      // Verifies whenever the external url may be redirected internally (since the origin matches)\n      const rx = new RegExp(`^${this.window.location.origin}`);\n      if( url.match(rx) ) { return this.router.parseUrl( url.replace(rx, '') ); }\n\n      // Gets the optional target, when specified\n      const target = route.queryParamMap.get('target');\n      // Jumps to the external resource\n      return this.redirect(url, target).then(() => false); \n    }\n    // Goes on activating the requested route, most likely to NotFound\n    return true;\n  }\n}","import { Component, OnChanges, SimpleChanges, Input, ViewEncapsulation } from '@angular/core';\nimport { EmojiUtils } from '@wizdm/emoji/utils';\nimport { EmojiMode } from '@wizdm/emoji/utils';\n\nexport interface emSegment {\n  type: 'text'|'emoji';\n  content: string;\n}\n\n@Component({\n  selector: '[wm-emoji-text]',\n  templateUrl: './emoji-text.component.html',\n  styleUrls: ['./emoji-text.component.scss'],\n  host: { \"class\": \"wm-emoji-text\" },\n  encapsulation: ViewEncapsulation.None\n})\nexport class EmojiText implements OnChanges {\n\n  // Internal value\n  protected _value: string;\n\n  readonly segments: emSegment[] = [];\n  \n  constructor(readonly utils: EmojiUtils) { \n    // Setup the default mode\n    this.mode = undefined;\n  }\n\n  /** Plain text source input */\n  @Input('wm-emoji-text') set value(value: string) { this._value = value; }\n  get value(): string { return this._value || ''; }\n    \n  /** Mode flag:\n   * 'web' renders emoji as images\n   * 'native' renders the text as it is relying on the OS native support\n   * 'auto' detects the availability of native support and chooses accordingly\n   */\n  @Input() mode: EmojiMode;\n\n  /** Behavior flag either returning 'web' or 'native' depending on the current behavior */\n  get behavior(): Exclude<EmojiMode, 'auto'> { \n    // Returns the best suitable emoji mode according to the global config\n    return this.utils.emojiMode(this.mode); \n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    \n    // Compiles the source text into segments\n    (changes.value || changes.mode) && this.compile(this.value); \n  }\n\n  // Tracking function to render the segments by content preventing re-rendering segments where content is unchanged\n  public trackByFn(index: number, item: emSegment) {\n    return item.type + item.content;\n  }\n\n  /** Compiles the source text into an array of eather text or emoji segments */\n  protected compile(source: string): number {\n    // Resets the segments array\n    this.segments.splice(0);\n    // Skips null or emptiy sources\n    if(!source) { return 0; }\n    // Short-circuit to the source text when native behavior is requested\n    if(this.behavior === 'native') {\n      return this.segments.push({ type: 'text', content: source });\n    }\n    // Resets the start index\n    let start = 0;\n    // Parses the source text for emoji unicode sequences\n    this.utils.parseEmojiCodes(source, (match, index) => {\n       // Pushes the text preceeding the match \n      if(index > start){ \n        const content = source.substring(start, index);\n        this.segments.push({ type: \"text\", content });   \n      }\n      // Pushes the emoji sequence\n      this.segments.push({ type: 'emoji', content: match });\n      // Keeps track of the next beginning for the eventual plain text between this match and the next\n      start = index + match.length;\n    });\n    // Appends the final text chunk \n    if(start < source.length) {\n      const content = source.substring(start, source.length);\n      this.segments.push({ type: \"text\", content });\n    }\n\n    return this.segments.length;\n  }\n}","<!-- Renders the compiled segments -->\n<ng-container *ngFor=\"let segment of segments; trackBy: trackByFn\">\n\n  <ng-container [ngSwitch]=\"segment.type\">\n    <!-- Renders the emoji as an image -->\n    <img *ngSwitchCase=\"'emoji'\" draggable=\"false\" [wm-emoji]=\"segment.content\" />\n    <!-- Renders the text node -->\n    <ng-container *ngSwitchDefault>{{ segment.content || '\\n' }}</ng-container>\n\n  </ng-container>\n\n</ng-container>","\r\n// @see {https://www.geojs.io/}\r\nexport const GEO_JS_IO = 'https://get.geojs.io/v1/ip/geo/{{ip}}.json';\r\n\r\nexport interface GeoJsIO {\r\n  accuracy: number;\r\n  area_code: string;\r\n  asn: number;\r\n  continent_code: string;\r\n  country: string;\r\n  country_code: string;\r\n  country_code3: string;\r\n  ip: string;\r\n  latitude: string;\r\n  longitude: string;\r\n  organization: string;\r\n  organization_name: string;\r\n};","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { NgModule, ModuleWithProviders, Optional, Inject } from '@angular/core';\nimport { DatabaseService, PERSISTENCE_SETTINGS } from './database.service';\nimport { PersistenceSettings } from './database-application';\nimport { APP, FirebaseApp } from '@wizdm/connect';\nimport 'firebase/firestore';\n\n@NgModule({\n  providers: [ DatabaseService ]\n})\nexport class DatabaseModule {\n\n  constructor(@Optional() @Inject(APP) app: FirebaseApp) {\n\n    if(!app) { throw new Error('ConnectModule initialization failed. Make sure to call ConnectModule.init() prior to use any of the feature packages.'); }\n  }\n\n  static enablePersistance(settings: PersistenceSettings): ModuleWithProviders<DatabaseModule> {\n    return {\n      ngModule: DatabaseModule,\n      providers: [ { provide: PERSISTENCE_SETTINGS, useValue: settings } ]\n    }\n  }\n}"]}