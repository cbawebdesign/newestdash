!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Wpvj:function(i,r,c){"use strict";c.r(r),c.d(r,"PostModule",function(){return oe});var a=c("SVse"),l=c("s7LF"),u=c("iELJ"),s=c("eYWy"),f=c("eyIN"),d=c("lWmb"),b=c("7KAL"),p=c("o4Yh"),m=c("0zyZ"),g=c("8LU1"),y=c("lPMd"),h=c("8Y7J"),v=c("/q54"),w=c("Qfjl"),x=c("VDRc"),P=c("h0Qx"),_=c("BSbQ"),O=c("a/j4"),C=c("iInd"),j=c("0qK6"),k=c("Dxy4"),M=c("Q2Ze"),W=c("e6WT"),V=c("nGdH"),L=c("8sFK"),D=c("H7fF"),I=c("owKJ"),K=c("XtK9");function R(e,t){if(1&e){var n=h.Xb();h.Wb(0,"mat-form-field",19),h.Rb(1,"textarea",20),h.Wb(2,"wm-icon",21),h.ec("mousedown",function(){h.yc(n);var e=h.ic(2);return!e.disabled&&e.toggleEmojiKeys()}),h.Vb(),h.Vb()}if(2&e){var o=h.ic().$implicit;h.Db(2),h.pc("icon",null==o.composer.emoji?null:o.composer.emoji.icon)}}function F(e,t){if(1&e){var n=h.Xb();h.Wb(0,"mat-form-field",22),h.Rb(1,"wm-emoji-input",23),h.Wb(2,"wm-icon",21),h.ec("mousedown",function(){h.yc(n);var e=h.ic(2);return!e.disabled&&e.toggleEmojiKeys()}),h.Vb(),h.Vb()}if(2&e){var o=h.ic().$implicit;h.Db(2),h.pc("icon",null==o.composer.emoji?null:o.composer.emoji.icon)}}function E(e,t){if(1&e){var n=h.Xb();h.Ub(0),h.Wb(1,"div",1),h.Wb(2,"div",2),h.Wb(3,"h4",3),h.Ic(4),h.Vb(),h.Vb(),h.Wb(5,"div",4),h.Wb(6,"wm-icon",5),h.ec("click",function(){return h.yc(n),h.ic().closePostDialog()}),h.Vb(),h.Vb(),h.Vb(),h.Rb(7,"mat-divider"),h.Wb(8,"div",6),h.Wb(9,"div",7),h.Rb(10,"wm-avatar",8),h.Vb(),h.Wb(11,"div",9),h.Wb(12,"a",10),h.Ic(13),h.Vb(),h.Wb(14,"a",10),h.Ic(15,"Public"),h.Vb(),h.Vb(),h.Vb(),h.Wb(16,"form",11),h.Wb(17,"div",12),h.Gc(18,R,3,1,"mat-form-field",13),h.Gc(19,F,3,1,"ng-template",null,14,h.Hc),h.Vb(),h.Wb(21,"mat-expansion-panel",15),h.Wb(22,"wm-emoji-keyboard",16),h.ec("keyPressed",function(e){return h.yc(n),h.ic().typein(e)}),h.Vb(),h.Vb(),h.Wb(23,"mat-dialog-actions",17),h.Wb(24,"button",18),h.ec("click",function(){return h.yc(n),h.ic().savePost()}),h.Ic(25),h.Vb(),h.Vb(),h.Vb(),h.Tb()}if(2&e){var o=t.$implicit,i=h.vc(20),r=h.ic();h.Db(4),h.Jc((null==o.addpost.header?null:o.addpost.header.title)||"Create Post"),h.Db(2),h.pc("icon",null==o.addpost.header?null:o.addpost.header.icon),h.Db(4),h.pc("src",r.userImage),h.Db(3),h.Kc("",r.userFirstName," "),h.Db(3),h.pc("formGroup",r.postForm),h.Db(2),h.pc("ngIf","native"===r.mode)("ngIfElse",i),h.Db(4),h.pc("favorites",r.keys)("mode",r.mode),h.Db(2),h.pc("mat-dialog-close",!0)("color","primary"),h.Db(1),h.Kc("",(null==o.addpost?null:o.addpost.createpost)||"Post"," ")}}var Q,A,N=((Q=function(i){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(s,i);var r,c,a,u=o(s);function s(t,n,o,i,r,c){var a;return e(this,s),(a=u.call(this,t,"feed")).matDialogRef=o,a.utils=i,a.media=r,a.user=c,a._disabled=!1,a}return r=s,(c=[{key:"mobile",get:function(){return this.media.isActive("xs")}},{key:"desktop",get:function(){return!this.mobile}},{key:"disabled",get:function(){return this._disabled},set:function(e){var t;(this._disabled=Object(g.c)(e))&&(null===(t=this.emojiKeysPanel)||void 0===t||t.close())}},{key:"mode",get:function(){return this.utils.emojiMode()}},{key:"toggleEmojiKeys",value:function(){return this.emojiKeysPanel.toggle(),!1}},{key:"typein",value:function(e){var t;return null===(t=this.typeinAdapter)||void 0===t||t.typein(e),!1}},{key:"userImage",get:function(){return this.user.data.photo||""}},{key:"userFirstName",get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.user)||void 0===e?void 0:e.data)||void 0===t?void 0:t.userName)||void 0===n?void 0:n.split("-").slice().pop())||""}},{key:"savePost",value:function(){var e={text:this.postForm.value.text,tags:["public"]};this.db.collection("users").document(this.user.uid).collection("feed").add(Object.assign({},e))}},{key:"closePostDialog",value:function(){return this.matDialogRef.close(null)}},{key:"ngOnInit",value:function(){this.postForm=new l.g({text:new l.e("")})}}])&&t(r.prototype,c),a&&t(r,a),s}(y.b)).\u0275fac=function(e){return new(e||Q)(h.Qb(s.b),h.Qb(u.a),h.Qb(u.g),h.Qb(f.c),h.Qb(v.g),h.Qb(d.b))},Q.\u0275cmp=h.Kb({type:Q,selectors:[["wm-post-dlg"]],viewQuery:function(e,t){var n;1&e&&(h.Lc(b.e,1),h.Lc(p.c,1),h.Lc(m.b,1)),2&e&&(h.uc(n=h.fc())&&(t.scroller=n.first),h.uc(n=h.fc())&&(t.emojiKeysPanel=n.first),h.uc(n=h.fc())&&(t.typeinAdapter=n.first))},features:[h.Ab],decls:1,vars:1,consts:[[4,"wmContent","wmContentSelect"],["fxLayout","row","fxLayoutAlign","space-between center",1,"dlg-header"],[1,"dlg-header__title"],["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","end start",1,"dlg-header__close"],[3,"icon","click"],["fxLayout","row","fxLayoutGap","10px",1,"dlg-subheader"],[1,"dlg-avatar"],[3,"src"],["fxLayout","column"],[1,"mat-small",3,"routerLink"],["fxLayout","column",3,"formGroup"],["fxLayout","row","fxLayoutAlign","center end"],["fxFlex","1 1 auto","appearance","legacy",4,"ngIf","ngIfElse"],["webMode",""],["hideToggle","",1,"mat-elevation-z0"],[3,"favorites","mode","keyPressed"],["align","center"],["cdkFocusInitial","","mat-button","",1,"post__btn",3,"mat-dialog-close","color","click"],["fxFlex","1 1 auto","appearance","legacy"],["matInput","","typein","","formControlName","text","cdkTextareaAutosize","","cdkAutosizeMinRows","1"],["inline","","matSuffix","",1,"tools",3,"icon","mousedown"],["appearance","legacy","fxFlex","1 1 auto"],["typein","","formControlName","text","matEmoji",""]],template:function(e,t){1&e&&h.Gc(0,E,26,12,"ng-container",0),2&e&&h.pc("wmContentSelect","explorer-feed-post")},directives:[w.a,x.e,x.d,u.h,P.a,_.a,x.f,O.a,C.j,l.u,l.n,l.h,a.m,p.c,j.a,u.c,k.b,u.d,M.c,x.b,W.b,V.a,l.c,L.b,l.m,l.f,M.i,D.a,I.a,K.a],styles:["[_nghost-%COMP%]{position:relative;display:block}[_nghost-%COMP%]   .dlg-subheader[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:10px}[_nghost-%COMP%]   .dlg-header__close[_ngcontent-%COMP%]   wm-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .tools[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .tools[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .dlg-avatar[_ngcontent-%COMP%]{position:relative;height:48px}[_nghost-%COMP%]   .wm-emoji-keyboard[_ngcontent-%COMP%]{flex-direction:column!important}[_nghost-%COMP%]   .wm-emoji-keyboard[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{min-width:40px}[_nghost-%COMP%]   wm-avatar[_ngcontent-%COMP%]{width:48px;height:48px;line-height:48px;cursor:pointer}[_nghost-%COMP%]   .post__btn.mat-button[_ngcontent-%COMP%]{width:100%!important}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{line-height:1.5em}"]}),Q),S=c("g7MM"),G=c("u9T3"),J=c("txmD"),T=c("uaks"),X=c("fi6C"),q=c("kNiW"),z=(c("omvX"),c("UhP/")),U=((A=function t(){e(this,t)}).\u0275mod=h.Ob({type:A}),A.\u0275inj=h.Nb({factory:function(e){return new(e||A)},imports:[[z.j],z.j]}),A),Y=c("Entk"),B=c("UYqx"),H=c("KRLS"),$=c("glvt"),Z=c("W6g8"),ee=c("SqCe");c("J3Me");var te,ne=[{path:"",content:"explorer-feed-post",component:N,data:{dialogConfig:{maxWidth:"100%"}}}],oe=((te=function t(){e(this,t)}).\u0275mod=h.Ob({type:te}),te.\u0275inj=h.Nb({factory:function(e){return new(e||te)},providers:[],imports:[[a.c,l.r,G.a,u.f,U,M.e,W.c,p.b,ee.e,k.c,B.b,H.a,$.a,Z.a,m.a,Y.a,J.a,T.a,X.a,q.a,S.e.forChild(ne)]]}),te)}}])}();