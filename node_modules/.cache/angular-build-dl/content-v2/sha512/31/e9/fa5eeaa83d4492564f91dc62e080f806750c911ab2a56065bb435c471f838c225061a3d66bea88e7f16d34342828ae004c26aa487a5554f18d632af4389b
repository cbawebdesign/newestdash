{"version":3,"sources":["./elements/src/lib/highlight/highlight.module.ts","./wizdm/src/app/pages/explore/people/people.module.ts","./wizdm/src/app/pages/explore/people/people.component.ts","./wizdm/src/app/pages/explore/people/people.component.html","./elements/src/lib/highlight/highlight.component.ts","./elements/src/lib/highlight/highlight.component.html","./elements/src/lib/highlight/index.ts"],"names":[],"mappings":"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","file":"people-people-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HighlightComponent } from './highlight.component';\n\n@NgModule({\n  imports: [ CommonModule ],\n  declarations: [ HighlightComponent ],\n  exports: [ HighlightComponent ]\n})\nexport class HighlightModule { }","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { A11yModule } from '@angular/cdk/a11y';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { GtagModule } from '@wizdm/gtag';\nimport { ReadmeModule } from '@wizdm/readme';\nimport { IconModule } from '@wizdm/elements/icon';\nimport { AvatarModule } from '@wizdm/elements/avatar';\nimport { ButtonChangerModule } from '@wizdm/elements/button';\nimport { HighlightModule } from '@wizdm/elements/highlight';\nimport { ActionbarModule } from 'app/navigator/actionbar';\nimport { ContentRouterModule, RoutesWithContent } from '@wizdm/content';\nimport { PeopleComponent } from './people.component';\n\nconst routes: RoutesWithContent = [{\n\n  path: '',\n  content: 'explore-people',\n  component: PeopleComponent\n\n}];\n\n@NgModule({\n  declarations: [ PeopleComponent ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    FlexLayoutModule,\n    A11yModule,\n    MatDividerModule,\n    MatIconModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatListModule,\n    GtagModule,\n    ReadmeModule,\n    IconModule,\n    AvatarModule,\n    ButtonChangerModule,\n    HighlightModule,\n    //ActionbarModule,\n    ContentRouterModule.forChild(routes)\n  ]\n})\nexport class PeopleModule { }\n","import { tap, map, filter, switchMap, distinctUntilChanged, startWith, shareReplay } from 'rxjs/operators';\nimport { where, orderBy, limit, snap, page, data } from '@wizdm/connect/database/collection/operators';\nimport { DatabaseCollection } from '@wizdm/connect/database/collection';\nimport { DatabaseService } from '@wizdm/connect/database';\nimport { ScrollObservable } from 'app/utils/scrolling';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { UserData } from 'app/utils/user';\nimport { autocomplete } from '@wizdm/rxjs';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'wm-people',\n  templateUrl: './people.component.html',\n  styleUrls: ['./people.component.scss']\n})\nexport class PeopleComponent extends DatabaseCollection<UserData> {\n\n  /** Name to search for */\n  public name: string = '';\n\n  /** RegExp to highlight the search results */\n  public highlight: RegExp;\n\n  /** Searching observables */\n  readonly search$ = new BehaviorSubject<string>('');\n  readonly items$: Observable<UserData[]>;\n\n  private _loading$ = new BehaviorSubject<number>(0);\n  readonly loading$: Observable<number[]>;\n\n  // Tracks the result list by user id\n  public trackById(index: number, item: UserData) { return item.id; }\n\n  constructor(db: DatabaseService, scroll: ScrollObservable) {\n\n    super(db, 'users');\n\n    // Loading observable returning the array of skeleton items to display during loading\n    this.loading$ = this._loading$.pipe( map( length => Array(length).fill(0) ) );\n\n    // Paging observalbe to load the next page while scrolling\n    const more$ = scroll.pipe( \n      // Triggers the next page when approaching the bottom\n      map( scroll => scroll.bottom < 250 ),\n      // Filters for truthfull changes\n      startWith(true), distinctUntilChanged(), filter( value => value ),\n      // Shows the loading items\n      tap( () => this._loading$.next(20) ),\n      // Asks for the next 20 contacts\n      map( () => 20 )\n    );\n\n    // All items paged result observable. \n    const paged$ = this.pipe( \n      // Pages 20 items at a time\n      orderBy('fullName'), page(more$), data(), \n      // Hides the loading items when done\n      tap( () => this._loading$.next(0) ),\n      // Buffers the results to avoid reloading after a search\n      shareReplay(1)\n    );\n\n    // Searching term observable\n    const term$ = this.search$.pipe(\n      // Computes the search term\n      map( name => name && name.toLowerCase().replace(/^\\s+|\\s+$/g,'') ),\n      // Debounces the term for 500ms\n      autocomplete(500),\n      // Filters for real changes\n      distinctUntilChanged(),\n      // Updates the RegExp to highlight the results\n      tap( term => this.highlight = new RegExp(`\\\\b${term||'\\\\B'}`, 'ig') ),\n      // Shows some loading item\n      tap( term => this._loading$.next(term.length === 1 ? 10 : 0 ) )\n    );\n\n    // Searched items result obserable\n    const search$ = (term: string) => this.pipe( \n      // Queries for up to 20 items containing the term \n      orderBy('fullName'), where('searchIndex', 'array-contains', term), limit(10), snap(), data(),\n      // Hides the loading items when done\n      tap(() => this._loading$.next(0) )\n    );\n\n    // Overall items combined\n    this.items$ = term$.pipe( switchMap( term => term ? search$(term) : paged$ ) );\n  }\n}\n","\n<!-- Localized content -->\n<ng-container *wmContent=\"let msgs select 'explore-people'\" gtag=\"people\">\n\n  <!-- User's search form -->\n  <form fxLayout=\"column\" fxLayoutAlign=\"center center\" fxLayoutGap=\"16px\" autocomplete=\"off\" cdkTrapFocus cdkTrapFocusAutoCapture>\n\n    <mat-form-field>\n\n      <mat-label>{{ msgs.search?.label || 'Search' }}</mat-label>\n      \n      <wm-icon matPrefix [icon]=\"msgs.search?.icon || 'search'\"></wm-icon>\n      \n      <input matInput name=\"name\" [ngModel]=\"name\" (ngModelChange)=\"search$.next(name = $event)\" cdkFocusInitial #formName=\"ngModel\">\n\n      <mat-hint>{{ msgs.search?.hint || 'Type the name to search for' }}</mat-hint>\n  \n    </mat-form-field>\n\n  </form>\n\n  <!-- Search result list -->\n  <mat-action-list>\n\n    <mat-list-item *ngFor=\"let item of items$ | async; trackBy: trackById\" [routerLink]=\"['/', '@' + item.userName]\">\n\n      <wm-avatar matListAvatar [src]=\"item.photo\" color=\"primary\"></wm-avatar>\n\n      <h3 matLine [wm-highlight]=\"item.fullName || item.name\" [pattern]=\"highlight\" color=\"accent\"></h3>\n      \n      <p matLine>{{ item.bio || item.motto }}</p>\n\n    </mat-list-item>\n\n    <!-- Loading skeleton items -->\n    <mat-list-item *ngFor=\"let item of loading$ | async\">\n  \n      <wm-avatar matListAvatar class=\"skeleton-loading\"></wm-avatar>\n      \n      <h3 matLine class=\"skeleton-loading text\"><span></span></h3>\n      \n      <p matLine class=\"skeleton-loading text\"><span></span></p>\n  \n    </mat-list-item>\n    \n  </mat-action-list>\n  \n</ng-container>\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { ThemePalette } from '@angular/material/core'\n\n@Component({\n  selector: '[wm-highlight]',\n  templateUrl: './highlight.component.html',\n  host: { 'class': 'wm-highlight' }\n})\nexport class HighlightComponent implements OnChanges {\n\n  readonly tokens: (string|{ highlight: boolean, content: string })[] = [];\n  private rx: RegExp;\n\n  @Input() pattern: string|RegExp;\n\n  @Input('wm-highlight') source: string;\n\n  @Input() color: ThemePalette;\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if(!!changes.pattern) {\n\n      this.rx = null;\n\n      if(this.pattern instanceof RegExp) { \n        this.rx = this.pattern; \n      }\n\n      if(!!this.pattern && typeof(this.pattern) === 'string') { \n        // Builds a default regex to match the input string pattern\n        // at every word boundary case insensitive\n        this.rx = new RegExp(`\\\\b${this.pattern||'\\\\B'}`, 'ig'); \n      }\n    }\n\n    if(!!changes.source || !!changes.pattern) {\n     \n     this.compile(this.source, this.rx);\n    }\n  } \n \n  private compile(source: string, rx: RegExp) {\n\n    // Resets the segments array\n    this.tokens.splice(0);\n\n    // Skips null or emptiÃ¬y sources\n    if(!source) { return; }\n\n    if(!rx) { this.tokens.push(source); return; }\n\n    rx.lastIndex = 0;\n\n    let start = 0; let match;\n    while(match = rx.exec(source)) {\n\n      // Prevents the zero-length match infinite loop for all browsers\n      if(match.index == rx.lastIndex) { rx.lastIndex++ };\n\n      // Pushes the text preceeding a match \n      if(match.index > start) {\n        const text = source.substring(start, match.index); \n        this.tokens.push( text );   \n      }\n\n      const content = match[0];\n      this.tokens.push({ highlight: true, content });\n      \n      // Moves to the next text segment\n      start = match.index + match[0].length;\n    }\n\n    // Appends the final text chunk \n    if(rx.lastIndex < source.length) {\n      const text = source.substring(start, source.length);\n      this.tokens.push( text );\n    }\n  }\n}","<ng-content *ngIf=\"tokens.length === 0\"></ng-content>\n\n<ng-container *ngFor=\"let token of tokens\">\n\n  <span [attr.color]=\"color\" *ngIf=\"token.highlight; else plainText\">{{ token.content }}</span>\n\n  <ng-template #plainText>{{ token }}</ng-template>\n\n</ng-container>","export * from './highlight.module';"],"sourceRoot":"webpack:///"}